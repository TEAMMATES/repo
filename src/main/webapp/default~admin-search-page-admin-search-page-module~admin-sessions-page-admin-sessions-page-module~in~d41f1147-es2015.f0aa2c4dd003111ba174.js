(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{MbNv:function(e,t,s){"use strict";s.d(t,"a",(function(){return D}));var i=s("lJxs"),n=s("ctOY"),o=s("vMQM"),r=s("R8lv"),a=s("fXoL"),u=s("mW1j"),c=s("jyEW"),p=s("PTBt");class h{getQuestionCsvHeaders(){return["Feedback"]}getMissingResponseCsvAnswers(){return[["No Response"]]}populateQuestionStatistics(e,t){e.responses=t.allResponses.filter(e=>!e.isMissingResponse).map(e=>e),e.question=t.feedbackQuestion.questionDetails,e.recipientType=t.feedbackQuestion.recipientType,e.isStudent=!1}}class m extends h{constructor(e){super(),this.numOfConstSumOptions=2,this.constSumOptions=["",""],this.distributeToRecipients=!1,this.pointsPerOption=!1,this.forceUnevenDistribution=!1,this.distributePointsFor=r.b.NONE,this.points=100,this.questionText="",this.questionType=r.d.CONSTSUM_OPTIONS,this.numOfConstSumOptions=e.numOfConstSumOptions,this.constSumOptions=e.constSumOptions,this.pointsPerOption=e.pointsPerOption,this.forceUnevenDistribution=e.forceUnevenDistribution,this.distributePointsFor=e.distributePointsFor,this.points=e.points,this.questionText=e.questionText}getQuestionCsvHeaders(){return["Feedback",...this.constSumOptions]}getQuestionCsvStats(e){const t=[],s=new p.a(this);return this.populateQuestionStatistics(s,e),0===s.responses.length?[]:(s.calculateStatistics(),t.push(["Option","Total Points","Average Points","Points Received"]),Object.keys(s.pointsPerOption).sort().forEach(e=>{t.push([e,String(s.totalPointsPerOption[e]),String(s.averagePointsPerOption[e]),...s.pointsPerOption[e].map(String)])}),t)}isParticipantCommentsOnResponsesAllowed(){return!1}isInstructorCommentsOnResponsesAllowed(){return!0}}var l=s("DL64");class S extends h{constructor(e){super(),this.numOfConstSumOptions=0,this.constSumOptions=[],this.distributeToRecipients=!0,this.pointsPerOption=!1,this.forceUnevenDistribution=!1,this.distributePointsFor=r.b.NONE,this.points=100,this.questionText="",this.questionType=r.d.CONSTSUM_RECIPIENTS,this.numOfConstSumOptions=e.numOfConstSumOptions,this.constSumOptions=e.constSumOptions,this.pointsPerOption=e.pointsPerOption,this.forceUnevenDistribution=e.forceUnevenDistribution,this.distributePointsFor=e.distributePointsFor,this.points=e.points,this.questionText=e.questionText}getQuestionCsvStats(e){const t=[],s=new l.a(this);return this.populateQuestionStatistics(s,e),0===s.responses.length?[]:(s.calculateStatistics(),t.push(["Team","Recipient","Total Points","Average Points","Points Received"]),Object.keys(s.pointsPerOption).sort().forEach(e=>{t.push([s.emailToTeamName[e],s.emailToName[e],String(s.totalPointsPerOption[e]),String(s.averagePointsPerOption[e]),...s.pointsPerOption[e].map(String)])}),t)}isParticipantCommentsOnResponsesAllowed(){return!1}isInstructorCommentsOnResponsesAllowed(){return!0}}var d=s("768o"),T=s("RmXC");class R extends h{constructor(e){super(),this.isNotSureAllowed=!0,this.questionText="",this.questionType=r.d.CONTRIB,this.isNotSureAllowed=e.isNotSureAllowed,this.questionText=e.questionText}getQuestionCsvStats(e){const t=[],s=new d.a(this);if(this.populateQuestionStatistics(s,e),s.statistics=e.questionStatistics,s.parseStatistics(),!s.questionOverallStatistics||!s.questionOverallStatistics)return[];t.push(['In the points given below, an equal share is equal to 100 points. e.g. 80 means "Equal share - 20%" and 110 means "Equal share + 10%".']),t.push(["Claimed Contribution (CC) = the contribution claimed by the student."]),t.push(["Perceived Contribution (PC) = the average value of student's contribution as perceived by the team members."]),t.push(["Team","Name","Email","CC","PC","Ratings Received"]);const i=[];for(const n of Object.keys(s.emailToName)){const e=s.emailToTeamName[n],t=s.emailToName[n],o=this.getContributionPointToText(s.questionOverallStatistics.results[n].claimed),r=this.getContributionPointToText(s.questionOverallStatistics.results[n].perceived),a=s.questionOverallStatistics.results[n].perceivedOthers.concat().sort((e,t)=>t-e).map(this.getContributionPointToText);0===a.length&&(a[0]="N/A"),i.push({teamName:e,name:t,email:n,claimedStr:o,perceivedStr:r,ratingsReceivedStr:a})}return i.sort((e,t)=>e.teamName.localeCompare(t.teamName)||e.name.localeCompare(t.name)),i.forEach(e=>{t.push([e.teamName,e.name,e.email,e.claimedStr,e.perceivedStr,...e.ratingsReceivedStr])}),t}getContributionPointToText(e){return e===T.d?"Not Sure":e===T.c?"Not Submitted":e===T.b?"N/A":String(e)}isParticipantCommentsOnResponsesAllowed(){return!1}isInstructorCommentsOnResponsesAllowed(){return!1}}var g=s("jA8U");class O extends h{getQuestionCsvStatsFrom(e,t){const s=[];return s.push(t?["Choice","Weight","Response Count","Percentage (%)","Weighted Percentage (%)"]:["Choice","Response Count","Percentage (%)"]),Object.keys(e.answerFrequency).sort().forEach(i=>{s.push(t?[i,String(e.weightPerOption[i]),String(e.answerFrequency[i]),String(e.percentagePerOption[i]),String(e.weightedPercentagePerOption[i])]:[i,String(e.answerFrequency[i]),String(e.percentagePerOption[i])])}),t?(s.push([],["Per Recipient Statistics"]),s.push(["Team","Recipient Name",...Object.keys(e.weightPerOption).map(t=>`${t} [${e.weightPerOption[t]}]`),"Total","Average"]),Object.keys(e.perRecipientResponses).sort().forEach(t=>{const i=e.perRecipientResponses[t];s.push([i.recipientTeam,i.recipient,...Object.keys(e.weightPerOption).map(e=>String(i.responses[e])),String(i.total),String(i.average)])}),s):s}}class w extends O{constructor(e){super(),this.hasAssignedWeights=!1,this.mcqWeights=[],this.mcqOtherWeight=0,this.numOfMcqChoices=0,this.mcqChoices=[],this.otherEnabled=!1,this.generateOptionsFor=r.c.NONE,this.questionText="",this.questionType=r.d.MCQ,this.hasAssignedWeights=e.hasAssignedWeights,this.mcqWeights=e.mcqWeights,this.mcqOtherWeight=e.mcqOtherWeight,this.numOfMcqChoices=e.numOfMcqChoices,this.mcqChoices=e.mcqChoices,this.otherEnabled=e.otherEnabled,this.generateOptionsFor=e.generateOptionsFor,this.questionText=e.questionText}getQuestionCsvStats(e){const t=[],s=new g.a(this);return this.populateQuestionStatistics(s,e),0===s.responses.length?[]:(s.calculateStatistics(),t.push(...this.getQuestionCsvStatsFrom(s,s.question.hasAssignedWeights)),t)}isParticipantCommentsOnResponsesAllowed(){return!0}isInstructorCommentsOnResponsesAllowed(){return!0}}var b=s("sBl4");class v extends O{constructor(e){super(),this.msqChoices=[],this.otherEnabled=!1,this.generateOptionsFor=r.c.NONE,this.maxSelectableChoices=T.f,this.minSelectableChoices=T.f,this.hasAssignedWeights=!1,this.msqWeights=[],this.msqOtherWeight=0,this.questionText="",this.questionType=r.d.MSQ,this.msqChoices=e.msqChoices,this.otherEnabled=e.otherEnabled,this.generateOptionsFor=e.generateOptionsFor,this.maxSelectableChoices=e.maxSelectableChoices,this.minSelectableChoices=e.minSelectableChoices,this.hasAssignedWeights=e.hasAssignedWeights,this.msqWeights=e.msqWeights,this.msqOtherWeight=e.msqOtherWeight,this.questionText=e.questionText}getQuestionCsvHeaders(){return["Feedback",...this.msqChoices]}getQuestionCsvStats(e){const t=[],s=new b.a(this);return this.populateQuestionStatistics(s,e),s.calculateStatistics(),0!==s.responses.length&&s.hasAnswers?(t.push(...this.getQuestionCsvStatsFrom(s,s.question.hasAssignedWeights)),t):[]}isParticipantCommentsOnResponsesAllowed(){return!1}isInstructorCommentsOnResponsesAllowed(){return!0}}var C=s("5HvB");class E extends h{constructor(e){super(),this.minScale=1,this.maxScale=5,this.step=.5,this.questionText="",this.questionType=r.d.NUMSCALE,this.minScale=e.minScale,this.maxScale=e.maxScale,this.step=e.step,this.questionText=e.questionText}getQuestionCsvStats(e){const t=[],s=new C.a(this);if(this.populateQuestionStatistics(s,e),0===s.responses.length)return[];s.calculateStatistics();const i=["Team","Recipient","Average","Minimum","Maximum"],n=this.shouldShowAverageExcludingSelfInCsvStats(e,s);n&&i.push("Average excluding self response"),t.push(i);for(const o of Object.keys(s.teamToRecipientToScores).sort())for(const e of Object.keys(s.teamToRecipientToScores[o]).sort()){const i=s.teamToRecipientToScores[o][e],r=[o,e,String(i.average),String(i.min),String(i.max)];n&&r.push(String(i.averageExcludingSelf)),t.push(r)}return t}shouldShowAverageExcludingSelfInCsvStats(e,t){return e.feedbackQuestion.recipientType!==r.c.NONE&&Object.values(t.teamToRecipientToScores).some(e=>Object.values(e).some(e=>e.averageExcludingSelf))}isParticipantCommentsOnResponsesAllowed(){return!1}isInstructorCommentsOnResponsesAllowed(){return!0}}var f=s("BWB/");class N extends h{constructor(e){super(),this.minOptionsToBeRanked=T.f,this.maxOptionsToBeRanked=T.f,this.areDuplicatesAllowed=!1,this.options=[],this.questionText="",this.questionType=r.d.RANK_OPTIONS,this.minOptionsToBeRanked=e.minOptionsToBeRanked,this.maxOptionsToBeRanked=e.maxOptionsToBeRanked,this.areDuplicatesAllowed=e.areDuplicatesAllowed,this.options=e.options,this.questionText=e.questionText}getQuestionCsvHeaders(){return["Feedback",...this.options.map((e,t)=>"Rank "+(t+1))]}getQuestionCsvStats(e){const t=[],s=new f.a(this);return this.populateQuestionStatistics(s,e),0===s.responses.length?[]:(s.calculateStatistics(),t.push(["Option","Overall Rank","Ranks Received"]),Object.keys(s.ranksReceivedPerOption).sort().forEach(e=>{t.push([e,s.rankPerOption[e]?String(s.rankPerOption[e]):"",...s.ranksReceivedPerOption[e].map(String)])}),t)}isParticipantCommentsOnResponsesAllowed(){return!1}isInstructorCommentsOnResponsesAllowed(){return!0}}var q=s("TpVY");class I extends h{constructor(e){super(),this.maxOptionsToBeRanked=T.f,this.minOptionsToBeRanked=T.f,this.areDuplicatesAllowed=!1,this.questionText="",this.questionType=r.d.RANK_RECIPIENTS,this.maxOptionsToBeRanked=e.maxOptionsToBeRanked,this.minOptionsToBeRanked=e.minOptionsToBeRanked,this.areDuplicatesAllowed=e.areDuplicatesAllowed,this.questionText=e.questionText}getQuestionCsvStats(e){const t=[],s=new q.a(this);return this.populateQuestionStatistics(s,e),0===s.responses.length?[]:(s.calculateStatistics(),t.push(["Team","Recipient","Self Rank","Overall Rank","Overall Rank Excluding Self","Ranks Received","Team Rank","Team Rank Excluding Self"]),Object.keys(s.ranksReceivedPerOption).sort().forEach(e=>{t.push([s.emailToTeamName[e],s.emailToName[e],s.selfRankPerOption[e]?String(s.selfRankPerOption[e]):"-",s.rankPerOption[e]?String(s.rankPerOption[e]):"-",s.rankPerOptionExcludeSelf[e]?String(s.rankPerOptionExcludeSelf[e]):"-",...s.ranksReceivedPerOption[e].map(String)])}),t)}isParticipantCommentsOnResponsesAllowed(){return!1}isInstructorCommentsOnResponsesAllowed(){return!0}}var k=s("khBm"),y=s("4JDO");class A extends h{constructor(e){super(),this.hasAssignedWeights=!1,this.numOfRubricChoices=0,this.rubricChoices=[],this.numOfRubricSubQuestions=0,this.rubricSubQuestions=[],this.rubricWeightsForEachCell=[],this.rubricDescriptions=[],this.questionText="",this.questionType=r.d.RUBRIC,this.hasAssignedWeights=e.hasAssignedWeights,this.numOfRubricChoices=e.numOfRubricChoices,this.rubricChoices=e.rubricChoices,this.numOfRubricSubQuestions=e.numOfRubricSubQuestions,this.rubricSubQuestions=e.rubricSubQuestions,this.rubricWeightsForEachCell=e.rubricWeightsForEachCell,this.rubricDescriptions=e.rubricDescriptions,this.questionText=e.questionText}getQuestionCsvHeaders(){return["Sub Question","Choice Value","Choice Number"]}getMissingResponseCsvAnswers(){return[["All Sub-Questions","No Response"]]}getQuestionCsvStats(e){const t=[],s=new k.a(this);if(this.populateQuestionStatistics(s,e),0===s.responses.length)return[];s.calculateStatistics();const i=["",...s.choices];return s.hasWeights&&i.push("Average"),t.push(i),s.subQuestions.forEach((e,i)=>{const n=[`${y.a.integerToLowerCaseAlphabeticalIndex(i+1)}) ${e}`,...s.choices.map((e,t)=>`${s.percentages[i][t]}% (${s.answers[i][t]}) ${s.hasWeights?`[${s.weights[i][t]}]`:""}`)];s.hasWeights&&n.push(String(s.subQuestionWeightAverage[i])),t.push(n)}),s.hasWeights?(t.push([],["Per Recipient Statistics"]),t.push(["Team","Recipient Name","Recipient's Email","Sub Question",...s.choices,"Total","Average"]),Object.values(s.perRecipientStatsMap).sort((e,t)=>e.recipientTeam.localeCompare(t.recipientTeam)||e.recipientName.localeCompare(t.recipientName)).forEach(e=>{this.rubricSubQuestions.forEach((i,n)=>{t.push([e.recipientTeam,e.recipientName,e.recipientEmail?e.recipientEmail:"",`${y.a.integerToLowerCaseAlphabeticalIndex(n+1)}) ${i}`,...s.choices.map((t,i)=>`${e.percentages[n][i]}% (${e.answers[n][i]}) [${s.weights[n][i]}]`),String(e.subQuestionTotalChosenWeight[n]),String(e.subQuestionWeightAverage[n])])})}),t):t}isParticipantCommentsOnResponsesAllowed(){return!1}isInstructorCommentsOnResponsesAllowed(){return!0}}class P extends h{constructor(e){super(),this.questionText="",this.questionType=r.d.TEXT,this.recommendedLength=e.recommendedLength,this.questionText=e.questionText,this.shouldAllowRichText=e.shouldAllowRichText}getQuestionCsvStats(e){return[]}isParticipantCommentsOnResponsesAllowed(){return!1}isInstructorCommentsOnResponsesAllowed(){return!0}}class x{static fromApiOutput(e){switch(e.questionType){case r.d.CONSTSUM_OPTIONS:return new m(e);case r.d.CONSTSUM_RECIPIENTS:return new S(e);case r.d.CONTRIB:return new R(e);case r.d.MCQ:return new w(e);case r.d.MSQ:return new v(e);case r.d.NUMSCALE:return new E(e);case r.d.RANK_OPTIONS:return new N(e);case r.d.RANK_RECIPIENTS:return new I(e);case r.d.RUBRIC:return new A(e);case r.d.TEXT:return new P(e);default:throw new Error("Unknown question type: "+e.questionType)}}}var F=s("ayBD"),Q=s("VtOQ"),M=s("eoFM");let U=(()=>{class e{constructor(e){this.feedbackResponsesService=e}getCsvForSessionResult(e,t,s,i,n){const o=[];if(o.push(["Course",e.feedbackSession.courseId]),o.push(["Session Name",e.feedbackSession.feedbackSessionName]),i&&o.push(["Section Name",i]),n){const e=new c.a;o.push(["Section View Detail",e.transform(n)])}this.generateEmptyRow(o),this.generateEmptyRow(o),e.questions.sort((e,t)=>e.feedbackQuestion.questionNumber-t.feedbackQuestion.questionNumber);for(const r of e.questions){const e=JSON.parse(JSON.stringify(r));e.allResponses=e.allResponses.filter(e=>!i||!n||this.feedbackResponsesService.isFeedbackResponsesDisplayedOnSection(e,i,n)),o.push(...this.generateCsvRowsForQuestion(e,t,s))}return Q.a.convertCsvContentsToCsvString(o)}generateCsvRowsForQuestion(e,t,s){const i=[];if(i.push(["Question "+e.feedbackQuestion.questionNumber,e.feedbackQuestion.questionBrief]),this.generateEmptyRow(i),s){const t=this.getQuestionStats(e);t.length>0&&(i.push(["Summary Statistics"]),i.push(...t),this.generateEmptyRow(i),this.generateEmptyRow(i))}t||(e.allResponses=e.allResponses.filter(e=>!e.isMissingResponse));const n=["Team","Giver's Full Name","Giver's Last Name","Giver's Email","Recipient's Team","Recipient's Full Name","Recipient's Last Name","Recipient's Email",...this.getQuestionSpecificHeaders(e.feedbackQuestion)],o=this.getIsParticipantCommentsOnResponsesAllowed(e.feedbackQuestion);o&&n.push("Giver's Comments");const r=this.getIsInstructorCommentsOnResponsesAllowed(e.feedbackQuestion);if(r){const t=e.allResponses.map(e=>e.instructorComments.length).reduce((e,t)=>Math.max(e,t),0);for(let e=0;e<t;e+=1)n.push("Comment From","Comment")}i.push(n),e.allResponses.sort((e,t)=>e.giver.localeCompare(t.giver)||e.recipient.localeCompare(t.recipient));for(const a of e.allResponses){const t=y.a.removeExtraSpace(a.giverTeam),s=y.a.removeExtraSpace(a.giver),n=a.giverLastName?y.a.removeExtraSpace(a.giverLastName):"",u=a.giverEmail?y.a.removeExtraSpace(a.giverEmail):"",c=y.a.removeExtraSpace(a.recipientTeam),p=y.a.removeExtraSpace(a.recipient),h=a.recipientLastName?y.a.removeExtraSpace(a.recipientLastName):"",m=a.recipientEmail?y.a.removeExtraSpace(a.recipientEmail):"";let l=[];l=a.isMissingResponse?this.getMissingResponseAnswers(e.feedbackQuestion):this.getResponseAnswers(a,e.feedbackQuestion);for(const e of l){const l=[t,s,n,u,c,p,h,m,...e];if(o){const e=a.participantComment?a.participantComment.commentText:"",t=y.a.getTextFromHtml(e),s=y.a.convertImageToLinkInHtml(e);l.push(t+s)}if(r)for(const e of a.instructorComments){const t=e.commentGiverName?e.commentGiverName:"",s=e.commentText,i=y.a.getTextFromHtml(s),n=y.a.convertImageToLinkInHtml(s);l.push(t,i+n)}i.push(l)}}return this.generateEmptyRow(i),this.generateEmptyRow(i),i}getQuestionStats(e){return x.fromApiOutput(e.feedbackQuestion.questionDetails).getQuestionCsvStats(e)}getMissingResponseAnswers(e){return x.fromApiOutput(e.questionDetails).getMissingResponseCsvAnswers()}getResponseAnswers(e,t){return F.a.fromApiOutput(e.responseDetails).getResponseCsvAnswers(t.questionDetails)}getQuestionSpecificHeaders(e){return x.fromApiOutput(e.questionDetails).getQuestionCsvHeaders()}getIsParticipantCommentsOnResponsesAllowed(e){return x.fromApiOutput(e.questionDetails).isParticipantCommentsOnResponsesAllowed()}getIsInstructorCommentsOnResponsesAllowed(e){return x.fromApiOutput(e.questionDetails).isInstructorCommentsOnResponsesAllowed()}generateEmptyRow(e){e.push([])}}return e.\u0275fac=function(t){return new(t||e)(a.ec(M.a))},e.\u0275prov=a.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),D=(()=>{class e{constructor(e,t){this.httpRequestService=e,this.sessionResultCsvService=t}getTemplateSessions(){return n}getFeedbackSession(e){const t={intent:e.intent,courseid:e.courseId,fsname:e.feedbackSessionName};return e.key&&(t.key=e.key),e.moderatedPerson&&(t.moderatedperson=e.moderatedPerson),e.previewAs&&(t.previewas=e.previewAs),this.httpRequestService.get(o.d.SESSION,t)}createFeedbackSession(e,t){return this.httpRequestService.post(o.d.SESSION,{courseid:e},t)}updateFeedbackSession(e,t,s){return this.httpRequestService.put(o.d.SESSION,{courseid:e,fsname:t},s)}deleteFeedbackSession(e,t){return this.httpRequestService.delete(o.d.SESSION,{courseid:e,fsname:t})}getOngoingSessions(e,t){const s={starttime:String(e),endtime:String(t)};return this.httpRequestService.get(o.d.SESSIONS_ONGOING,s)}getFeedbackSessionsForInstructor(e){let t;return t=null!=e?{entitytype:"instructor",courseid:e}:{entitytype:"instructor",isinrecyclebin:"false"},this.httpRequestService.get(o.d.SESSIONS,t)}getFeedbackSessionsInRecycleBinForInstructor(){return this.httpRequestService.get(o.d.SESSIONS,{entitytype:"instructor",isinrecyclebin:"true"})}getFeedbackSessionsForStudent(e){let t;return t=null!=e?{entitytype:"student",courseid:e}:{entitytype:"student"},this.httpRequestService.get(o.d.SESSIONS,t)}hasResponsesForQuestion(e){return this.httpRequestService.get(o.d.HAS_RESPONSES,{entitytype:"instructor",questionid:e})}hasStudentResponseForFeedbackSession(e,t){return this.httpRequestService.get(o.d.HAS_RESPONSES,{entitytype:"student",courseid:e,fsname:t})}remindFeedbackSessionSubmissionForRespondents(e,t,s){return this.httpRequestService.post(o.d.SESSION_REMIND_SUBMISSION,{courseid:e,fsname:t},s)}remindResultsLinkToRespondents(e,t,s){return this.httpRequestService.post(o.d.SESSION_REMIND_RESULT,{courseid:e,fsname:t},s)}getFeedbackSessionSubmittedGiverSet(e){return this.httpRequestService.get(o.d.SESSION_SUBMITTED_GIVER_SET,{courseid:e.courseId,fsname:e.feedbackSessionName})}publishFeedbackSession(e,t){return this.httpRequestService.post(o.d.SESSION_PUBLISH,{courseid:e,fsname:t})}unpublishFeedbackSession(e,t){return this.httpRequestService.delete(o.d.SESSION_PUBLISH,{courseid:e,fsname:t})}loadSessionStatistics(e,t){return this.httpRequestService.get(o.d.SESSION_STATS,{courseid:e,fsname:t})}downloadSessionResults(e,t,s,n,o,r,a,u){return this.getFeedbackSessionResults({courseId:e,feedbackSessionName:t,intent:s,questionId:r,groupBySection:a}).pipe(Object(i.a)(e=>this.sessionResultCsvService.getCsvForSessionResult(e,n,o,a,u)))}getFeedbackSessionResults(e){const t={courseid:e.courseId,fsname:e.feedbackSessionName,intent:e.intent};return e.questionId&&(t.questionid=e.questionId),e.groupBySection&&(t.frgroupbysection=e.groupBySection),e.key&&(t.key=e.key),this.httpRequestService.get(o.d.RESULT,t)}moveSessionToRecycleBin(e,t){return this.httpRequestService.put(o.d.BIN_SESSION,{courseid:e,fsname:t})}deleteSessionFromRecycleBin(e,t){return this.httpRequestService.delete(o.d.BIN_SESSION,{courseid:e,fsname:t})}sendFeedbackSessionLinkToRecoveryEmail(e){return this.httpRequestService.post(o.d.SESSION_LINKS_RECOVERY,{studentemail:e.sessionLinksRecoveryEmail,captcharesponse:e.captchaResponse})}isFeedbackSessionOpen(e){const t=Date.now();return t>=e.submissionStartTimestamp&&t<e.submissionEndTimestamp}isFeedbackSessionPublished(e){return e.publishStatus===r.e.PUBLISHED}}return e.\u0275fac=function(t){return new(t||e)(a.ec(u.a),a.ec(U))},e.\u0275prov=a.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},ayBD:function(e,t,s){"use strict";s.d(t,"a",(function(){return T}));var i=s("R8lv");class n{}class o extends n{constructor(e){super(),this.answers=[],this.questionType=i.d.CONSTSUM,this.answers=e.answers}getResponseCsvAnswers(e){return e.distributeToRecipients?[[this.answers.map(String).join("")]]:[["",...this.answers.map(String)]]}}var r=s("RmXC");class a extends n{constructor(e){super(),this.answer=r.c,this.questionType=i.d.CONTRIB,this.answer=e.answer}getResponseCsvAnswers(e){const t=this.answer;let s="";return s=t>100?`Equal share + ${t-100}%`:100===t?"Equal share":t>0?`Equal share - ${100-t}%`:0===t?"0%":t===r.d?"Not Sure":"",[[s]]}}class u extends n{constructor(e){super(),this.answer="",this.isOther=!1,this.otherFieldContent="",this.questionType=i.d.MCQ,this.answer=e.answer,this.isOther=e.isOther,this.otherFieldContent=e.otherFieldContent}getResponseCsvAnswers(e){let t=this.answer;return this.isOther&&(t=this.otherFieldContent),[[t]]}}class c extends n{constructor(e){super(),this.answers=[],this.isOther=!1,this.otherFieldContent="",this.questionType=i.d.MSQ,this.answers=e.answers,this.isOther=e.isOther,this.otherFieldContent=e.otherFieldContent}getResponseCsvAnswers(e){if(1===this.answers.length&&0===this.answers[0].length)return[[""]];const t=[];for(const s of e.msqChoices)-1===this.answers.indexOf(s)?t.push(""):t.push(s);return[["",...t]]}}class p extends n{constructor(e){super(),this.answer=r.g,this.questionType=i.d.NUMSCALE,this.answer=e.answer}getResponseCsvAnswers(e){const t=Math.round(1e3*(this.answer+Number.EPSILON))/1e3;return[[String(t)]]}}class h extends n{constructor(e){super(),this.answers=[],this.questionType=i.d.RANK_OPTIONS,this.answers=e.answers}getResponseCsvAnswers(e){const t=[];for(let s=1;s<=e.options.length;s+=1){const i=this.answers.reduce((t,i,n)=>(i===s&&t.push(e.options[n]),t),[]);t.push(i.join(", "))}return[["",...t]]}}class m extends n{constructor(e){super(),this.answer=r.i,this.questionType=i.d.RANK_RECIPIENTS,this.answer=e.answer}getResponseCsvAnswers(e){return[[String(this.answer)]]}}var l=s("4JDO");class S extends n{constructor(e){super(),this.answer=[],this.questionType=i.d.RUBRIC,this.answer=e.answer}getResponseCsvAnswers(e){const t=[];return this.answer.forEach((s,i)=>{const n=[],o=l.a.integerToLowerCaseAlphabeticalIndex(i+1);let a="No Response",u="";s!==r.j&&(a=e.rubricChoices[s],u=String(s+1)),n.push(o),n.push(a),n.push(u),t.push(n)}),t}}class d extends n{constructor(e){super(),this.answer="",this.questionType=i.d.TEXT,this.answer=e.answer}getResponseCsvAnswers(e){return[[l.a.getTextFromHtml(this.answer)]]}}class T{static fromApiOutput(e){switch(e.questionType){case i.d.CONSTSUM:return new o(e);case i.d.CONTRIB:return new a(e);case i.d.MCQ:return new u(e);case i.d.MSQ:return new c(e);case i.d.NUMSCALE:return new p(e);case i.d.RANK_OPTIONS:return new h(e);case i.d.RANK_RECIPIENTS:return new m(e);case i.d.RUBRIC:return new S(e);case i.d.TEXT:return new d(e);default:throw new Error("Unknown question type: "+e.questionType)}}}},ctOY:function(e){e.exports=JSON.parse('[{"name":"session using template: team peer evaluation","questions":[{"feedbackQuestionId":"","questionNumber":1,"questionBrief":"How much work did each team member contribute? (response will be shown anonymously to each team member). ","questionDescription":"","questionType":"CONTRIB","questionDetails":{"isNotSureAllowed":false},"giverType":"STUDENTS","recipientType":"OWN_TEAM_MEMBERS_INCLUDING_SELF","numberOfEntitiesToGiveFeedbackToSetting":"UNLIMITED","customNumberOfEntitiesToGiveFeedbackTo":1,"showResponsesTo":["INSTRUCTORS","RECIPIENT","GIVER_TEAM_MEMBERS"],"showGiverNameTo":["INSTRUCTORS"],"showRecipientNameTo":["INSTRUCTORS","RECIPIENT"]},{"feedbackQuestionId":"","questionNumber":2,"questionBrief":"What contributions did you make to the team? (response will be shown to each team member).","questionDescription":"","questionType":"TEXT","questionDetails":{},"giverType":"STUDENTS","recipientType":"SELF","numberOfEntitiesToGiveFeedbackToSetting":"UNLIMITED","customNumberOfEntitiesToGiveFeedbackTo":1,"showResponsesTo":["RECIPIENT","GIVER_TEAM_MEMBERS","INSTRUCTORS"],"showGiverNameTo":["RECIPIENT","GIVER_TEAM_MEMBERS","INSTRUCTORS"],"showRecipientNameTo":["RECIPIENT","GIVER_TEAM_MEMBERS","INSTRUCTORS"]},{"feedbackQuestionId":"","questionNumber":3,"questionBrief":"What comments do you have regarding each of your team members? (response is confidential and will only be shown to the instructor).","questionDescription":"","questionType":"TEXT","questionDetails":{},"giverType":"STUDENTS","recipientType":"OWN_TEAM_MEMBERS","numberOfEntitiesToGiveFeedbackToSetting":"UNLIMITED","customNumberOfEntitiesToGiveFeedbackTo":1,"showResponsesTo":["INSTRUCTORS"],"showGiverNameTo":["INSTRUCTORS"],"showRecipientNameTo":["INSTRUCTORS"]},{"feedbackQuestionId":"","questionNumber":4,"questionBrief":"How are the team dynamics thus far? (response is confidential and will only be to the instructor).","questionDescription":"","questionType":"TEXT","questionDetails":{},"giverType":"STUDENTS","recipientType":"OWN_TEAM","numberOfEntitiesToGiveFeedbackToSetting":"UNLIMITED","customNumberOfEntitiesToGiveFeedbackTo":1,"showResponsesTo":["INSTRUCTORS"],"showGiverNameTo":["INSTRUCTORS"],"showRecipientNameTo":["INSTRUCTORS"]},{"feedbackQuestionId":"","questionNumber":5,"questionBrief":"What feedback do you have for each of your team members? (response will be shown anonymously to each team member).","questionDescription":"","questionType":"TEXT","questionDetails":{},"giverType":"STUDENTS","recipientType":"OWN_TEAM_MEMBERS","numberOfEntitiesToGiveFeedbackToSetting":"UNLIMITED","customNumberOfEntitiesToGiveFeedbackTo":1,"showResponsesTo":["RECIPIENT","INSTRUCTORS"],"showGiverNameTo":["INSTRUCTORS"],"showRecipientNameTo":["RECIPIENT","INSTRUCTORS"]}]},{"name":"session with my own questions","questions":[]}]')},jyEW:function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var i=s("C58a"),n=s("fXoL");let o=(()=>{class e{transform(e){switch(e){case i.a.BOTH:return"Show response only if both are in the selected section";case i.a.EITHER:return"Show response if either the giver or evaluee is in the selected section";case i.a.EVALUEE:return"Show response if the evaluee is in the selected section";case i.a.GIVER:return"Show response if the giver is in the selected section";default:return"Unknown"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=n.Pb({name:"sectionTypeDescription",type:e,pure:!0}),e})()}}]);