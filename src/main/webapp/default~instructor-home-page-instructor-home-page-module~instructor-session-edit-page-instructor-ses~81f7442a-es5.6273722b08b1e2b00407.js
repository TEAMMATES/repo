function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],s=!0,o=!1,r=void 0;try{for(var i,a=e[Symbol.iterator]();!(s=(i=a.next()).done)&&(n.push(i.value),!t||n.length!==t);s=!0);}catch(c){o=!0,r=c}finally{try{s||null==a.return||a.return()}finally{if(o)throw r}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,s=_getPrototypeOf(e);if(t){var o=_getPrototypeOf(this).constructor;n=Reflect.construct(s,arguments,o)}else n=s.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"++8I":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var s=n("vMQM"),o=n("fXoL"),r=n("mW1j"),i=function(){var e=function(){function e(t){_classCallCheck(this,e),this.httpRequestService=t}return _createClass(e,[{key:"loadInstructors",value:function(e){var t={courseid:e.courseId};return e.intent&&(t.intent=e.intent),this.httpRequestService.get(s.d.INSTRUCTORS,t)}},{key:"getInstructor",value:function(e){var t={courseid:e.courseId,intent:e.intent};return e.feedbackSessionName&&(t.fsname=e.feedbackSessionName),e.key&&(t.key=e.key),e.moderatedPerson&&(t.moderatedperson=e.moderatedPerson),e.previewAs&&(t.previewas=e.previewAs),this.httpRequestService.get(s.d.INSTRUCTOR,t)}},{key:"createInstructor",value:function(e){return this.httpRequestService.post(s.d.INSTRUCTOR,{courseid:e.courseId},e.requestBody)}},{key:"updateInstructor",value:function(e){return this.httpRequestService.put(s.d.INSTRUCTOR,{courseid:e.courseId},e.requestBody)}},{key:"deleteInstructor",value:function(e){var t={courseid:e.courseId};return e.instructorEmail&&(t.instructoremail=e.instructorEmail),e.instructorId&&(t.instructorid=e.instructorId),this.httpRequestService.delete(s.d.INSTRUCTOR,t)}},{key:"loadInstructorPrivilege",value:function(e){var t={courseid:e.courseId};return e.feedbackSessionName&&(t.fsname=e.feedbackSessionName),e.sectionName&&(t.sectionname=e.sectionName),e.instructorRole&&(t.instructorrole=e.instructorRole),e.instructorEmail&&(t.instructoremail=e.instructorEmail),e.instructorId&&(t.instructorid=e.instructorId),this.httpRequestService.get(s.d.INSTRUCTOR_PRIVILEGE,t)}},{key:"updateInstructorPrivilege",value:function(e){return this.httpRequestService.put(s.d.INSTRUCTOR_PRIVILEGE,{courseid:e.courseId,instructoremail:e.instructorEmail},e.requestBody)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.ec(r.a))},e.\u0275prov=o.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},"/Tzu":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var s=function(e){return e[e.WARNING=0]="WARNING",e[e.DANGER=1]="DANGER",e[e.INFO=2]="INFO",e[e.NEUTRAL=3]="NEUTRAL",e[e.LOAD=4]="LOAD",e}({})},"1GcU":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var s=n("ofXK"),o=n("3Pt+"),r=n("fXoL"),i=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=r.Ob({type:e}),e.\u0275inj=r.Nb({factory:function(t){return new(t||e)},imports:[[s.c,o.j]]}),e}()},"7qkN":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var s=function(e){return e.SHOW_RESPONSE="SHOW_RESPONSE",e.SHOW_GIVER_NAME="SHOW_GIVER_NAME",e.SHOW_RECIPIENT_NAME="SHOW_RECIPIENT_NAME",e}({})},"84gB":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var s=n("uBDz"),o=n("fXoL"),r=n("1kSV"),i=n("3Pt+"),a=n("ofXK");function c(e,t){1&e&&(o.Wb(0,"span",19),o.Qc(1),o.Vb()),2&e&&(o.Cb(1),o.Sc(" ","{Session currently in this course}"," "))}var u=function(e){return{"text-danger":e}};function l(e,t){if(1&e){var n=o.Xb();o.Wb(0,"div",14),o.Wb(1,"label",15),o.Wb(2,"input",16),o.ic("click",(function(){o.Fc(n);var e=t.$implicit;return o.kc().select(e.courseId)})),o.Vb(),o.Qc(3," ["),o.Wb(4,"span",17),o.Qc(5),o.Vb(),o.Qc(6),o.Oc(7,c,2,1,"span",18),o.Vb(),o.Vb()}if(2&e){var s=t.$implicit,r=o.kc();o.Cb(2),o.sc("checked",r.copyToCourseSet.has(s.courseId)),o.Cb(2),o.sc("ngClass",o.wc(5,u,r.sessionToCopyCourseId===s.courseId)),o.Cb(1),o.Rc(s.courseId),o.Cb(1),o.Sc("] : ",s.courseName," "),o.Cb(1),o.sc("ngIf",r.sessionToCopyCourseId===s.courseId)}}var d=function(){var e=function(){function e(t){_classCallCheck(this,e),this.activeModal=t,this.FEEDBACK_SESSION_NAME_MAX_LENGTH=s.a,this.courseCandidates=[],this.sessionToCopyCourseId="",this.newFeedbackSessionName="",this.copyToCourseSet=new Set}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"copy",value:function(){this.activeModal.close({newFeedbackSessionName:this.newFeedbackSessionName,copyToCourseList:Array.from(this.copyToCourseSet)})}},{key:"select",value:function(e){this.copyToCourseSet.has(e)?this.copyToCourseSet.delete(e):this.copyToCourseSet.add(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Qb(r.a))},e.\u0275cmp=o.Kb({type:e,selectors:[["tm-copy-session-modal"]],inputs:{courseCandidates:"courseCandidates",sessionToCopyCourseId:"sessionToCopyCourseId"},decls:24,vars:5,consts:[[1,"modal-header"],[1,"modal-title"],[1,"text-secondary"],["type","button",1,"close",3,"click"],[1,"fas","fa-times"],["id","copy-course-modal",1,"modal-body"],[1,"row"],[1,"col-12"],[1,"form-group"],["id","copy-session-name","type","text",1,"form-control",3,"ngModel","maxlength","ngModelChange"],["class","form-check",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],["id","btn-confirm-copy-course","type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"form-check"],[1,"form-check-label"],["type","checkbox","name","copySessionChooseCourse",1,"form-check-input",3,"checked","click"],[3,"ngClass"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(e,t){1&e&&(o.Wb(0,"div",0),o.Wb(1,"h5",1),o.Wb(2,"div"),o.Qc(3,"Copy this feedback session to other courses"),o.Vb(),o.Wb(4,"small",2),o.Qc(5,"(Select the course(s) you want to copy this feedback session to)"),o.Vb(),o.Vb(),o.Wb(6,"button",3),o.ic("click",(function(){return t.activeModal.dismiss()})),o.Rb(7,"i",4),o.Vb(),o.Vb(),o.Wb(8,"div",5),o.Wb(9,"div",6),o.Wb(10,"div",7),o.Wb(11,"div",8),o.Wb(12,"label"),o.Wb(13,"b"),o.Qc(14,"Name for copied session"),o.Vb(),o.Vb(),o.Wb(15,"input",9),o.ic("ngModelChange",(function(e){return t.newFeedbackSessionName=e})),o.Vb(),o.Wb(16,"span"),o.Qc(17),o.Vb(),o.Vb(),o.Oc(18,l,8,7,"div",10),o.Vb(),o.Vb(),o.Vb(),o.Wb(19,"div",11),o.Wb(20,"button",12),o.ic("click",(function(){return t.activeModal.dismiss()})),o.Qc(21,"Cancel"),o.Vb(),o.Wb(22,"button",13),o.ic("click",(function(){return t.copy()})),o.Qc(23,"Copy"),o.Vb(),o.Vb()),2&e&&(o.Cb(15),o.sc("ngModel",t.newFeedbackSessionName)("maxlength",t.FEEDBACK_SESSION_NAME_MAX_LENGTH),o.Cb(2),o.Sc("",t.FEEDBACK_SESSION_NAME_MAX_LENGTH-t.newFeedbackSessionName.length," characters left"),o.Cb(1),o.sc("ngForOf",t.courseCandidates),o.Cb(4),o.sc("disabled",!t.newFeedbackSessionName||t.copyToCourseSet.size<1))},directives:[i.c,i.p,i.s,i.k,a.t,a.r,a.u],styles:[""]}),e}()},BBzn:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var s=n("Iab2"),o=n("LRne"),r=n("Cfvw"),i=n("GyhO"),a=n("eIep"),c=n("bOdf"),u=n("NJ9Y"),l=n("nYR2"),d=n("JIr8"),b=n("GJmQ"),f=n("9jjE"),p=n("UT40"),h=n("p6cw"),m=n("wuQz"),v=n("/Tzu"),y=function(){function e(t,n,s,o,r,i,a,c,u,l){_classCallCheck(this,e),this.router=t,this.instructorService=n,this.statusMessageService=s,this.navigationService=o,this.feedbackSessionsService=r,this.feedbackQuestionsService=i,this.tableComparatorService=a,this.ngbModal=c,this.simpleModalService=u,this.progressBarService=l,this.isResultActionLoading=!1,this.failedToCopySessions={},this.publishUnpublishRetryAttempts=p.a}return _createClass(e,[{key:"copyFeedbackSession",value:function(e,t,n){var s,i=this;return this.feedbackSessionsService.createFeedbackSession(n,{feedbackSessionName:t,instructions:e.instructions,submissionStartTimestamp:e.submissionStartTimestamp,submissionEndTimestamp:e.submissionEndTimestamp,gracePeriod:e.gracePeriod,sessionVisibleSetting:e.sessionVisibleSetting,customSessionVisibleTimestamp:e.customSessionVisibleTimestamp,responseVisibleSetting:e.responseVisibleSetting,customResponseVisibleTimestamp:e.customResponseVisibleTimestamp,isClosingEmailEnabled:e.isClosingEmailEnabled,isPublishedEmailEnabled:e.isPublishedEmailEnabled}).pipe(Object(a.a)((function(t){return s=t,i.feedbackQuestionsService.getFeedbackQuestions({courseId:e.courseId,feedbackSessionName:e.feedbackSessionName,intent:f.b.FULL_DETAIL})})),Object(a.a)((function(e){return 0===e.questions.length?Object(o.a)(s):Object(r.a)(e.questions).pipe(Object(c.a)((function(e){return i.feedbackQuestionsService.createFeedbackQuestion(s.courseId,s.feedbackSessionName,{questionNumber:e.questionNumber,questionBrief:e.questionBrief,questionDescription:e.questionDescription,questionDetails:e.questionDetails,questionType:e.questionType,giverType:e.giverType,recipientType:e.recipientType,numberOfEntitiesToGiveFeedbackToSetting:e.numberOfEntitiesToGiveFeedbackToSetting,customNumberOfEntitiesToGiveFeedbackTo:e.customNumberOfEntitiesToGiveFeedbackTo,showResponsesTo:e.showResponsesTo,showGiverNameTo:e.showGiverNameTo,showRecipientNameTo:e.showRecipientNameTo})})),Object(u.a)(),Object(a.a)((function(){return Object(o.a)(s)})))})))}},{key:"sortModelsBy",value:function(e,t){var n=this;return function(s,o){var r,i;switch(e){case h.a.SESSION_NAME:r=s.feedbackSession.feedbackSessionName,i=o.feedbackSession.feedbackSessionName;break;case h.a.COURSE_ID:r=s.feedbackSession.courseId,i=o.feedbackSession.courseId;break;case h.a.SESSION_START_DATE:r=String(s.feedbackSession.submissionStartTimestamp),i=String(o.feedbackSession.submissionStartTimestamp);break;case h.a.SESSION_END_DATE:r=String(s.feedbackSession.submissionEndTimestamp),i=String(o.feedbackSession.submissionEndTimestamp);break;case h.a.SESSION_CREATION_DATE:r=String(s.feedbackSession.createdAtTimestamp),i=String(o.feedbackSession.createdAtTimestamp);break;case h.a.SESSION_DELETION_DATE:r=String(s.feedbackSession.deletedAtTimestamp),i=String(o.feedbackSession.deletedAtTimestamp);break;default:r="",i=""}return n.tableComparatorService.compare(e,t,r,i)}}},{key:"loadResponseRate",value:function(e){var t=this;e.isLoadingResponseRate=!0,this.feedbackSessionsService.loadSessionStatistics(e.feedbackSession.courseId,e.feedbackSession.feedbackSessionName).pipe(Object(l.a)((function(){return e.isLoadingResponseRate=!1}))).subscribe((function(t){e.responseRate="".concat(t.submittedTotal," / ").concat(t.expectedTotal)}),(function(e){t.statusMessageService.showErrorToast(e.error.message)}))}},{key:"editSession",value:function(e){this.navigationService.navigateByURLWithParamEncoding(this.router,"/web/instructor/sessions/edit",{courseid:e.feedbackSession.courseId,fsname:e.feedbackSession.feedbackSessionName})}},{key:"createSessionCopyRequestsFromRowModel",value:function(e,t){var n=this,s=[];return t.copyToCourseList.forEach((function(r){s.push(n.copyFeedbackSession(e.feedbackSession,t.newFeedbackSessionName,r).pipe(Object(d.a)((function(e){return n.failedToCopySessions[r]=e.error.message,Object(o.a)(e)}))))})),s}},{key:"createSessionCopyRequestsFromModal",value:function(e,t,n){var s=this,r=[];return e.copyToCourseList.forEach((function(i){r.push(s.feedbackSessionsService.getFeedbackSession({courseId:t,feedbackSessionName:n,intent:f.b.FULL_DETAIL}).pipe(Object(a.a)((function(t){return s.copyFeedbackSession(t,e.newFeedbackSessionName,i)})),Object(d.a)((function(e){return s.failedToCopySessions[i]=e.error.message,Object(o.a)(e)}))))})),r}},{key:"copySingleSession",value:function(e){var t=this;e.subscribe((function(e){0===Object.keys(t.failedToCopySessions).length?t.navigationService.navigateWithSuccessMessage(t.router,"/web/instructor/sessions/edit","The feedback session has been copied. Please modify settings/questions as necessary.",{courseid:e.courseId,fsname:e.feedbackSessionName}):t.statusMessageService.showErrorToast(t.getCopyErrorMessage())}),(function(e){t.statusMessageService.showErrorToast(e.error.message)}))}},{key:"showCopyStatusMessage",value:function(){Object.keys(this.failedToCopySessions).length>0?this.statusMessageService.showErrorToast(this.getCopyErrorMessage()):this.statusMessageService.showSuccessToast("Feedback session copied successfully to all courses.")}},{key:"getCopyErrorMessage",value:function(){var e=this;return Object.keys(this.failedToCopySessions).map((function(t){return"Error copying to ".concat(t,": ").concat(e.failedToCopySessions[t])})).join(" ")}},{key:"submitSessionAsInstructor",value:function(e){this.navigationService.navigateByURLWithParamEncoding(this.router,"/web/instructor/sessions/submission",{courseid:e.feedbackSession.courseId,fsname:e.feedbackSession.feedbackSessionName})}},{key:"viewSessionResult",value:function(e){this.navigationService.navigateByURLWithParamEncoding(this.router,"/web/instructor/sessions/result",{courseid:e.feedbackSession.courseId,fsname:e.feedbackSession.feedbackSessionName})}},{key:"downloadSessionResult",value:function(e){var t=this;this.feedbackQuestionsService.getFeedbackQuestions({courseId:e.feedbackSession.courseId,feedbackSessionName:e.feedbackSession.feedbackSessionName,intent:f.b.INSTRUCTOR_RESULT}).subscribe((function(n){t.downloadSessionResultHelper(n.questions,e)}))}},{key:"downloadSessionResultHelper",value:function(e,t){var n=this;this.isResultActionLoading=!0;var o,r="".concat(t.feedbackSession.courseId,"_").concat(t.feedbackSession.feedbackSessionName,"_result.csv"),a=!1,c=[],u=this.simpleModalService.openLoadingModal("Download Progress",v.a.LOAD,"Downloading the results of your feedback session...");u.result.then((function(){n.isResultActionLoading=!1,a=!0})),Object(i.a).apply(void 0,_toConsumableArray(e.map((function(e){return n.feedbackSessionsService.downloadSessionResults(t.feedbackSession.courseId,t.feedbackSession.feedbackSessionName,f.b.INSTRUCTOR_RESULT,!0,!0,e.feedbackQuestionId)})))).pipe(Object(l.a)((function(){return n.isResultActionLoading=!1}))).pipe(Object(b.a)((function(){return n.isResultActionLoading&&!a}))).subscribe({next:function(t){c.push(t);var s=Math.round(100*c.length/e.length);n.progressBarService.updateProgress(s)},complete:function(){a||(u.close(),o=new Blob(c,{type:"text/csv"}),Object(s.saveAs)(o,r))},error:function(e){n.statusMessageService.showErrorToast(e.error.message),u.close()}})}},{key:"publishSession",value:function(e){var t=this;this.isResultActionLoading=!0,this.feedbackSessionsService.publishFeedbackSession(e.feedbackSession.courseId,e.feedbackSession.feedbackSessionName).pipe(Object(l.a)((function(){return t.isResultActionLoading=!1}))).subscribe((function(n){e.feedbackSession=n,e.responseRate="",t.statusMessageService.showSuccessToast("The feedback session has been published. Please allow up to 1 hour for all the notification emails to be sent out.")}),(function(e){t.statusMessageService.showErrorToast(e.error.message),t.publishUnpublishRetryAttempts?t.publishUnpublishRetryAttempts-=1:t.openErrorReportModal(e)}))}},{key:"unpublishSession",value:function(e){var t=this;this.isResultActionLoading=!0,this.feedbackSessionsService.unpublishFeedbackSession(e.feedbackSession.courseId,e.feedbackSession.feedbackSessionName).pipe(Object(l.a)((function(){return t.isResultActionLoading=!1}))).subscribe((function(n){e.feedbackSession=n,e.responseRate="",t.statusMessageService.showSuccessToast("The feedback session has been unpublished.")}),(function(e){t.statusMessageService.showErrorToast(e.error.message),t.publishUnpublishRetryAttempts?t.publishUnpublishRetryAttempts-=1:t.openErrorReportModal(e)}))}},{key:"openErrorReportModal",value:function(e){var t=this.ngbModal.open(m.a);t.componentInstance.requestId=e.error.requestId,t.componentInstance.errorMessage=e.error.message}}]),e}()},GJmQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var s=n("7o/Q");function o(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){return n.lift(new r(e,t))}}var r=function(){function e(t,n){_classCallCheck(this,e),this.predicate=t,this.inclusive=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new i(e,this.predicate,this.inclusive))}}]),e}(),i=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,s,o){var r;return _classCallCheck(this,n),(r=t.call(this,e)).predicate=s,r.inclusive=o,r.index=0,r}return _createClass(n,[{key:"_next",value:function(e){var t,n=this.destination;try{t=this.predicate(e,this.index++)}catch(s){return void n.error(s)}this.nextOrComplete(e,t)}},{key:"nextOrComplete",value:function(e,t){var n=this.destination;Boolean(t)?n.next(e):(this.inclusive&&n.next(e),n.complete())}}]),n}(s.a)},Iab2:function(e,t,n){var s,o;void 0===(o="function"==typeof(s=function(){"use strict";function t(e,t,n){var s=new XMLHttpRequest;s.open("GET",e),s.responseType="blob",s.onload=function(){r(s.response,t,n)},s.onerror=function(){console.error("could not download file")},s.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function s(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,r=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype?function(e,r,i){var a=o.URL||o.webkitURL,c=document.createElement("a");c.download=r=r||e.name||"download",c.rel="noopener","string"==typeof e?(c.href=e,c.origin===location.origin?s(c):n(c.href)?t(e,r,i):s(c,c.target="_blank")):(c.href=a.createObjectURL(e),setTimeout((function(){a.revokeObjectURL(c.href)}),4e4),setTimeout((function(){s(c)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,o,r){if(o=o||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,r),o);else if(n(e))t(e,o,r);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout((function(){s(i)}))}}:function(e,n,s,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return t(e,n,s);var i="application/octet-stream"===e.type,a=/constructor/i.test(o.HTMLElement)||o.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||i&&a)&&"object"==typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},u.readAsDataURL(e)}else{var l=o.URL||o.webkitURL,d=l.createObjectURL(e);r?r.location=d:location.href=d,r=null,setTimeout((function(){l.revokeObjectURL(d)}),4e4)}});o.saveAs=r.saveAs=r,e.exports=r})?s.apply(t,[]):s)||(e.exports=o)},JUCI:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var s=n("R0Ic"),o=Object(s.j)("collapseAnim",[Object(s.i)(":leave",[Object(s.h)({height:"*",overflow:"hidden"}),Object(s.e)("300ms ease-in-out",Object(s.h)({height:0,opacity:0}))]),Object(s.i)(":enter",[Object(s.h)({height:"0",overflow:"hidden"}),Object(s.e)("300ms ease-in-out",Object(s.h)({height:"*",opacity:1}))])])},UT40:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var s=3},ax2R:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var s=n("XNiG"),o=n("fXoL"),r=function(){var e=function(){function e(){_classCallCheck(this,e),this.progressPercentage=new s.a}return _createClass(e,[{key:"updateProgress",value:function(e){this.progressPercentage.next(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},eQqG:function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var s,o=n("fXoL"),r=n("/Tzu"),i=n("1kSV"),a=n("ofXK"),c=n("ax2R"),u=((s=function(){function e(t){_classCallCheck(this,e),this.progressBarService=t,this.progressPercentage=0}return _createClass(e,[{key:"ngOnInit",value:function(){this.getProgress()}},{key:"getProgress",value:function(){var e=this;this.progressBarService.progressPercentage.subscribe((function(t){e.progressPercentage=t}))}}]),e}()).\u0275fac=function(e){return new(e||s)(o.Qb(c.a))},s.\u0275cmp=o.Kb({type:s,selectors:[["tm-progress-bar"]],decls:2,vars:3,consts:[["type","info","height","26px","showValue","true",3,"value","striped","animated"]],template:function(e,t){1&e&&(o.Wb(0,"div"),o.Rb(1,"ngb-progressbar",0),o.Vb()),2&e&&(o.Cb(1),o.sc("value",t.progressPercentage)("striped",!0)("animated",!0))},directives:[i.q],encapsulation:2}),s);function l(e,t){1&e&&o.Rb(0,"i",16)}function d(e,t){1&e&&o.Rb(0,"i",17)}function b(e,t){1&e&&o.Rb(0,"i",18)}function f(e,t){1&e&&o.Sb(0)}function p(e,t){if(1&e&&(o.Wb(0,"div"),o.Oc(1,f,1,0,"ng-container",19),o.Vb()),2&e){var n=o.kc();o.Cb(1),o.sc("ngTemplateOutlet",n.content)}}function h(e,t){if(1&e&&o.Rb(0,"div",20),2&e){var n=o.kc();o.sc("innerHTML",n.content,o.Gc)}}function m(e,t){1&e&&(o.Wb(0,"div",21),o.Rb(1,"tm-progress-bar"),o.Vb())}function v(e,t){if(1&e){var n=o.Xb();o.Wb(0,"button",22),o.ic("click",(function(){return o.Fc(n),o.kc().activeModal.dismiss()})),o.Qc(1),o.Vb()}if(2&e){var s=o.kc();o.Cb(1),o.Sc(" ",s.cancelMessage," ")}}var y,g,S=function(e){return{"display-none":e}},k=function(e,t,n,s){return{"alert-danger":e,"alert-warning":t,"alert-info":n,"bg-white":s}},T=function(e,t,n,s){return{"btn-danger":e,"btn-warning":t,"btn-info":n,"btn-primary":s}},C=((g=function(){function e(t){_classCallCheck(this,e),this.activeModal=t,this.SimpleModalType=r.a,this.header="",this.content="",this.type=r.a.NEUTRAL,this.isInformationOnly=!1,this.confirmMessage="Yes",this.cancelMessage="No, cancel the operation"}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"isTemplate",get:function(){return this.content instanceof o.L}}]),e}()).\u0275fac=function(e){return new(e||g)(o.Qb(i.a))},g.\u0275cmp=o.Kb({type:g,selectors:[["tm-confirmation-modal"]],inputs:{header:"header",content:"content",type:"type",isInformationOnly:"isInformationOnly",confirmMessage:"confirmMessage",cancelMessage:"cancelMessage"},decls:18,vars:24,consts:[[1,"transparent-overlay",3,"ngClass"],[1,"modal-header",3,"ngClass"],[1,"modal-title"],["class","fas fa-times-circle",4,"ngIf"],["class","fas fa-exclamation-circle",4,"ngIf"],["class","fas fa-info-circle",4,"ngIf"],[1,"margin-left-5px",3,"innerHTML"],["type","button",1,"close",3,"click"],[1,"fas","fa-times"],[1,"modal-body"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],["class","progress-bar-container",4,"ngIf"],[1,"modal-footer"],["type","button","class","btn btn-light modal-btn-cancel",3,"click",4,"ngIf"],["type","button",1,"btn","modal-btn-ok","z-index-1",3,"ngClass","click"],[1,"fas","fa-times-circle"],[1,"fas","fa-exclamation-circle"],[1,"fas","fa-info-circle"],[4,"ngTemplateOutlet"],[3,"innerHTML"],[1,"progress-bar-container"],["type","button",1,"btn","btn-light","modal-btn-cancel",3,"click"]],template:function(e,t){1&e&&(o.Rb(0,"div",0),o.Wb(1,"div",1),o.Wb(2,"div"),o.Wb(3,"h5",2),o.Oc(4,l,1,0,"i",3),o.Oc(5,d,1,0,"i",4),o.Oc(6,b,1,0,"i",5),o.Rb(7,"span",6),o.Vb(),o.Vb(),o.Wb(8,"button",7),o.ic("click",(function(){return t.type===t.SimpleModalType.LOAD?t.activeModal.close():t.activeModal.dismiss()})),o.Rb(9,"i",8),o.Vb(),o.Vb(),o.Wb(10,"div",9),o.Oc(11,p,2,1,"div",10),o.Oc(12,h,1,1,"div",11),o.Oc(13,m,2,0,"div",12),o.Vb(),o.Wb(14,"div",13),o.Oc(15,v,2,1,"button",14),o.Wb(16,"button",15),o.ic("click",(function(){return t.activeModal.close()})),o.Qc(17),o.Vb(),o.Vb()),2&e&&(o.sc("ngClass",o.wc(12,S,t.type!==t.SimpleModalType.LOAD)),o.Cb(1),o.sc("ngClass",o.zc(14,k,t.type===t.SimpleModalType.DANGER,t.type===t.SimpleModalType.WARNING,t.type===t.SimpleModalType.INFO||t.type===t.SimpleModalType.LOAD,t.type===t.SimpleModalType.NEUTRAL)),o.Cb(3),o.sc("ngIf",t.type===t.SimpleModalType.DANGER),o.Cb(1),o.sc("ngIf",t.type===t.SimpleModalType.WARNING),o.Cb(1),o.sc("ngIf",t.type===t.SimpleModalType.INFO||t.type===t.SimpleModalType.LOAD),o.Cb(1),o.sc("innerHTML",t.header,o.Gc),o.Cb(4),o.sc("ngIf",t.isTemplate),o.Cb(1),o.sc("ngIf",!t.isTemplate),o.Cb(1),o.sc("ngIf",t.type===t.SimpleModalType.LOAD),o.Cb(2),o.sc("ngIf",!t.isInformationOnly),o.Cb(1),o.sc("ngClass",o.zc(19,T,t.type===t.SimpleModalType.DANGER||t.type===t.SimpleModalType.LOAD,t.type===t.SimpleModalType.WARNING,t.type===t.SimpleModalType.INFO,t.type===t.SimpleModalType.NEUTRAL)),o.Cb(1),o.Rc(t.confirmMessage))},directives:[a.r,a.u,a.B,u],styles:[".margin-left-5px[_ngcontent-%COMP%]{margin-left:5px}.progress-bar-container[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:2px}.transparent-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;visibility:false;z-index:0}.display-none[_ngcontent-%COMP%]{display:none}.z-index-1[_ngcontent-%COMP%]{z-index:1}"]}),g),R=((y=function(){function e(t){_classCallCheck(this,e),this.ngbModal=t}return _createClass(e,[{key:"open",value:function(e,t,n,s){var o=this.ngbModal.open(C);return o.componentInstance.header=e,o.componentInstance.content=n,o.componentInstance.type=t,s&&Object.entries(s).map((function(e){var t=_slicedToArray(e,2),n=t[0],s=t[1];o.componentInstance[n]=s})),o}},{key:"openConfirmationModal",value:function(e,t,n,s){var o=Object.assign({isInformationOnly:!1,confirmMessage:"Yes",cancelMessage:"No, cancel the operation"},s);return this.open(e,t,n,o)}},{key:"openInformationModal",value:function(e,t,n,s){var o=Object.assign({isInformationOnly:!0,confirmMessage:"OK"},s);return this.open(e,t,n,o)}},{key:"openLoadingModal",value:function(e,t,n,s){var o=Object.assign({isInformationOnly:!0,confirmMessage:"Abort"},s);return this.open(e,t,n,o)}}]),e}()).\u0275fac=function(e){return new(e||y)(o.ec(i.m))},y.\u0275prov=o.Mb({token:y,factory:y.\u0275fac,providedIn:"root"}),y)},pTm8:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var s=n("R8lv"),o=n("fXoL"),r=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e){switch(e){case s.e.PUBLISHED:return"Published";case s.e.NOT_PUBLISHED:return"Not Published";default:return"Unknown"}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Pb({name:"publishStatusName",type:e,pure:!0}),e}()},wuQz:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var s,o=n("dOUP"),r=n("fXoL"),i=n("vMQM"),a=n("mW1j"),c=((s=function(){function e(t){_classCallCheck(this,e),this.httpRequestService=t}return _createClass(e,[{key:"sendErrorReport",value:function(e){return this.httpRequestService.post(i.d.ERROR_REPORT,{},e.request)}}]),e}()).\u0275fac=function(e){return new(e||s)(r.ec(a.a))},s.\u0275prov=r.Mb({token:s,factory:s.\u0275fac,providedIn:"root"}),s),u=n("1kSV"),l=n("Uqoa"),d=n("ofXK"),b=n("3Pt+");function f(e,t){1&e&&(r.Wb(0,"div"),r.Wb(1,"p"),r.Qc(2," We are sorry that this happened. Please help us troubleshoot the problem by providing us some additional details using the form below: "),r.Vb(),r.Vb())}function p(e,t){if(1&e&&(r.Wb(0,"div"),r.Wb(1,"p"),r.Qc(2," We are sorry that this happened. It is likely that your browser could not create or access cookies for authorization. If cookies are disabled in your browser, please turn on your cookies before trying again. Alternatively, you could also try emptying your browser's cache, or switching to a different browser. "),r.Vb(),r.Wb(3,"p"),r.Qc(4," For further support, please contact our email address at "),r.Wb(5,"a",6),r.Qc(6),r.Vb(),r.Qc(7,". "),r.Vb(),r.Vb()),2&e){var n=r.kc();r.Cb(5),r.uc("href","mailto:",n.supportEmail,"",r.Ic),r.Cb(1),r.Rc(n.supportEmail)}}function h(e,t){if(1&e){var n=r.Xb();r.Wb(0,"button",13),r.ic("click",(function(){return r.Fc(n),r.kc(2).sendErrorReport()})),r.Qc(1,"Send Error Report"),r.Vb()}if(2&e){var s=r.kc(2);r.sc("disabled",!s.sendButtonEnabled)}}function m(e,t){1&e&&(r.Wb(0,"div"),r.Qc(1," Your error report has been recorded. We will follow up with you in due course, usually, within 24 hours. "),r.Vb())}function v(e,t){if(1&e){var n=r.Xb();r.Wb(0,"div",7),r.Wb(1,"div",8),r.Wb(2,"label"),r.Qc(3,"Request ID:"),r.Vb(),r.Rb(4,"br"),r.Wb(5,"em"),r.Qc(6,"Note: This field is filled by the system and not modifiable."),r.Vb(),r.Wb(7,"input",9),r.ic("ngModelChange",(function(e){return r.Fc(n),r.kc().requestId=e})),r.Vb(),r.Vb(),r.Wb(8,"div",8),r.Wb(9,"label"),r.Qc(10,"Subject:"),r.Vb(),r.Rb(11,"br"),r.Wb(12,"em"),r.Qc(13,"Note: This field is pre-filled for convenience. Feel free to change it to suit your needs."),r.Vb(),r.Wb(14,"input",10),r.ic("ngModelChange",(function(e){return r.Fc(n),r.kc().subject=e})),r.Vb(),r.Vb(),r.Wb(15,"div",8),r.Wb(16,"label"),r.Qc(17,"Content:"),r.Vb(),r.Wb(18,"textarea",11),r.ic("ngModelChange",(function(e){return r.Fc(n),r.kc().content=e})),r.Vb(),r.Vb(),r.Oc(19,h,2,1,"button",12),r.Oc(20,m,2,0,"div",4),r.Vb()}if(2&e){var s=r.kc();r.Cb(7),r.sc("ngModel",s.requestId)("disabled",!0),r.Cb(7),r.sc("ngModel",s.subject),r.Cb(4),r.sc("ngModel",s.content),r.Cb(1),r.sc("ngIf",!s.errorReportSubmitted),r.Cb(1),r.sc("ngIf",s.errorReportSubmitted)}}var y,g=((y=function(){function e(t,n,s){_classCallCheck(this,e),this.errorReportService=t,this.ngbActiveModal=n,this.statusMessageService=s,this.errorMessage="",this.subject="User-submitted Error Report",this.content="",this.requestId="",this.sendButtonEnabled=!0,this.errorReportEnabled=!0,this.errorReportSubmitted=!1,this.csrfErrorMessages=["Missing CSRF token.","Invalid CSRF token."],this.supportEmail=o.a.supportEmail}return _createClass(e,[{key:"ngOnInit",value:function(){this.csrfErrorMessages.includes(this.errorMessage)&&(this.errorReportEnabled=!1)}},{key:"sendErrorReport",value:function(){var e=this,t={requestId:this.requestId,subject:this.subject,content:this.content};this.sendButtonEnabled=!1,this.errorReportService.sendErrorReport({request:t}).subscribe((function(){e.errorReportSubmitted=!0,e.statusMessageService.showSuccessToast("Your error report has been successfully sent"),e.ngbActiveModal.close()}),(function(t){e.sendButtonEnabled=!0,e.statusMessageService.showErrorToast(t.error.message)}))}}]),e}()).\u0275fac=function(e){return new(e||y)(r.Qb(c),r.Qb(u.a),r.Qb(l.a))},y.\u0275cmp=r.Kb({type:y,selectors:[["tm-error-report"]],decls:11,vars:4,consts:[[1,"container","error-container"],[1,"row"],[1,"col-md-12"],["id","error-message"],[4,"ngIf"],["id","error-report",4,"ngIf"],[3,"href"],["id","error-report"],[1,"form-group"],["type","text",1,"form-control",3,"ngModel","disabled","ngModelChange"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["placeholder","Tell us the steps you took that led you to this error page",1,"form-control",3,"ngModel","ngModelChange"],["class","btn btn-success",3,"disabled","click",4,"ngIf"],[1,"btn","btn-success",3,"disabled","click"]],template:function(e,t){1&e&&(r.Wb(0,"div",0),r.Wb(1,"h2"),r.Qc(2,"Uh oh! Something went wrong."),r.Vb(),r.Rb(3,"hr"),r.Wb(4,"div",1),r.Wb(5,"div",2),r.Wb(6,"p",3),r.Qc(7),r.Vb(),r.Oc(8,f,3,0,"div",4),r.Oc(9,p,8,2,"div",4),r.Vb(),r.Vb(),r.Oc(10,v,21,6,"div",5),r.Vb()),2&e&&(r.Cb(7),r.Sc(' The server returns the following error message: "',t.errorMessage,'". '),r.Cb(1),r.sc("ngIf",t.errorReportEnabled),r.Cb(1),r.sc("ngIf",!t.errorReportEnabled),r.Cb(1),r.sc("ngIf",t.errorReportEnabled))},directives:[d.u,b.c,b.p,b.s],styles:[".error-container[_ngcontent-%COMP%]{padding:3%}"]}),y)}}]);