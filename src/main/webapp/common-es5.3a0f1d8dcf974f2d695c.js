function _createForOfIteratorHelper(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,s=function(){};return{s:s,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return r=e.done,e},e:function(e){c=!0,o=e},f:function(){try{r||null==n.return||n.return()}finally{if(c)throw o}}}}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,s=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(a){s=!0,o=a}finally{try{i||null==c.return||c.return()}finally{if(s)throw o}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"+mbT":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){return e.STUDENT_VIEW_PROFILE="student-view-profile",e.STUDENT_EDIT_DETAILS="student-edit-details",e.STUDENT_VIEW_RESPONSES="student-view-responses",e.STUDENT_SEARCH="student-search",e.STUDENT_EMAIL="student-email",e.STUDENT_GOOGLE_ACCOUNT="student-google-account",e.STUDENT_CHANGE_ID="student-change-id",e}({})},"3m/I":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){return e[e.COURSE_ID_MAX_LENGTH=40]="COURSE_ID_MAX_LENGTH",e[e.COURSE_NAME_MAX_LENGTH=64]="COURSE_NAME_MAX_LENGTH",e[e.STUDENT_NAME_MAX_LENGTH=100]="STUDENT_NAME_MAX_LENGTH",e[e.SECTION_NAME_MAX_LENGTH=60]="SECTION_NAME_MAX_LENGTH",e[e.TEAM_NAME_MAX_LENGTH=60]="TEAM_NAME_MAX_LENGTH",e[e.EMAIL_MAX_LENGTH=254]="EMAIL_MAX_LENGTH",e}({})},"5L51":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("ofXK"),s=n("3Pt+"),o=n("mYbV"),r=n("aSpy"),c=n("fXoL"),a=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=c.Ob({type:e}),e.\u0275inj=c.Nb({factory:function(t){return new(t||e)},imports:[[i.c,s.z,r.a,o.a]]}),e}()},"65rL":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("vMQM"),s=n("fXoL"),o=n("mW1j"),r=function(){var e=function(){function e(t){_classCallCheck(this,e),this.httpRequestService=t}return _createClass(e,[{key:"createFeedbackSessionLog",value:function(e){var t={courseid:e.courseId,fsname:e.feedbackSessionName,studentemail:e.studentEmail,fsltype:e.logType.toString()};return this.httpRequestService.post(i.d.SESSION_LOGS,t)}},{key:"searchFeedbackSessionLog",value:function(e){var t={courseid:e.courseId,fslstarttime:e.searchFrom,fslendtime:e.searchUntil};return e.studentEmail&&(t.studentemail=e.studentEmail),this.httpRequestService.get(i.d.SESSION_LOGS,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.ec(o.a))},e.\u0275prov=s.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},PWrf:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("vMQM"),s=n("fXoL"),o=n("mW1j"),r=function(){var e=function(){function e(t){_classCallCheck(this,e),this.httpRequestService=t}return _createClass(e,[{key:"createAccount",value:function(e){return this.httpRequestService.post(i.d.ACCOUNT,{},e)}},{key:"downgradeAccount",value:function(e){return this.httpRequestService.put(i.d.ACCOUNT_DOWNGRADE,{instructorid:e})}},{key:"deleteAccount",value:function(e){return this.httpRequestService.delete(i.d.ACCOUNT,{instructorid:e})}},{key:"resetStudentAccount",value:function(e,t){return this.httpRequestService.put(i.d.ACCOUNT_RESET,{courseid:e,studentemail:t})}},{key:"resetInstructorAccount",value:function(e,t){return this.httpRequestService.put(i.d.ACCOUNT_RESET,{courseid:e,instructoremail:t})}},{key:"getAccount",value:function(e){return this.httpRequestService.get(i.d.ACCOUNT,{instructorid:e})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.ec(o.a))},e.\u0275prov=s.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},QkWY:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("ofXK"),s=n("fXoL"),o=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=s.Ob({type:e}),e.\u0275inj=s.Nb({factory:function(t){return new(t||e)},imports:[[i.c]]}),e}()},Rjy1:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("vMQM"),s=n("fXoL"),o=n("mW1j"),r=function(){var e=function(){function e(t){_classCallCheck(this,e),this.httpRequestService=t}return _createClass(e,[{key:"getStudentProfile",value:function(e,t){return e&&t?this.httpRequestService.get(i.d.STUDENT_PROFILE,{studentemail:e,courseid:t}):this.httpRequestService.get(i.d.STUDENT_PROFILE)}},{key:"updateStudentProfile",value:function(e,t){return this.httpRequestService.put(i.d.STUDENT_PROFILE,{googleid:e},t)}},{key:"getProfilePicture",value:function(){return this.httpRequestService.get(i.d.STUDENT_PROFILE_PICTURE,{},"blob")}},{key:"postProfilePicture",value:function(e){return this.httpRequestService.post(i.d.STUDENT_PROFILE_PICTURE,{},e)}},{key:"deleteProfilePicture",value:function(e){return this.httpRequestService.delete(i.d.STUDENT_PROFILE_PICTURE,e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.ec(o.a))},e.\u0275prov=s.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},RvxK:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("ofXK"),s=n("TOej"),o=n("fXoL"),r=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=o.Ob({type:e}),e.\u0275inj=o.Nb({factory:function(t){return new(t||e)},imports:[[i.c,s.a]]}),e}()},"SX/I":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){return e.COURSE_ADD_STUDENTS="course-add-students",e.SIZE_LIMIT="size-limit",e.NO_TEAMS="no-teams",e.SECTIONS="sections",e.ENROLL_SECTIONS="enroll-sections",e.COURSE_ADD_INSTRUCTOR="course-add-instructor",e.COURSE_EDIT_INSTRUCTOR="course-edit-instructor",e.COURSE_INSTRUCTOR_ACCESS="course-instructor-access",e.PRIVILEGES="privileges",e.COURSE_VIEW_STUDENTS="course-view-students",e.CHANGE_SECTION="change-section",e.DISAPPEARED_COURSE="disappeared-course",e.DEL_STUDENTS="del-students",e.COURSE_ARCHIVE="course-archive",e.COURSE_VIEW_ARCHIVED="course-view-archived",e.COURSE_UNARCHIVE="course-unarchive",e.COURSE_VIEW_DELETED="course-view-deleted",e.COURSE_RESTORE="course-restore",e.PERM_DEL="perm-del",e.RESTORE_ALL="restore-all",e}({})},SfHz:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){return e.TIPS_FOR_CONDUCTION_PEER_EVAL="tips-for-conducting-peer-eval",e.SESSION_QUESTIONS="session-questions",e.SESSION_PREVIEW="session-preview",e.SESSION_CANNOT_SUBMIT="session-cannot-submit",e.SESSION_VIEW_RESULTS="session-view-results",e.SESSION_ADD_COMMENTS="session-add-comments",e.SESSION_SEARCH="session-search",e.VIEW_DELETED_SESSION="view-deleted-session",e.RESTORE_SESSION="restore-session",e.SESSION_NEW_FEEDBACK="session-new-feedback",e.VIEW_ALL_RESPONSES="view-all-responses",e.EDIT_DEL_COMMENT="edit-del-comment",e.PERMANENT_DEL_SESSION="permenant-del-session",e.RESTORE_DEL_ALL="restore-del-all",e}({})},Sz0e:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("ofXK"),s=n("3Pt+"),o=n("tyNb"),r=n("1kSV"),c=n("n6pr"),a=n("fXoL"),u=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=a.Ob({type:e}),e.\u0275inj=a.Nb({factory:function(t){return new(t||e)},imports:[[i.c,s.j,o.h,c.a,r.y]]}),e}()},UH8L:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n("R8lv"),s=n("mL+/"),o=n("fXoL"),r=n("ofXK"),c=n("/SeH"),a=n("HQg1"),u=n("KryH"),l=n("bYKa");function d(e,t){if(1&e&&(o.Wb(0,"tr"),o.Wb(1,"td"),o.Rb(2,"tm-comment-row",7),o.lc(3,"commentToCommentRowModel"),o.Vb(),o.Vb()),2&e){var n=o.kc().$implicit,i=o.kc();o.Cb(2),o.sc("mode",i.CommentRowMode.EDIT)("isVisibilityOptionEnabled",!1)("isDisabled",!0)("shouldHideSavingButton",!0)("shouldHideClosingButton",!0)("shouldHideEditButton",!0)("shouldHideDeleteButton",!0)("isFeedbackParticipantComment",!0)("response",n)("questionShowResponsesTo",i.feedbackQuestion.showResponsesTo)("model",o.mc(3,11,n.participantComment))}}function b(e,t){if(1&e&&(o.Wb(0,"tr"),o.Wb(1,"td"),o.Rb(2,"tm-comment-table",8),o.lc(3,"commentsToCommentTableModel"),o.Vb(),o.Vb()),2&e){var n=o.kc().$implicit,i=o.kc();o.Cb(2),o.sc("response",n)("questionShowResponsesTo",i.feedbackQuestion.showResponsesTo)("model",o.oc(3,4,n.instructorComments,!0,i.timezone))("shouldHideClosingButtonForNewComment",!0)}}function m(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"tr"),o.Wb(2,"td",4),o.Wb(3,"strong"),o.Qc(4,"From:"),o.Vb(),o.Qc(5),o.Vb(),o.Vb(),o.Wb(6,"tr"),o.Wb(7,"td"),o.Rb(8,"tm-single-response",5),o.Vb(),o.Vb(),o.Oc(9,d,4,13,"tr",6),o.Oc(10,b,4,8,"tr",6),o.Tb()),2&e){var n=t.$implicit,i=o.kc();o.Cb(5),o.Sc(" ",n.giver," "),o.Cb(3),o.sc("responseDetails",n.responseDetails)("questionDetails",i.feedbackQuestion.questionDetails)("isStudentPage",!0)("giverEmail",n.giverEmail)("recipientEmail",n.recipientEmail)("statistics",i.statistics),o.Cb(1),o.sc("ngIf",n.participantComment),o.Cb(1),o.sc("ngIf",n.instructorComments.length>0)}}var f=function(){var e=function(){function e(){_classCallCheck(this,e),this.CommentRowMode=s.b,this.feedbackQuestion={feedbackQuestionId:"",questionNumber:1,questionBrief:"",questionDescription:"",questionDetails:{questionType:i.d.MCQ,questionText:""},questionType:i.d.MCQ,giverType:i.c.STUDENTS,recipientType:i.c.STUDENTS,numberOfEntitiesToGiveFeedbackToSetting:i.m.UNLIMITED,customNumberOfEntitiesToGiveFeedbackTo:0,showResponsesTo:[],showGiverNameTo:[],showRecipientNameTo:[]},this.responses=[],this.statistics="",this.isSelfResponses=!1,this.timezone="UTC",this.recipient=""}return _createClass(e,[{key:"ngOnInit",value:function(){this.recipient=this.responses.length?this.responses[0].recipient:""}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Kb({type:e,selectors:[["tm-student-view-responses"]],inputs:{feedbackQuestion:"feedbackQuestion",responses:"responses",statistics:"statistics",isSelfResponses:"isSelfResponses",timezone:"timezone"},decls:10,vars:8,consts:[["id","response-recipient"],[1,"card-body",2,"padding","0"],[1,"table"],[4,"ngFor","ngForOf"],["id","response-giver"],[3,"responseDetails","questionDetails","isStudentPage","giverEmail","recipientEmail","statistics"],[4,"ngIf"],[3,"mode","isVisibilityOptionEnabled","isDisabled","shouldHideSavingButton","shouldHideClosingButton","shouldHideEditButton","shouldHideDeleteButton","isFeedbackParticipantComment","response","questionShowResponsesTo","model"],[3,"response","questionShowResponsesTo","model","shouldHideClosingButtonForNewComment"]],template:function(e,t){1&e&&(o.Wb(0,"div"),o.Wb(1,"div"),o.Wb(2,"span",0),o.Wb(3,"b"),o.Qc(4,"To:"),o.Vb(),o.Qc(5),o.Vb(),o.Vb(),o.Wb(6,"div",1),o.Wb(7,"table",2),o.Wb(8,"tbody"),o.Oc(9,m,11,9,"ng-container",3),o.Vb(),o.Vb(),o.Vb(),o.Vb()),2&e&&(o.Fb("card border-",t.isSelfResponses?"info":"primary"," mt-4"),o.Cb(1),o.Fb("card-header bg-",t.isSelfResponses?"info":"primary"," text-white"),o.Cb(4),o.Sc(" ",t.recipient,""),o.Cb(4),o.sc("ngForOf",t.responses))},directives:[r.t,c.a,r.u,s.a,a.a],pipes:[u.a,l.a],styles:[""]}),e}()},VSAI:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("ofXK"),s=n("XWfC"),o=n("VZAO"),r=n("fXoL"),c=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=r.Ob({type:e}),e.\u0275inj=r.Nb({factory:function(t){return new(t||e)},imports:[[i.c,o.a,s.a]]}),e}()},ZOy6:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("R8lv"),s=n("fXoL"),o=n("ofXK");function r(e,t){1&e&&(s.Wb(0,"i",2),s.Qc(1,"Not Specified"),s.Vb())}function c(e,t){if(1&e&&(s.Wb(0,"span"),s.Qc(1),s.Vb()),2&e){var n=s.kc(2);s.Cb(1),s.Rc(null==n.studentProfile?null:n.studentProfile.shortName)}}function a(e,t){if(1&e&&(s.Wb(0,"i"),s.Qc(1),s.Vb()),2&e){var n=s.kc(2);s.Cb(1),s.Rc(null==n.studentProfile?null:n.studentProfile.gender)}}function u(e,t){if(1&e&&(s.Wb(0,"span"),s.Qc(1),s.Vb()),2&e){var n=s.kc(2);s.Cb(1),s.Rc(null==n.studentProfile?null:n.studentProfile.email)}}function l(e,t){if(1&e&&(s.Wb(0,"span"),s.Qc(1),s.Vb()),2&e){var n=s.kc(2);s.Cb(1),s.Rc(null==n.studentProfile?null:n.studentProfile.institute)}}function d(e,t){if(1&e&&(s.Wb(0,"span"),s.Qc(1),s.Vb()),2&e){var n=s.kc(2);s.Cb(1),s.Rc(null==n.studentProfile?null:n.studentProfile.nationality)}}function b(e,t){if(1&e){var n=s.Xb();s.Ub(0),s.Wb(1,"div",3),s.Wb(2,"div",4),s.Wb(3,"div",3),s.Wb(4,"div",5),s.Wb(5,"img",6),s.ic("error",(function(){return s.Fc(n),s.kc().setDefaultPic()})),s.Vb(),s.Vb(),s.Wb(6,"div",7),s.Wb(7,"table",8),s.Wb(8,"thead"),s.Wb(9,"tr"),s.Wb(10,"th",9),s.Wb(11,"h4"),s.Wb(12,"span",10),s.Qc(13,"Profile Details "),s.Vb(),s.Qc(14,"(submitted by student)"),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Wb(15,"tbody"),s.Wb(16,"tr"),s.Wb(17,"td",10),s.Qc(18,"Short Name (Gender)"),s.Vb(),s.Wb(19,"td",11),s.Oc(20,c,2,1,"span",12),s.Qc(21," ("),s.Oc(22,a,2,1,"i",12),s.Qc(23,") "),s.Vb(),s.Vb(),s.Wb(24,"tr"),s.Wb(25,"td",10),s.Qc(26,"Personal Email"),s.Vb(),s.Wb(27,"td",13),s.Oc(28,u,2,1,"span",12),s.Vb(),s.Vb(),s.Wb(29,"tr"),s.Wb(30,"td",10),s.Qc(31,"Institution"),s.Vb(),s.Wb(32,"td",14),s.Oc(33,l,2,1,"span",12),s.Vb(),s.Vb(),s.Wb(34,"tr"),s.Wb(35,"td",10),s.Qc(36,"Nationality"),s.Vb(),s.Wb(37,"td",15),s.Oc(38,d,2,1,"span",12),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Tb()}if(2&e){var i=s.kc(),o=s.Cc(1);s.Cb(5),s.tc("src",i.photoUrl,s.Ic),s.Cb(15),s.sc("ngIf",null==i.studentProfile?null:i.studentProfile.shortName)("ngIfElse",o),s.Cb(2),s.sc("ngIf",(null==i.studentProfile?null:i.studentProfile.gender)!=i.Gender.OTHER)("ngIfElse",o),s.Cb(6),s.sc("ngIf",null==i.studentProfile?null:i.studentProfile.email)("ngIfElse",o),s.Cb(5),s.sc("ngIf",null==i.studentProfile?null:i.studentProfile.institute)("ngIfElse",o),s.Cb(5),s.sc("ngIf",null==i.studentProfile?null:i.studentProfile.nationality)("ngIfElse",o)}}var m=function(){var e=function(){function e(){_classCallCheck(this,e),this.Gender=i.h,this.photoUrl="/assets/images/profile_picture_default.png"}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"setDefaultPic",value:function(){this.photoUrl="/assets/images/profile_picture_default.png"}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Kb({type:e,selectors:[["tm-student-profile"]],inputs:{photoUrl:"photoUrl",studentProfile:"studentProfile"},decls:3,vars:1,consts:[["notSpecified",""],[4,"ngIf"],[1,"text-muted"],[1,"row"],[1,"col-12"],[1,"col-md-2","col-4"],[1,"profile-pic","float-right",3,"src","error"],[1,"col-md-10","col-8"],[1,"table","table-striped"],["colspan","2"],[1,"font-weight-bold"],["id","name-with-gender"],[4,"ngIf","ngIfElse"],["id","personal-email"],["id","institution"],["id","nationality"]],template:function(e,t){1&e&&(s.Oc(0,r,2,0,"ng-template",null,0,s.Pc),s.Oc(2,b,39,11,"ng-container",1)),2&e&&(s.Cb(2),s.sc("ngIf",t.studentProfile))},directives:[o.u],styles:[".profile-pic[_ngcontent-%COMP%]{height:130px;width:130px}"]}),e}()},"dNX/":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("fXoL"),s=n("W872"),o=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Kb({type:e,selectors:[["tm-page-not-found"]],decls:12,vars:0,consts:[[1,"row"],[1,"alert","alert-warning","col-md-4","col-md-offset-4"],["src","assets/images/error.png",2,"float","left","margin","0 10px 10px 0","height","90px"],["tmRouterLink","/web"]],template:function(e,t){1&e&&(i.Wb(0,"div",0),i.Wb(1,"div",1),i.Rb(2,"img",2),i.Wb(3,"p"),i.Qc(4," The page you are looking for is not there."),i.Rb(5,"br"),i.Rb(6,"br"),i.Qc(7," Make sure that the URL is correct, or go to the "),i.Wb(8,"a",3),i.Qc(9,"home page."),i.Vb(),i.Rb(10,"br"),i.Rb(11,"br"),i.Vb(),i.Vb(),i.Vb())},directives:[s.a],styles:[""]}),e}()},f3aF:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("ofXK"),s=n("1kSV"),o=n("RPsU"),r=n("SEFB"),c=n("fXoL"),a=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=c.Ob({type:e}),e.\u0275inj=c.Nb({factory:function(t){return new(t||e)},imports:[[i.c,s.y,r.a,o.a]]}),e}()},gEaU:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("ofXK"),s=n("tyNb"),o=n("TOej"),r=n("fXoL"),c=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=r.Ob({type:e}),e.\u0275inj=r.Nb({factory:function(t){return new(t||e)},imports:[[i.c,s.h,o.a]]}),e}()},gMOI:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("9jjE"),s=n("p6cw"),o=function(){function e(t,n,i,s){_classCallCheck(this,e),this.commentToCommentRowModel=t,this.commentService=n,this.statusMessageService=i,this.tableComparatorService=s,this.instructorCommentTableModel={}}return _createClass(e,[{key:"deleteComment",value:function(e){var t=this,n=this.instructorCommentTableModel[e.responseId];this.commentService.deleteComment(this.instructorCommentTableModel[e.responseId].commentRows[e.index].originalComment.feedbackResponseCommentId,i.b.INSTRUCTOR_RESULT).subscribe((function(){n.commentRows.splice(e.index,1),t.instructorCommentTableModel[e.responseId]=Object.assign({},n)}),(function(e){t.statusMessageService.showErrorToast(e.error.message)}))}},{key:"updateComment",value:function(e,t){var n=this,s=this.instructorCommentTableModel[e.responseId],o=s.commentRows[e.index];this.commentService.updateComment({commentText:o.commentEditFormModel.commentText,showCommentTo:o.commentEditFormModel.showCommentTo,showGiverNameTo:o.commentEditFormModel.showGiverNameTo},o.originalComment.feedbackResponseCommentId,i.b.INSTRUCTOR_RESULT).subscribe((function(i){s.commentRows[e.index]=n.commentToCommentRowModel.transform(Object.assign(Object.assign({},i),{commentGiverName:o.commentGiverName,lastEditorName:n.currInstructorName}),t),n.instructorCommentTableModel[e.responseId]=Object.assign({},s)}),(function(e){n.statusMessageService.showErrorToast(e.error.message)}))}},{key:"saveNewComment",value:function(e,t){var n=this,s=this.instructorCommentTableModel[e],o=s.newCommentRow;this.commentService.createComment({commentText:o.commentEditFormModel.commentText,showCommentTo:o.commentEditFormModel.showCommentTo,showGiverNameTo:o.commentEditFormModel.showGiverNameTo},e,i.b.INSTRUCTOR_RESULT).subscribe((function(i){s.commentRows.push(n.commentToCommentRowModel.transform(Object.assign(Object.assign({},i),{commentGiverName:n.currInstructorName,lastEditorName:n.currInstructorName}),t)),n.instructorCommentTableModel[e]=Object.assign(Object.assign({},s),{newCommentRow:{commentEditFormModel:{commentText:"",isUsingCustomVisibilities:!1,showCommentTo:[],showGiverNameTo:[]},isEditing:!1},isAddingNewComment:!1})}),(function(e){n.statusMessageService.showErrorToast(e.error.message)}))}},{key:"sortComments",value:function(e){var t=this;e.commentRows.sort((function(e,n){var i,o;return t.tableComparatorService.compare(s.a.COMMENTS_CREATION_DATE,s.b.ASC,String(null===(i=e.originalComment)||void 0===i?void 0:i.createdAt),String(null===(o=n.originalComment)||void 0===o?void 0:o.createdAt))}))}}]),e}()},hBZu:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("/Tzu"),s=n("fXoL"),o=n("eQqG"),r=n("ofXK");function c(e,t){1&e&&(s.Wb(0,"i",9),s.Qc(1,"Not Specified"),s.Vb())}function a(e,t){if(1&e){var n=s.Xb();s.Wb(0,"span",10),s.ic("click",(function(){return s.Fc(n),s.kc().openMoreInfoModal()})),s.Vb()}}function u(e,t){if(1&e&&(s.Wb(0,"span"),s.Qc(1),s.Vb()),2&e){var n=s.kc();s.Cb(1),s.Rc(n.moreInfoText)}}var l=function(){var e=function(){function e(t){_classCallCheck(this,e),this.simpleModalService=t,this.studentName="",this.moreInfoText=""}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"openMoreInfoModal",value:function(){this.simpleModalService.openInformationModal("<strong>".concat(this.studentName,"<strong>'s Profile - More Info"),i.a.NEUTRAL,this.moreInfoText,{confirmMessage:"Close"})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Qb(o.a))},e.\u0275cmp=s.Kb({type:e,selectors:[["tm-more-info"]],inputs:{studentName:"studentName",moreInfoText:"moreInfoText"},decls:11,vars:3,consts:[["notSpecified",""],[1,"row"],[1,"col-12"],[1,"card","border-gray"],[1,"card-body"],["class","text-muted float-right fas fa-expand-arrows-alt cursor-pointer",3,"click",4,"ngIf"],[1,"font-weight-bold"],["id","more-info",1,"text-preserve-space","height-fixed-md"],[4,"ngIf","ngIfElse"],[1,"text-muted"],[1,"text-muted","float-right","fas","fa-expand-arrows-alt","cursor-pointer",3,"click"]],template:function(e,t){if(1&e&&(s.Oc(0,c,2,0,"ng-template",null,0,s.Pc),s.Wb(2,"div",1),s.Wb(3,"div",2),s.Wb(4,"div",3),s.Wb(5,"div",4),s.Oc(6,a,1,0,"span",5),s.Wb(7,"h4",6),s.Qc(8,"More Info:"),s.Vb(),s.Wb(9,"p",7),s.Oc(10,u,2,1,"span",8),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb()),2&e){var n=s.Cc(1);s.Cb(6),s.sc("ngIf",t.moreInfoText),s.Cb(4),s.sc("ngIf",t.moreInfoText)("ngIfElse",n)}},directives:[r.u],styles:[".height-fixed-md[_ngcontent-%COMP%]{max-height:250px;min-height:150px;overflow:auto}"]}),e}()},kwSR:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var i,s=n("fXoL"),o=n("p6cw"),r=n("JUCI"),c=n("ofXK"),a=n("1kSV"),u=n("zAMY"),l=n("4mYk"),d=n("A3DQ"),b=((i=function(){function e(t){_classCallCheck(this,e),this.timezoneService=t}return _createClass(e,[{key:"transform",value:function(e,t){return this.timezoneService.formatToString(e,t,"DD MMM, YYYY")}}]),e}()).\u0275fac=function(e){return new(e||i)(s.Qb(d.b))},i.\u0275pipe=s.Pb({name:"recycleBinTableFormatDate",type:i,pure:!0}),i);function m(e,t){1&e&&s.Rb(0,"i",25)}function f(e,t){1&e&&s.Rb(0,"i",26)}function h(e,t){1&e&&s.Rb(0,"i",25)}function S(e,t){1&e&&s.Rb(0,"i",26)}function v(e,t){1&e&&s.Rb(0,"i",25)}function p(e,t){1&e&&s.Rb(0,"i",26)}function g(e,t){1&e&&s.Rb(0,"i",25)}function E(e,t){1&e&&s.Rb(0,"i",26)}function y(e,t){if(1&e){var n=s.Xb();s.Wb(0,"tr"),s.Wb(1,"td"),s.Qc(2),s.Vb(),s.Wb(3,"td"),s.Qc(4),s.Vb(),s.Wb(5,"td"),s.Wb(6,"span",27),s.lc(7,"formatDateDetail"),s.Qc(8),s.lc(9,"recycleBinTableFormatDate"),s.Vb(),s.Vb(),s.Wb(10,"td"),s.Wb(11,"span",27),s.lc(12,"formatDateDetail"),s.Qc(13),s.lc(14,"recycleBinTableFormatDate"),s.Vb(),s.Vb(),s.Wb(15,"td",28),s.Wb(16,"button",29),s.ic("click",(function(){s.Fc(n);var e=t.$implicit;return s.kc(3).restoreSessionEvent.emit(e)})),s.Qc(17,"Restore"),s.Vb(),s.Wb(18,"button",30),s.ic("click",(function(){s.Fc(n);var e=t.$implicit;return s.kc(3).permanentlyDeleteSessionEvent.emit(e)})),s.Qc(19,"Delete Permanently"),s.Vb(),s.Vb(),s.Vb()}if(2&e){var i=t.$implicit,o=t.index;s.Cb(2),s.Rc(i.feedbackSession.courseId),s.Cb(2),s.Rc(i.feedbackSession.feedbackSessionName),s.Cb(2),s.sc("ngbTooltip",s.nc(7,8,i.feedbackSession.createdAtTimestamp,i.feedbackSession.timeZone)),s.Cb(2),s.Sc(" ",s.nc(9,11,i.feedbackSession.createdAtTimestamp,i.feedbackSession.timeZone)," "),s.Cb(3),s.sc("ngbTooltip",s.nc(12,14,i.feedbackSession.deletedAtTimestamp,i.feedbackSession.timeZone)),s.Cb(2),s.Sc(" ",s.nc(14,17,i.feedbackSession.deletedAtTimestamp,i.feedbackSession.timeZone)," "),s.Cb(3),s.uc("id","btn-restore-",o,""),s.Cb(2),s.uc("id","btn-delete-",o,"")}}function C(e,t){if(1&e){var n=s.Xb();s.Wb(0,"div"),s.Wb(1,"table",14),s.Wb(2,"thead",15),s.Wb(3,"tr"),s.Wb(4,"th",16),s.ic("click",(function(){s.Fc(n);var e=s.kc(2);return e.sortRecycleBinFeedbackSessionRows(e.SortBy.COURSE_ID)})),s.Qc(5," Course ID "),s.Wb(6,"span",17),s.Rb(7,"i",18),s.Oc(8,m,1,0,"i",19),s.Oc(9,f,1,0,"i",20),s.Vb(),s.Vb(),s.Wb(10,"th",21),s.ic("click",(function(){s.Fc(n);var e=s.kc(2);return e.sortRecycleBinFeedbackSessionRows(e.SortBy.SESSION_NAME)})),s.Qc(11," Session Name "),s.Wb(12,"span",17),s.Rb(13,"i",18),s.Oc(14,h,1,0,"i",19),s.Oc(15,S,1,0,"i",20),s.Vb(),s.Vb(),s.Wb(16,"th",22),s.ic("click",(function(){s.Fc(n);var e=s.kc(2);return e.sortRecycleBinFeedbackSessionRows(e.SortBy.SESSION_CREATION_DATE)})),s.Qc(17," Creation Date "),s.Wb(18,"span",17),s.Rb(19,"i",18),s.Oc(20,v,1,0,"i",19),s.Oc(21,p,1,0,"i",20),s.Vb(),s.Vb(),s.Wb(22,"th",22),s.ic("click",(function(){s.Fc(n);var e=s.kc(2);return e.sortRecycleBinFeedbackSessionRows(e.SortBy.SESSION_DELETION_DATE)})),s.Qc(23," Deletion Date "),s.Wb(24,"span",17),s.Rb(25,"i",18),s.Oc(26,g,1,0,"i",19),s.Oc(27,E,1,0,"i",20),s.Vb(),s.Vb(),s.Wb(28,"th",23),s.Qc(29,"Action(s)"),s.Vb(),s.Vb(),s.Vb(),s.Wb(30,"tbody"),s.Oc(31,y,20,20,"tr",24),s.Vb(),s.Vb(),s.Vb()}if(2&e){var i=s.kc(2);s.sc("@collapseAnim",void 0),s.Cb(8),s.sc("ngIf",i.recycleBinFeedbackSessionRowModelsSortBy===i.SortBy.COURSE_ID&&i.recycleBinFeedbackSessionRowModelsSortOrder===i.SortOrder.DESC),s.Cb(1),s.sc("ngIf",i.recycleBinFeedbackSessionRowModelsSortBy===i.SortBy.COURSE_ID&&i.recycleBinFeedbackSessionRowModelsSortOrder===i.SortOrder.ASC),s.Cb(5),s.sc("ngIf",i.recycleBinFeedbackSessionRowModelsSortBy===i.SortBy.SESSION_NAME&&i.recycleBinFeedbackSessionRowModelsSortOrder===i.SortOrder.DESC),s.Cb(1),s.sc("ngIf",i.recycleBinFeedbackSessionRowModelsSortBy===i.SortBy.SESSION_NAME&&i.recycleBinFeedbackSessionRowModelsSortOrder===i.SortOrder.ASC),s.Cb(5),s.sc("ngIf",i.recycleBinFeedbackSessionRowModelsSortBy===i.SortBy.SESSION_CREATION_DATE&&i.recycleBinFeedbackSessionRowModelsSortOrder===i.SortOrder.DESC),s.Cb(1),s.sc("ngIf",i.recycleBinFeedbackSessionRowModelsSortBy===i.SortBy.SESSION_CREATION_DATE&&i.recycleBinFeedbackSessionRowModelsSortOrder===i.SortOrder.ASC),s.Cb(5),s.sc("ngIf",i.recycleBinFeedbackSessionRowModelsSortBy===i.SortBy.SESSION_DELETION_DATE&&i.recycleBinFeedbackSessionRowModelsSortOrder===i.SortOrder.DESC),s.Cb(1),s.sc("ngIf",i.recycleBinFeedbackSessionRowModelsSortBy===i.SortBy.SESSION_DELETION_DATE&&i.recycleBinFeedbackSessionRowModelsSortOrder===i.SortOrder.ASC),s.Cb(4),s.sc("ngForOf",i.recycleBinFeedbackSessionRowModels)}}function k(e,t){if(1&e){var n=s.Xb();s.Wb(0,"div",1),s.Wb(1,"div",2),s.Wb(2,"h2",3),s.Rb(3,"i",4),s.Qc(4," Deleted Feedback Sessions "),s.Vb(),s.Wb(5,"div",5),s.Wb(6,"div",6),s.ic("click",(function(){return s.Fc(n),s.kc().recycleBinExpandEvent.emit()})),s.Wb(7,"b"),s.Qc(8,"Recycle Bin"),s.Vb(),s.Wb(9,"div",7),s.Wb(10,"button",8),s.ic("click",(function(e){s.Fc(n);var t=s.kc();return e.stopPropagation(),t.restoreAllRecycleBinFeedbackSessionEvent.emit()})),s.Rb(11,"i",9),s.Qc(12," Restore All"),s.Vb(),s.Wb(13,"button",10),s.ic("click",(function(e){s.Fc(n);var t=s.kc();return e.stopPropagation(),t.permanentDeleteAllSessionsEvent.emit()})),s.Rb(14,"i",11),s.Qc(15," Delete All"),s.Vb(),s.Rb(16,"tm-panel-chevron",12),s.Vb(),s.Vb(),s.Oc(17,C,32,10,"div",13),s.Vb(),s.Vb(),s.Vb()}if(2&e){var i=s.kc();s.Cb(16),s.sc("isExpanded",i.isRecycleBinExpanded),s.Cb(1),s.sc("ngIf",i.isRecycleBinExpanded)}}var I,O=((I=function(){function e(){_classCallCheck(this,e),this.SortBy=o.a,this.SortOrder=o.b,this.isRecycleBinExpanded=!1,this.recycleBinFeedbackSessionRowModels=[],this.recycleBinFeedbackSessionRowModelsSortBy=o.a.NONE,this.recycleBinFeedbackSessionRowModelsSortOrder=o.b.ASC,this.restoreSessionEvent=new s.n,this.restoreAllRecycleBinFeedbackSessionEvent=new s.n,this.permanentlyDeleteSessionEvent=new s.n,this.permanentDeleteAllSessionsEvent=new s.n,this.sortRecycleBinFeedbackSessionRowsEvent=new s.n,this.recycleBinExpandEvent=new s.n}return _createClass(e,[{key:"sortRecycleBinFeedbackSessionRows",value:function(e){this.sortRecycleBinFeedbackSessionRowsEvent.emit(e)}},{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||I)},I.\u0275cmp=s.Kb({type:I,selectors:[["tm-sessions-recycle-bin-table"]],inputs:{isRecycleBinExpanded:"isRecycleBinExpanded",recycleBinFeedbackSessionRowModels:"recycleBinFeedbackSessionRowModels",recycleBinFeedbackSessionRowModelsSortBy:"recycleBinFeedbackSessionRowModelsSortBy",recycleBinFeedbackSessionRowModelsSortOrder:"recycleBinFeedbackSessionRowModelsSortOrder"},outputs:{restoreSessionEvent:"restoreSessionEvent",restoreAllRecycleBinFeedbackSessionEvent:"restoreAllRecycleBinFeedbackSessionEvent",permanentlyDeleteSessionEvent:"permanentlyDeleteSessionEvent",permanentDeleteAllSessionsEvent:"permanentDeleteAllSessionsEvent",sortRecycleBinFeedbackSessionRowsEvent:"sortRecycleBinFeedbackSessionRowsEvent",recycleBinExpandEvent:"recycleBinExpandEvent"},decls:1,vars:1,consts:[["class","row card-body recycle-bin-body",4,"ngIf"],[1,"row","card-body","recycle-bin-body"],[1,"col-12"],[1,"text-muted"],[1,"fas","fa-trash-alt"],[1,"card","bg-light","top-padded"],["id","deleted-sessions-heading",1,"card-header","bg-secondary","text-white","cursor-pointer",3,"click"],[1,"card-header-btn-toolbar"],["id","btn-restore-all","type","button","ngbTooltip","Restore all feedback sessions",1,"btn","btn-secondary","btn-sm",3,"click"],[1,"fas","fa-check"],["id","btn-delete-all","type","button","ngbTooltip","Permanently delete all feedback sessions",1,"btn","btn-secondary","btn-sm",3,"click"],[1,"fas","fa-times"],[3,"isExpanded"],[4,"ngIf"],["id","deleted-sessions-table",1,"table","table-responsive-lg","table-striped","table-bordered","recycle-bin-table"],[1,"recycle-bin-table-header"],["id","sort-deleted-course-id",1,"sortable-header",3,"click"],[1,"fa-stack"],[1,"fas","fa-sort"],["class","fas fa-sort-down",4,"ngIf"],["class","fas fa-sort-up",4,"ngIf"],["id","sort-deleted-session-name",1,"sortable-header",3,"click"],[1,"sortable-header",3,"click"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"fas","fa-sort-down"],[1,"fas","fa-sort-up"],["container","body",1,"ngb-tooltip-class",3,"ngbTooltip"],[1,"text-center","actions-cell"],["type","button",1,"btn","btn-light","btn-sm",3,"id","click"],["type","button",1,"btn","btn-light","btn-sm","text-danger",3,"id","click"]],template:function(e,t){1&e&&s.Oc(0,k,18,2,"div",0),2&e&&s.sc("ngIf",0!==t.recycleBinFeedbackSessionRowModels.length)},directives:[c.u,a.w,u.a,c.t],pipes:[l.a,b],styles:[".recycle-bin-body[_ngcontent-%COMP%]{padding:0}.recycle-bin-table[_ngcontent-%COMP%]{margin-bottom:0}.recycle-bin-table-header[_ngcontent-%COMP%]{background-color:#e5e5e6;color:grey;font-weight:400}.sortable-header[_ngcontent-%COMP%]{cursor:pointer}.actions-cell[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:var(--btn-margin)}"],data:{animation:[r.a]}}),I)},m63a:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("1kSV"),s=n("fXoL"),o=["*"],r=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"open",value:function(e){}}]),e}(),c=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Kb({type:e,selectors:[["tm-example-box"]],features:[s.Bb([{provide:i.m,useClass:r}])],ngContentSelectors:o,decls:2,vars:0,consts:[[1,"bs-example"]],template:function(e,t){1&e&&(s.rc(),s.Wb(0,"div",0),s.qc(1),s.Vb())},styles:['.bs-example[_ngcontent-%COMP%]{background-color:#fafafa;border-color:#e5e5e5 #eee #eee;border-style:solid;border-width:1px 0;box-shadow:inset 0 3px 6px rgba(0,0,0,.05);margin:0 -15px 15px;padding:45px 15px 15px;position:relative}.bs-example[_ngcontent-%COMP%]:after{color:#bbb;content:"Example";font-size:12px;font-weight:700;left:15px;letter-spacing:1px;position:absolute;text-transform:uppercase;top:15px}.bs-example[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{width:auto}.bs-example[_ngcontent-%COMP%] + .highlight[_ngcontent-%COMP%]{border-radius:0;border-width:0 0 1px;margin:-15px -15px 15px}@media (min-width:768px){.bs-example[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ddd;border-radius:4px 4px 0 0;box-shadow:none;margin-left:0;margin-right:0}.bs-example[_ngcontent-%COMP%] + .highlight[_ngcontent-%COMP%]{border-bottom-left-radius:4px;border-bottom-right-radius:4px;border-width:1px;margin-left:0;margin-right:0;margin-top:-16px}}']}),e}()},mZ3C:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var i=n("3Pt+"),s=n("nYR2"),o=n("R8lv"),r=n("3m/I"),c=n("/Tzu"),a=n("fXoL"),u=n("tyNb"),l=n("Uqoa"),d=n("iRmZ"),b=n("Pvcr"),m=n("1kSV"),f=n("eQqG"),h=n("Babz"),S=n("Lcal"),v=n("ofXK");function p(e,t){if(1&e&&(a.Wb(0,"div",20),a.Rb(1,"i",21),a.Wb(2,"span",22),a.Qc(3),a.Vb(),a.Wb(4,"span",22),a.Qc(5),a.Vb(),a.Vb()),2&e){var n=a.kc(3);a.Cb(2),a.sc("hidden",!n.editForm.get("studentname").errors.required),a.Cb(1),a.Sc(" ",n.displayEmptyFieldMessage("Student Name")," "),a.Cb(1),a.sc("hidden",!n.editForm.get("studentname").errors.maxlength),a.Cb(1),a.Sc(" ",n.displayExceedMaxLengthMessage("Student Name",n.FormValidator.STUDENT_NAME_MAX_LENGTH)," ")}}function g(e,t){if(1&e&&(a.Wb(0,"div",20),a.Rb(1,"i",21),a.Wb(2,"span",22),a.Qc(3),a.Vb(),a.Wb(4,"span",22),a.Qc(5),a.Vb(),a.Vb()),2&e){var n=a.kc(3);a.Cb(2),a.sc("hidden",!n.editForm.get("sectionname").errors.required),a.Cb(1),a.Sc(" ",n.displayEmptyFieldMessage("Section Name")," "),a.Cb(1),a.sc("hidden",!n.editForm.get("sectionname").errors.maxlength),a.Cb(1),a.Sc(" ",n.displayExceedMaxLengthMessage("Section Name",n.FormValidator.SECTION_NAME_MAX_LENGTH)," ")}}function E(e,t){if(1&e&&(a.Wb(0,"div",20),a.Rb(1,"i",21),a.Wb(2,"span",22),a.Qc(3),a.Vb(),a.Wb(4,"span",22),a.Qc(5),a.Vb(),a.Vb()),2&e){var n=a.kc(3);a.Cb(2),a.sc("hidden",!n.editForm.get("teamname").errors.required),a.Cb(1),a.Sc(" ",n.displayEmptyFieldMessage("Team Name")," "),a.Cb(1),a.sc("hidden",!n.editForm.get("teamname").errors.maxlength),a.Cb(1),a.Sc(" ",n.displayExceedMaxLengthMessage("Team Name",n.FormValidator.TEAM_NAME_MAX_LENGTH)," ")}}function y(e,t){if(1&e&&(a.Wb(0,"div",20),a.Rb(1,"i",21),a.Wb(2,"span",22),a.Qc(3),a.Vb(),a.Wb(4,"span",22),a.Qc(5),a.Vb(),a.Vb()),2&e){var n=a.kc(3);a.Cb(2),a.sc("hidden",!n.editForm.get("newstudentemail").errors.required),a.Cb(1),a.Sc(" ",n.displayEmptyFieldMessage("E-mail Address")," "),a.Cb(1),a.sc("hidden",!n.editForm.get("newstudentemail").errors.maxlength),a.Cb(1),a.Sc(" ",n.displayExceedMaxLengthMessage("E-mail Address",n.FormValidator.EMAIL_MAX_LENGTH)," ")}}function C(e,t){if(1&e){var n=a.Xb();a.Wb(0,"div",23),a.Wb(1,"h4",24),a.Qc(2,"Resend past links to the new email?"),a.Vb(),a.Wb(3,"button",25),a.ic("click",(function(){return t.$implicit.dismiss()})),a.Qc(4,"\xd7"),a.Vb(),a.Vb(),a.Wb(5,"div",26),a.Qc(6),a.Vb(),a.Wb(7,"div",27),a.Wb(8,"button",28),a.ic("click",(function(){a.Fc(n);var e=t.$implicit;return a.kc(3).submitEditForm(!0),e.dismiss()})),a.Qc(9," Yes, save changes and resend links "),a.Vb(),a.Wb(10,"button",29),a.ic("click",(function(){a.Fc(n);var e=t.$implicit;return a.kc(3).submitEditForm(!1),e.dismiss()})),a.Qc(11," No, just save the changes "),a.Vb(),a.Wb(12,"button",30),a.ic("click",(function(){return t.$implicit.dismiss()})),a.Qc(13," Cancel "),a.Vb(),a.Vb()}if(2&e){var i,s=a.kc(3);a.Cb(6),a.Sc(" Do you want to resend past session links of this course to the new email ",null==(i=s.editForm.get("newstudentemail"))?null:i.value,"? ")}}function k(e,t){if(1&e){var n=a.Xb();a.Wb(0,"div",3),a.Wb(1,"div",4),a.Wb(2,"form",5),a.ic("ngSubmit",(function(){a.Fc(n);var e=a.Cc(44);return a.kc(2).onSubmit(e)})),a.Wb(3,"div",6),a.Wb(4,"label",7),a.Qc(5,"Course ID:"),a.Vb(),a.Wb(6,"div",8),a.Qc(7),a.Vb(),a.Vb(),a.Wb(8,"div",6),a.Wb(9,"label",9),a.Qc(10,"Student Name:"),a.Vb(),a.Wb(11,"div",10),a.Rb(12,"input",11),a.Oc(13,p,6,4,"div",12),a.Vb(),a.Vb(),a.Wb(14,"div",6),a.Wb(15,"label",9),a.Qc(16,"Section Name:"),a.Vb(),a.Wb(17,"div",10),a.Rb(18,"input",13),a.Oc(19,g,6,4,"div",12),a.Vb(),a.Vb(),a.Wb(20,"div",6),a.Wb(21,"label",9),a.Qc(22,"Team Name:"),a.Vb(),a.Wb(23,"div",10),a.Rb(24,"input",14),a.Oc(25,E,6,4,"div",12),a.Vb(),a.Vb(),a.Wb(26,"div",6),a.Wb(27,"label",9),a.Qc(28,"E-mail Address:"),a.Vb(),a.Wb(29,"div",10),a.Rb(30,"input",15),a.Oc(31,y,6,4,"div",12),a.Vb(),a.Vb(),a.Wb(32,"div",6),a.Wb(33,"label",9),a.Qc(34,"Comments:"),a.Vb(),a.Wb(35,"div",10),a.Wb(36,"textarea",16),a.Qc(37,"              "),a.Vb(),a.Vb(),a.Vb(),a.Rb(38,"br"),a.Wb(39,"div",17),a.Rb(40,"input",18),a.Vb(),a.Rb(41,"br"),a.Rb(42,"br"),a.Oc(43,C,14,1,"ng-template",null,19,a.Pc),a.Vb(),a.Vb(),a.Vb()}if(2&e){var i=a.kc(2);a.Cb(2),a.sc("formGroup",i.editForm),a.Cb(5),a.Rc(i.courseId),a.Cb(6),a.sc("ngIf",i.editForm.get("studentname").errors&&(i.editForm.get("studentname").dirty||i.editForm.get("studentname").touched)),a.Cb(6),a.sc("ngIf",i.editForm.get("sectionname").errors&&(i.editForm.get("sectionname").dirty||i.editForm.get("sectionname").touched)),a.Cb(6),a.sc("ngIf",i.editForm.get("teamname").errors&&(i.editForm.get("teamname").dirty||i.editForm.get("teamname").touched)),a.Cb(6),a.sc("ngIf",i.editForm.get("newstudentemail").errors&&(i.editForm.get("newstudentemail").dirty||i.editForm.get("newstudentemail").touched)),a.Cb(9),a.sc("disabled",!i.editForm.valid)}}function I(e,t){if(1&e&&(a.Wb(0,"div"),a.Oc(1,k,45,7,"div",2),a.Vb()),2&e){var n=a.kc();a.Cb(1),a.sc("ngIf",n.student)}}var O=function(){var e=function(){function e(t,n,i,s,o,c,a){_classCallCheck(this,e),this.route=t,this.router=n,this.statusMessageService=i,this.studentService=s,this.navigationService=o,this.ngbModal=c,this.simpleModalService=a,this.FormValidator=r.a,this.isEnabled=!0,this.courseId="",this.studentEmail="",this.isTeamnameFieldChanged=!1,this.isEmailFieldChanged=!1,this.isStudentLoading=!1,this.hasStudentLoadingFailed=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;if(!this.isEnabled)return this.student={email:"alice@email.com",courseId:"",name:"Alice Betsy",lastName:"",comments:"Alice is a transfer student.",teamName:"Team A",sectionName:"Section A",joinState:o.j.JOINED},void this.initEditForm();this.route.queryParams.subscribe((function(t){e.courseId=t.courseid,e.studentEmail=t.studentemail,e.loadStudentEditDetails(t.courseid,t.studentemail)}))}},{key:"ngOnDestroy",value:function(){this.emailFieldSubscription&&this.emailFieldSubscription.unsubscribe(),this.teamFieldSubscription&&this.teamFieldSubscription.unsubscribe()}},{key:"loadStudentEditDetails",value:function(e,t){var n=this;this.hasStudentLoadingFailed=!1,this.isStudentLoading=!0,this.studentService.getStudent(e,t).pipe(Object(s.a)((function(){return n.isStudentLoading=!1}))).subscribe((function(e){n.student=e,n.initEditForm()}),(function(e){n.hasStudentLoadingFailed=!0,n.statusMessageService.showErrorToast(e.error.message)}))}},{key:"initEditForm",value:function(){var e=this;this.editForm=new i.h({studentname:new i.f(this.student.name,[i.D.required,i.D.maxLength(r.a.STUDENT_NAME_MAX_LENGTH)]),sectionname:new i.f(this.student.sectionName,[i.D.required,i.D.maxLength(r.a.SECTION_NAME_MAX_LENGTH)]),teamname:new i.f(this.student.teamName,[i.D.required,i.D.maxLength(r.a.TEAM_NAME_MAX_LENGTH)]),newstudentemail:new i.f(this.student.email,[i.D.required,i.D.maxLength(r.a.EMAIL_MAX_LENGTH)]),comments:new i.f(this.student.comments)}),this.teamFieldSubscription=this.editForm.get("teamname").valueChanges.subscribe((function(){e.isTeamnameFieldChanged=!0})),this.emailFieldSubscription=this.editForm.get("newstudentemail").valueChanges.subscribe((function(){return e.isEmailFieldChanged=!0}))}},{key:"displayEmptyFieldMessage",value:function(e){return"The field '".concat(e,"' should not be empty.")}},{key:"displayExceedMaxLengthMessage",value:function(e,t){return"The field '".concat(e,"' should not exceed ").concat(t," characters.")}},{key:"onSubmit",value:function(e){var t=this;this.isEnabled&&(this.isTeamnameFieldChanged?this.simpleModalService.openConfirmationModal("Delete existing responses?",c.a.WARNING,"Editing these fields will result in some existing responses from this student to be deleted.\n            You may download the data before you make the changes.").result.then((function(){t.deleteExistingResponses(e)}),(function(){})):this.isEmailFieldChanged?this.ngbModal.open(e):this.submitEditForm(!1))}},{key:"deleteExistingResponses",value:function(e){this.isEmailFieldChanged?this.ngbModal.open(e):this.submitEditForm(!1)}},{key:"submitEditForm",value:function(e){var t=this;this.studentService.updateStudent({courseId:this.courseId,studentEmail:this.student.email,requestBody:{name:this.editForm.value.studentname,email:this.editForm.value.newstudentemail,team:this.editForm.value.teamname,section:this.editForm.value.sectionname,comments:this.editForm.value.comments,isSessionSummarySendEmail:e}}).subscribe((function(e){t.navigationService.navigateWithSuccessMessage(t.router,"/web/instructor/courses/details",e.message,{courseid:t.courseId})}),(function(e){t.statusMessageService.showErrorToast(e.error.message)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.Qb(u.a),a.Qb(u.d),a.Qb(l.a),a.Qb(d.a),a.Qb(b.a),a.Qb(m.m),a.Qb(f.a))},e.\u0275cmp=a.Kb({type:e,selectors:[["tm-instructor-course-student-edit-page"]],inputs:{isEnabled:"isEnabled"},decls:2,vars:3,consts:[[3,"shouldShowRetry","message","retryEvent"],[4,"tmIsLoading"],["class","card border-primary",4,"ngIf"],[1,"card","border-primary"],[1,"card-body","fill-plain","text-sm-left"],["id","instructor-student-edit-form",1,"form","form-horizontal",3,"formGroup","ngSubmit"],[1,"form-row"],[1,"col-sm-2"],["id","courseid",1,"col-sm-10"],[1,"col-sm-2","col-form-label"],[1,"col-sm-10"],["id","studentname","formControlName","studentname",1,"form-control"],["class","invalid-field",4,"ngIf"],["id","sectionname","formControlName","sectionname",1,"form-control"],["name","teamname","id","teamname","formControlName","teamname",1,"form-control","col-form-label"],["id","newstudentemail","formControlName","newstudentemail",1,"form-control"],["rows","6","id","comments","formControlName","comments",1,"form-control"],[1,"text-center"],["type","submit","id","btn-submit","value","Save Changes",1,"btn","btn-success",3,"disabled"],["resendPastLinksModal",""],[1,"invalid-field"],["aria-hidden","true",1,"fa","fa-exclamation-circle"],[3,"hidden"],[1,"modal-header","alert-primary"],[1,"modal-title","icon-primary"],["type","button","data-dismiss","modal","aria-hidden","true",1,"close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["id","btn-resend-links","type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-outline-secondary",3,"click"]],template:function(e,t){1&e&&(a.Wb(0,"tm-loading-retry",0),a.ic("retryEvent",(function(){return t.loadStudentEditDetails(t.courseId,t.studentEmail)})),a.Oc(1,I,2,1,"div",1),a.Vb()),2&e&&(a.sc("shouldShowRetry",t.hasStudentLoadingFailed)("message","Failed to load student"),a.Cb(1),a.sc("tmIsLoading",t.isStudentLoading))},directives:[h.a,S.a,v.u,i.F,i.q,i.i,i.c,i.p,i.g],styles:[".fill-plain[_ngcontent-%COMP%]{background-color:#eaeff5}label[_ngcontent-%COMP%]{font-weight:700}.form-row[_ngcontent-%COMP%]{margin-bottom:15px}.invalid-field[_ngcontent-%COMP%]{padding-top:5px;color:#b50000}"]}),e}()},vDEa:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("fXoL"),s=n("nYR2"),o=n("Uqoa"),r=n("vKUq"),c=n("A3DQ"),a=n("3Pt+"),u=n("1kSV"),l=n("ofXK"),d=n("Wsbs");function b(e,t){if(1&e&&(i.Wb(0,"option",20),i.Qc(1),i.Vb()),2&e){var n=t.$implicit;i.sc("value",n.id),i.Cb(1),i.Tc("",n.id," (",n.offset,")")}}function m(e,t){1&e&&i.Rb(0,"tm-ajax-loading")}var f=function(e){return e<10?"0"+e:String(e)},h=function(){var e=function(){function e(t,n,s){_classCallCheck(this,e),this.statusMessageService=t,this.courseService=n,this.timezoneService=s,this.isEnabled=!0,this.courseAdded=new i.n,this.closeCourseFormEvent=new i.n,this.timezones=[],this.timezone="",this.newCourseId="",this.newCourseName="",this.isAddingCourse=!1}return _createClass(e,[{key:"ngOnInit",value:function(){for(var e=0,t=Object.entries(this.timezoneService.getTzOffsets());e<t.length;e++){var n=_slicedToArray(t[e],2),i=n[0],s=n[1],o=Math.floor(Math.abs(s)/60),r=Math.abs(s)%60,c=s<0?"-":"+";this.timezones.push({id:i,offset:0===s?"UTC":"UTC ".concat(c).concat(f(o),":").concat(f(r))})}this.timezone=this.timezoneService.guessTimezone()}},{key:"onAutoDetectTimezone",value:function(){this.isEnabled&&(this.timezone=this.timezoneService.guessTimezone())}},{key:"onSubmit",value:function(){var e=this;this.isEnabled&&(this.newCourseId&&this.newCourseName?(this.isAddingCourse=!0,this.courseService.createCourse({courseName:this.newCourseName,timeZone:this.timezone,courseId:this.newCourseId}).pipe(Object(s.a)((function(){return e.isAddingCourse=!1}))).subscribe((function(){e.courseAdded.emit(),e.statusMessageService.showSuccessToast("The course has been added.")}),(function(t){e.statusMessageService.showErrorToast(t.error.message)})),this.newCourseId="",this.newCourseName="",this.timezone=this.timezoneService.guessTimezone()):this.statusMessageService.showErrorToast("Please make sure you have filled in both Course ID and Name before adding the course!"))}},{key:"closeEditFormHandler",value:function(){this.closeCourseFormEvent.emit()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Qb(o.a),i.Qb(r.a),i.Qb(c.b))},e.\u0275cmp=i.Kb({type:e,selectors:[["tm-add-course-form"]],inputs:{isEnabled:"isEnabled"},outputs:{courseAdded:"courseAdded",closeCourseFormEvent:"closeCourseFormEvent"},decls:32,vars:12,consts:[[1,"card","border-primary","fill-plain"],[1,"close-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"card-body","text-center"],[1,"form-group","row"],[1,"col-md-3","text-md-right","col-form-label"],[1,"col-md-6","text-md-left"],["id","new-course-id","type","text","placeholder","e.g. CS3215-2013Semester1",1,"form-control",3,"ngModel","maxlength","disabled","ngModelChange"],["id","new-course-name","type","text","placeholder","e.g. Software Engineering",1,"form-control",3,"ngModel","maxlength","disabled","ngModelChange"],[1,"col-md-3","text-md-right","col-form-label","ngb-tooltip-class"],["ngbTooltip","You should not\n                need to change this as it is auto-detected based on your device settings. TEAMMATES automatically adjusts\n                to match the current time offset in your area, including clock changes due to daylight saving time."],[1,"input-group"],["id","new-time-zone",1,"form-control",3,"ngModel","disabled","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"input-group-btn",2,"margin-left","5px"],[1,"btn","btn-primary","btn-margin-left",3,"disabled","click"],[1,"col-md-9","offset-md-3","text-md-left"],["id","btn-save-course",1,"btn","btn-success",3,"disabled","click"],[4,"ngIf"],[3,"value"]],template:function(e,t){1&e&&(i.Wb(0,"div",0),i.Wb(1,"div",1),i.Wb(2,"button",2),i.ic("click",(function(){return t.closeEditFormHandler()})),i.Wb(3,"span",3),i.Qc(4,"\xd7"),i.Vb(),i.Vb(),i.Vb(),i.Wb(5,"div",4),i.Wb(6,"div",5),i.Wb(7,"label",6),i.Qc(8,"Course ID:"),i.Vb(),i.Wb(9,"div",7),i.Wb(10,"input",8),i.ic("ngModelChange",(function(e){return t.newCourseId=e})),i.Vb(),i.Vb(),i.Vb(),i.Wb(11,"div",5),i.Wb(12,"label",6),i.Qc(13,"Course Name:"),i.Vb(),i.Wb(14,"div",7),i.Wb(15,"input",9),i.ic("ngModelChange",(function(e){return t.newCourseName=e})),i.Vb(),i.Vb(),i.Vb(),i.Wb(16,"div",5),i.Wb(17,"label",10),i.Wb(18,"span",11),i.Qc(19," Time Zone:"),i.Vb(),i.Vb(),i.Wb(20,"div",7),i.Wb(21,"div",12),i.Wb(22,"select",13),i.ic("ngModelChange",(function(e){return t.timezone=e})),i.Oc(23,b,2,3,"option",14),i.Vb(),i.Wb(24,"span",15),i.Wb(25,"button",16),i.ic("click",(function(){return t.onAutoDetectTimezone()})),i.Qc(26,"Auto Detect"),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Wb(27,"div",5),i.Wb(28,"div",17),i.Wb(29,"button",18),i.ic("click",(function(){return t.onSubmit()})),i.Oc(30,m,1,0,"tm-ajax-loading",19),i.Qc(31," Add Course "),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Vb()),2&e&&(i.Cb(10),i.sc("ngModel",t.newCourseId)("maxlength",40)("disabled",t.isAddingCourse),i.Cb(5),i.sc("ngModel",t.newCourseName)("maxlength",64)("disabled",t.isAddingCourse),i.Cb(7),i.sc("ngModel",t.timezone)("disabled",t.isAddingCourse),i.Cb(1),i.sc("ngForOf",t.timezones),i.Cb(2),i.sc("disabled",t.isAddingCourse),i.Cb(4),i.sc("disabled",t.isAddingCourse),i.Cb(1),i.sc("ngIf",t.isAddingCourse))},directives:[a.c,a.p,a.s,a.k,u.w,a.B,l.t,l.u,a.u,a.E,d.a],styles:[".fill-plain[_ngcontent-%COMP%]{background-color:#eaeff5}.close-header[_ngcontent-%COMP%]{padding-top:.75rem;padding-right:1.25rem;margin-bottom:0}.col-form-label[_ngcontent-%COMP%]{font-weight:700}"]}),e}()},wCPp:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var i,s,o=n("cp0P"),r=n("LRne"),c=n("lJxs"),a=n("5+tZ"),u=n("vMQM"),l=n("R8lv"),d=n("9jjE"),b=n("fXoL"),m=n("++8I"),f=n("mW1j"),h=n("MbNv"),S=n("vKUq"),v=n("Pvcr"),p=((i=function(){function e(t){_classCallCheck(this,e),this.navigationService=t,this.URI_PREFIX="/web",this.JOIN_PAGE="/join",this.STUDENT_HOME_PAGE="/student/home",this.INSTRUCTOR_HOME_PAGE="/instructor/home",this.ADMIN_ACCOUNTS_PAGE="/admin/accounts",this.INSTRUCTOR_STUDENT_RECORDS_PAGE="/instructor/students/records",this.SESSIONS_SUBMISSION_PAGE="/sessions/submission",this.SESSIONS_RESULT_PAGE="/sessions/result"}return _createClass(e,[{key:"generateCourseJoinLinkStudent",value:function(e){var t=window.location.origin,n=e.key,i={key:void 0===n?"":n,studentemail:e.email,courseid:e.courseId,entitytype:"student"};this.filterEmptyParams(i);var s=this.navigationService.encodeParams(i);return"".concat(t).concat(this.URI_PREFIX).concat(this.JOIN_PAGE).concat(s)}},{key:"generateCourseJoinLinkInstructor",value:function(e){var t=window.location.origin,n=e.key,i={key:void 0===n?"":n,entitytype:"instructor"};this.filterEmptyParams(i);var s=this.navigationService.encodeParams(i);return"".concat(t).concat(this.URI_PREFIX).concat(this.JOIN_PAGE).concat(s)}},{key:"generateHomePageLink",value:function(e,t){var n={user:e};this.filterEmptyParams(n);var i=this.navigationService.encodeParams(n);return"".concat(this.URI_PREFIX).concat(t).concat(i)}},{key:"generateManageAccountLink",value:function(e,t){var n={instructorid:e};this.filterEmptyParams(n);var i=this.navigationService.encodeParams(n);return"".concat(this.URI_PREFIX).concat(t).concat(i)}},{key:"generateRecordsPageLink",value:function(e,t){var n=e.courseId,i=e.email,s=window.location.origin,o={courseid:n,studentemail:i,user:t};this.filterEmptyParams(o);var r=this.navigationService.encodeParams(o);return"".concat(s).concat(this.URI_PREFIX).concat(this.INSTRUCTOR_STUDENT_RECORDS_PAGE).concat(r)}},{key:"generateSubmitUrl",value:function(e,t){var n=window.location.origin,i=e.courseId,s=e.key,o={courseid:i,key:void 0===s?"":s,studentemail:e.email,fsname:t};this.filterEmptyParams(o);var r=this.navigationService.encodeParams(o);return"".concat(n).concat(this.URI_PREFIX).concat(this.SESSIONS_SUBMISSION_PAGE).concat(r)}},{key:"generateResultUrl",value:function(e,t){var n=window.location.origin,i=e.courseId,s=e.key,o={courseid:i,key:void 0===s?"":s,studentemail:e.email,fsname:t};this.filterEmptyParams(o);var r=this.navigationService.encodeParams(o);return"".concat(n).concat(this.URI_PREFIX).concat(this.SESSIONS_RESULT_PAGE).concat(r)}},{key:"filterEmptyParams",value:function(e){Object.keys(e).forEach((function(t){""===e[t]&&delete e[t]}))}}]),e}()).\u0275fac=function(e){return new(e||i)(b.ec(v.a))},i.\u0275prov=b.Mb({token:i,factory:i.\u0275fac,providedIn:"root"}),i),g=n("A3DQ"),E=((s=function(){function e(t,n,i,s,o,r){_classCallCheck(this,e),this.instructorService=t,this.httpRequestService=n,this.feedbackSessionService=i,this.courseService=s,this.linkService=o,this.timezoneService=r}return _createClass(e,[{key:"searchInstructor",value:function(e){return this.searchStudents(e,"instructor").pipe(Object(c.a)((function(e){return{students:e.students,comments:[]}})))}},{key:"searchAdmin",value:function(e){var t=this;return Object(o.a)([this.searchStudents(e,"admin"),this.searchInstructors(e)]).pipe(Object(c.a)((function(e){return[e[0].students,e[1].instructors]})),Object(a.a)((function(e){var n=_slicedToArray(e,2),i=n[0],s=n[1];return Object(o.a)([Object(r.a)(i),Object(r.a)(s),t.getDistinctFields(i,s)])})),Object(c.a)((function(e){return{students:t.createStudentAccountSearchResults.apply(t,[e[0]].concat(_toConsumableArray(e[2]))),instructors:t.createInstructorAccountSearchResults(e[1],e[2][1])}})))}},{key:"searchStudents",value:function(e,t){return this.httpRequestService.get(u.d.SEARCH_STUDENTS,{searchkey:e,entitytype:t})}},{key:"searchInstructors",value:function(e){return this.httpRequestService.get(u.d.SEARCH_INSTRUCTORS,{searchkey:e})}},{key:"searchInstructorPrivilege",value:function(e,t){return this.instructorService.loadInstructorPrivilege({courseId:e,sectionName:t})}},{key:"createStudentAccountSearchResults",value:function(e,t,n,i,s){var o=this;return e.map((function(e){var r=e.courseId;return o.joinAdminStudent(e,t[r],n[r],i[r],s[r])}))}},{key:"joinAdminStudent",value:function(e,t,n,i,s){var o={email:"",name:"",comments:"",team:"",section:"",openSessions:{},notOpenSessions:{},publishedSessions:{},courseId:"",courseName:"",institute:"",manageAccountLink:"",homePageLink:"",recordsPageLink:"",courseJoinLink:"",googleId:"",showLinks:!1},r=e.email,c=e.name,a=e.comments,u=void 0===a?"":a,d=e.teamName,b=e.sectionName,m=e.googleId,f=void 0===m?"":m,h=e.institute,S=void 0===h?"":h;o=Object.assign(Object.assign({},o),{email:r,name:c,comments:u,team:d,section:b,googleId:f,institute:S});var v=n.courseId,p=n.courseName;o=Object.assign(Object.assign({},o),{courseId:v,courseName:p});var g,E="",y=_createForOfIteratorHelper(t.instructors);try{for(y.s();!(g=y.n()).done;){var C=g.value,k=s.shift();if(null!=C.googleId&&(null!=k&&k.canModifyInstructor||C.role===l.i.INSTRUCTOR_PERMISSION_ROLE_COOWNER)){E=C.googleId;break}}}catch(T){y.e(T)}finally{y.f()}var I=this.classifyFeedbackSessions(i,e),O=I.openSessions,_=I.notOpenSessions,R=I.publishedSessions;return(o=Object.assign(Object.assign({},o),{openSessions:O,notOpenSessions:_,publishedSessions:R})).courseJoinLink=this.linkService.generateCourseJoinLinkStudent(e),o.homePageLink=this.linkService.generateHomePageLink(f,this.linkService.STUDENT_HOME_PAGE),o.recordsPageLink=this.linkService.generateRecordsPageLink(e,E),o.manageAccountLink=this.linkService.generateManageAccountLink(f,this.linkService.ADMIN_ACCOUNTS_PAGE),o}},{key:"createInstructorAccountSearchResults",value:function(e,t){var n=this;return e.map((function(e){return n.joinAdminInstructor(e,t[e.courseId])}))}},{key:"joinAdminInstructor",value:function(e,t){var n={email:"",name:"",courseId:"",courseName:"",institute:"",manageAccountLink:"",homePageLink:"",courseJoinLink:"",googleId:"",showLinks:!1},i=e.email,s=e.name,o=e.googleId,r=void 0===o?"":o,c=e.institute,a=void 0===c?"":c;n=Object.assign(Object.assign({},n),{email:i,name:s,googleId:r,institute:a});var u=t.courseId,l=t.courseName;return(n=Object.assign(Object.assign({},n),{courseId:u,courseName:l})).courseJoinLink=this.linkService.generateCourseJoinLinkInstructor(e),n.homePageLink=this.linkService.generateHomePageLink(r,this.linkService.INSTRUCTOR_HOME_PAGE),n.manageAccountLink=this.linkService.generateManageAccountLink(r,this.linkService.ADMIN_ACCOUNTS_PAGE),n}},{key:"classifyFeedbackSessions",value:function(e,t){var n,i={openSessions:{},notOpenSessions:{},publishedSessions:{}},s=_createForOfIteratorHelper(e.feedbackSessions);try{for(s.s();!(n=s.n()).done;){var o=n.value;this.feedbackSessionService.isFeedbackSessionOpen(o)?i.openSessions[o.feedbackSessionName]=Object.assign(Object.assign({},this.formatProperties(o)),{feedbackSessionUrl:this.linkService.generateSubmitUrl(t,o.feedbackSessionName)}):i.notOpenSessions[o.feedbackSessionName]=Object.assign(Object.assign({},this.formatProperties(o)),{feedbackSessionUrl:this.linkService.generateSubmitUrl(t,o.feedbackSessionName)}),this.feedbackSessionService.isFeedbackSessionPublished(o)&&(i.publishedSessions[o.feedbackSessionName]=Object.assign(Object.assign({},this.formatProperties(o)),{feedbackSessionUrl:this.linkService.generateResultUrl(t,o.feedbackSessionName)}))}}catch(r){s.e(r)}finally{s.f()}return i}},{key:"getDistinctFields",value:function(e,t){var n=this,i=Array.from(new Set([].concat(_toConsumableArray(e.map((function(e){return e.courseId}))),_toConsumableArray(t.map((function(e){return e.courseId}))))));return 0===i.length?Object(o.a)([Object(r.a)({}),Object(r.a)({}),Object(r.a)({}),Object(r.a)({})]):Object(o.a)([this.getDistinctInstructors(i),this.getDistinctCourses(i),this.getDistinctFeedbackSessions(i)]).pipe(Object(a.a)((function(e){return Object(o.a)([Object(r.a)(e[0]),Object(r.a)(e[1]),Object(r.a)(e[2]),n.getDistinctInstructorPrivileges(e[0])])})))}},{key:"getDistinctInstructors",value:function(e){var t=this;return Object(o.a)(e.map((function(e){return t.instructorService.loadInstructors({courseId:e,intent:d.b.FULL_DETAIL})}))).pipe(Object(c.a)((function(t){var n={};return t.forEach((function(t,i){n[e[i]]=t})),n})))}},{key:"getDistinctInstructorPrivileges",value:function(e){var t=this,n=Object.keys(e),i=Object.values(e);return Object(o.a)([Object(r.a)(n),Object(o.a)(i.map((function(e){return Object(o.a)(e.instructors.map((function(e){return t.instructorService.loadInstructorPrivilege({courseId:e.courseId,instructorEmail:e.email})})))})))]).pipe(Object(c.a)((function(e){var t={};return e[1].forEach((function(n,i){t[e[0][i]]=n})),t})))}},{key:"getDistinctCourses",value:function(e){var t=this;return Object(o.a)(e.map((function(e){return t.courseService.getCourseAsInstructor(e)}))).pipe(Object(c.a)((function(t){var n={};return t.forEach((function(t,i){n[e[i]]=t})),n})))}},{key:"getDistinctFeedbackSessions",value:function(e){var t=this;return Object(o.a)(e.map((function(e){return t.feedbackSessionService.getFeedbackSessionsForStudent(e)}))).pipe(Object(c.a)((function(t){var n={};return t.forEach((function(t,i){n[e[i]]=t})),n})))}},{key:"formatProperties",value:function(e){return{startTime:this.timezoneService.formatToString(e.submissionStartTimestamp,e.timeZone,"ddd, DD MMM YYYY, hh:mm A Z"),endTime:this.timezoneService.formatToString(e.submissionEndTimestamp,e.timeZone,"ddd, DD MMM YYYY, hh:mm A Z")}}}]),e}()).\u0275fac=function(e){return new(e||s)(b.ec(m.a),b.ec(f.a),b.ec(h.a),b.ec(S.a),b.ec(p),b.ec(g.b))},s.\u0275prov=b.Mb({token:s,factory:s.\u0275fac,providedIn:"root"}),s)},xeq8:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("fXoL"),s=n("ofXK"),o=n("W872");function r(e,t){if(1&e&&(i.Wb(0,"a",15),i.Wb(1,"span"),i.Qc(2),i.Vb(),i.Vb()),2&e){var n=i.kc();i.Cb(2),i.Rc(null==n.student?null:n.student.courseId)}}var c=function(e){return{courseid:e}};function a(e,t){if(1&e&&(i.Wb(0,"a",16),i.Wb(1,"span"),i.Qc(2),i.Vb(),i.Vb()),2&e){var n=i.kc();i.sc("queryParams",i.wc(2,c,null==n.student?null:n.student.courseId)),i.Cb(2),i.Rc(null==n.student?null:n.student.courseId)}}function u(e,t){if(1&e&&(i.Wb(0,"div",6),i.Wb(1,"div",7),i.Wb(2,"label"),i.Qc(3,"Section Name"),i.Vb(),i.Vb(),i.Wb(4,"div",17),i.Wb(5,"span"),i.Qc(6),i.Vb(),i.Vb(),i.Vb()),2&e){var n=i.kc();i.Cb(6),i.Rc(null==n.student?null:n.student.sectionName)}}var l=function(){var e=function(){function e(){_classCallCheck(this,e),this.isDisplayOnly=!1}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Kb({type:e,selectors:[["tm-course-related-info"]],inputs:{student:"student",isDisplayOnly:"isDisplayOnly"},decls:36,vars:6,consts:[[1,"card","border-primary"],[1,"card-body","fill-plain"],[1,"form","form-horizontal","text-center"],[1,"form-group"],[1,"col-sm-12","text-md-left"],[1,"font-weight-bold"],[1,"form-group","student-info-row","row"],[1,"col-md-4","text-md-right"],["id","course-id",1,"col-md-8","text-md-left"],["href","javascript:;",4,"ngIf"],["tmRouterLink","/web/instructor/courses/details",3,"queryParams",4,"ngIf"],["class","form-group student-info-row row",4,"ngIf"],["id","team-name",1,"col-md-8","text-md-left"],["id","email",1,"col-md-8","text-md-left"],["id","comments",1,"col-md-8","text-md-left"],["href","javascript:;"],["tmRouterLink","/web/instructor/courses/details",3,"queryParams"],["id","section-name",1,"col-md-8","text-md-left"]],template:function(e,t){1&e&&(i.Wb(0,"div",0),i.Wb(1,"div",1),i.Wb(2,"div",2),i.Wb(3,"div",3),i.Wb(4,"div",4),i.Wb(5,"h4",5),i.Qc(6,"Enrollment Details"),i.Vb(),i.Vb(),i.Vb(),i.Wb(7,"div",6),i.Wb(8,"div",7),i.Wb(9,"label"),i.Qc(10,"Course"),i.Vb(),i.Vb(),i.Wb(11,"div",8),i.Oc(12,r,3,1,"a",9),i.Oc(13,a,3,4,"a",10),i.Vb(),i.Vb(),i.Oc(14,u,7,1,"div",11),i.Wb(15,"div",6),i.Wb(16,"div",7),i.Wb(17,"label"),i.Qc(18,"Team Name"),i.Vb(),i.Vb(),i.Wb(19,"div",12),i.Wb(20,"span"),i.Qc(21),i.Vb(),i.Vb(),i.Vb(),i.Wb(22,"div",6),i.Wb(23,"div",7),i.Wb(24,"label"),i.Qc(25,"Official Email"),i.Vb(),i.Vb(),i.Wb(26,"div",13),i.Wb(27,"span"),i.Qc(28),i.Vb(),i.Vb(),i.Vb(),i.Wb(29,"div",6),i.Wb(30,"div",7),i.Wb(31,"label"),i.Qc(32,"Comments"),i.Vb(),i.Vb(),i.Wb(33,"div",14),i.Wb(34,"span"),i.Qc(35),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Vb()),2&e&&(i.Cb(12),i.sc("ngIf",t.isDisplayOnly),i.Cb(1),i.sc("ngIf",!t.isDisplayOnly),i.Cb(1),i.sc("ngIf",null==t.student?null:t.student.sectionName),i.Cb(7),i.Rc(null==t.student?null:t.student.teamName),i.Cb(7),i.Rc(null==t.student?null:t.student.email),i.Cb(7),i.Rc(null==t.student?null:t.student.comments))},directives:[s.u,o.a],styles:[".form-group.student-info-row[_ngcontent-%COMP%]{margin-left:0;margin-right:0;border-bottom:1px solid #ccc}.fill-plain[_ngcontent-%COMP%]{background-color:#eaeff5}label[_ngcontent-%COMP%]{font-weight:700}"]}),e}()}}]);