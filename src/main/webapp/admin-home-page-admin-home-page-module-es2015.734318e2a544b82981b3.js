(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{Wsbs:function(t,n,i){"use strict";i.d(n,"a",(function(){return c}));var s=i("fXoL");let c=(()=>{class t{constructor(){this.useBlueSpinner=!1}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=s.Kb({type:t,selectors:[["tm-ajax-loading"]],inputs:{useBlueSpinner:"useBlueSpinner"},decls:2,vars:3,consts:[[1,"loading-container"],["role","status"]],template:function(t,n){1&t&&(s.Wb(0,"div",0),s.Rb(1,"div",1),s.Vb()),2&t&&(s.Cb(1),s.Fb("spinner-border spinner-border-sm text-",n.useBlueSpinner?"primary":"white",""))},styles:[".loading-container[_ngcontent-%COMP%]{display:inline;margin-right:10px}"]}),t})()},qt4E:function(t,n,i){"use strict";i.r(n),i.d(n,"AdminHomePageModule",(function(){return W}));var s=i("ofXK"),c=i("3Pt+"),r=i("tyNb"),e=i("n6pr"),o=i("nYR2"),a=i("fXoL"),d=i("PWrf"),u=i("Wsbs");function b(t,n){if(1&t){const t=a.Xb();a.Wb(0,"div",22),a.Wb(1,"button",23),a.ic("click",(function(){a.Fc(t);const n=a.kc().index;return a.kc(2).addInstructor(n)})),a.Qc(2,"Add Instructor"),a.Vb(),a.Wb(3,"button",24),a.ic("click",(function(){a.Fc(t);const n=a.kc().index;return a.kc(2).cancelInstructor(n)})),a.Qc(4,"Cancel"),a.Vb(),a.Vb()}if(2&t){const t=a.kc().index,n=a.kc(2);a.Cb(1),a.uc("id","add-instructor-",t,""),a.sc("disabled",n.activeRequests>0),a.Cb(2),a.uc("id","cancel-instructor-",t,"")}}function l(t,n){if(1&t&&(a.Wb(0,"span",25),a.Qc(1),a.Wb(2,"a",26),a.Qc(3,"join link"),a.Vb(),a.Qc(4,"] "),a.Vb()),2&t){const t=a.kc(),n=t.$implicit;a.uc("id","message-instructor-",t.index,""),a.Cb(1),a.Sc(' Instructor "',n.name,'" has been successfully created. ['),a.Cb(1),a.tc("href",n.joinLink,a.Ic)}}function g(t,n){if(1&t&&(a.Wb(0,"span",27),a.Qc(1),a.Vb()),2&t){const t=a.kc(),n=t.$implicit;a.uc("id","message-instructor-",t.index,""),a.Cb(1),a.Rc(n.message)}}function p(t,n){if(1&t&&(a.Wb(0,"tr"),a.Wb(1,"td"),a.Qc(2),a.Vb(),a.Wb(3,"td"),a.Qc(4),a.Vb(),a.Wb(5,"td"),a.Qc(6),a.Vb(),a.Wb(7,"td"),a.Oc(8,b,5,3,"div",18),a.Vb(),a.Wb(9,"td"),a.Qc(10),a.Vb(),a.Wb(11,"td",19),a.Oc(12,l,5,3,"span",20),a.Oc(13,g,2,2,"span",21),a.Vb(),a.Vb()),2&t){const t=n.$implicit;a.Cb(2),a.Rc(t.name),a.Cb(2),a.Rc(t.email),a.Cb(2),a.Rc(t.institution),a.Cb(2),a.sc("ngIf","PENDING"===t.status||"FAIL"===t.status),a.Cb(2),a.Rc(t.status),a.Cb(2),a.sc("ngIf","SUCCESS"===t.status),a.Cb(1),a.sc("ngIf","FAIL"===t.status)}}function m(t,n){1&t&&a.Rb(0,"tm-ajax-loading")}function h(t,n){if(1&t){const t=a.Xb();a.Wb(0,"div",0),a.Wb(1,"div",12),a.Wb(2,"strong"),a.Qc(3,"Result"),a.Vb(),a.Vb(),a.Wb(4,"div",1),a.Wb(5,"div",13),a.Wb(6,"table",14),a.Wb(7,"thead"),a.Wb(8,"tr"),a.Wb(9,"th"),a.Qc(10,"Name"),a.Vb(),a.Wb(11,"th"),a.Qc(12,"Email"),a.Vb(),a.Wb(13,"th"),a.Qc(14,"Institution"),a.Vb(),a.Wb(15,"th"),a.Qc(16,"Action"),a.Vb(),a.Wb(17,"th"),a.Qc(18,"Status"),a.Vb(),a.Wb(19,"th"),a.Qc(20,"Message"),a.Vb(),a.Vb(),a.Vb(),a.Wb(21,"tbody"),a.Oc(22,p,14,7,"tr",15),a.Vb(),a.Vb(),a.Wb(23,"button",16),a.ic("click",(function(){return a.Fc(t),a.kc().addAllInstructors()})),a.Oc(24,m,1,0,"tm-ajax-loading",17),a.Qc(25," Add All Instructors "),a.Vb(),a.Vb(),a.Vb(),a.Vb()}if(2&t){const t=a.kc();a.Cb(22),a.sc("ngForOf",t.instructorsConsolidated),a.Cb(1),a.sc("disabled",t.activeRequests>0||t.isAddingInstructors),a.Cb(1),a.sc("ngIf",t.isAddingInstructors)}}const f=[{path:"",component:(()=>{class t{constructor(t){this.accountService=t,this.instructorDetails="",this.instructorName="",this.instructorEmail="",this.instructorInstitution="",this.instructorsConsolidated=[],this.activeRequests=0,this.isAddingInstructors=!1}validateAndAddInstructorDetails(){const t=[];for(const n of this.instructorDetails.split(/\r?\n/)){const i=n.split(/[|\t]/).map(t=>t.trim());i.length<3?t.push(n):i[0]&&i[1]&&i[2]?this.instructorsConsolidated.push({name:i[0],email:i[1],institution:i[2],status:"PENDING"}):t.push(n)}this.instructorDetails=t.join("\r\n")}validateAndAddInstructorDetail(){this.instructorName&&this.instructorEmail&&this.instructorInstitution&&(this.instructorsConsolidated.push({name:this.instructorName,email:this.instructorEmail,institution:this.instructorInstitution,status:"PENDING"}),this.instructorName="",this.instructorEmail="",this.instructorInstitution="")}addInstructor(t){const n=this.instructorsConsolidated[t];"PENDING"!==n.status&&"FAIL"!==n.status||(this.activeRequests+=1,n.status="ADDING",this.isAddingInstructors=!0,this.accountService.createAccount({instructorEmail:n.email,instructorName:n.name,instructorInstitution:n.institution}).pipe(Object(o.a)(()=>this.isAddingInstructors=!1)).subscribe(t=>{n.status="SUCCESS",n.joinLink=t.joinLink,this.activeRequests-=1},t=>{n.status="FAIL",n.message=t.error.message,this.activeRequests-=1}))}cancelInstructor(t){this.instructorsConsolidated.splice(t,1)}addAllInstructors(){for(let t=0;t<this.instructorsConsolidated.length;t+=1)this.addInstructor(t)}}return t.\u0275fac=function(n){return new(n||t)(a.Qb(d.a))},t.\u0275cmp=a.Kb({type:t,selectors:[["tm-admin-home-page"]],decls:33,vars:5,consts:[[1,"card","bg-light","top-padded"],[1,"card-body"],[1,"text-muted"],[1,"fas","fa-exclamation-circle"],["id","instructor-details-single-line",1,"form-control",3,"ngModel","ngModelChange"],[1,"top-padded"],["id","add-instructor-single-line",1,"btn","btn-primary",3,"click"],["type","text","id","instructor-name",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","instructor-email",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","instructor-institution",1,"form-control",3,"ngModel","ngModelChange"],["id","add-instructor",1,"btn","btn-primary",3,"click"],["class","card bg-light top-padded",4,"ngIf"],[1,"card-header","bg-primary","text-white"],[1,"table-responsive"],[1,"table","table-striped","table-hover"],[4,"ngFor","ngForOf"],["id","add-all-instructors",1,"btn","btn-primary","top-padded",3,"disabled","click"],[4,"ngIf"],["class","button-group",4,"ngIf"],[2,"width","500px"],[3,"id",4,"ngIf"],["class","message",3,"id",4,"ngIf"],[1,"button-group"],[1,"action-btn","btn","btn-sm","btn-primary","text-nowrap",2,"margin-right","10px",3,"id","disabled","click"],[1,"action-btn","btn","btn-sm","btn-danger",3,"id","click"],[3,"id"],[3,"href"],[1,"message",3,"id"]],template:function(t,n){1&t&&(a.Wb(0,"div",0),a.Wb(1,"div",1),a.Wb(2,"div"),a.Wb(3,"strong"),a.Qc(4,"Adding Multiple Instructors"),a.Vb(),a.Wb(5,"p",2),a.Rb(6,"i",3),a.Qc(7," Add Instructor Details in the format: Name | Email | Institution "),a.Vb(),a.Wb(8,"textarea",4),a.ic("ngModelChange",(function(t){return n.instructorDetails=t})),a.Vb(),a.Vb(),a.Wb(9,"div",5),a.Wb(10,"button",6),a.ic("click",(function(){return n.validateAndAddInstructorDetails()})),a.Qc(11,"Add Instructors"),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Wb(12,"div",0),a.Wb(13,"div",1),a.Wb(14,"div"),a.Wb(15,"strong"),a.Qc(16,"Adding a Single Instructor"),a.Vb(),a.Vb(),a.Wb(17,"div",5),a.Wb(18,"strong"),a.Qc(19,"Name:"),a.Vb(),a.Wb(20,"input",7),a.ic("ngModelChange",(function(t){return n.instructorName=t})),a.Vb(),a.Vb(),a.Wb(21,"div",5),a.Wb(22,"strong"),a.Qc(23,"Email: "),a.Vb(),a.Wb(24,"input",8),a.ic("ngModelChange",(function(t){return n.instructorEmail=t})),a.Vb(),a.Vb(),a.Wb(25,"div",5),a.Wb(26,"strong"),a.Qc(27,"Institution: "),a.Vb(),a.Wb(28,"input",9),a.ic("ngModelChange",(function(t){return n.instructorInstitution=t})),a.Vb(),a.Vb(),a.Wb(29,"div",5),a.Wb(30,"button",10),a.ic("click",(function(){return n.validateAndAddInstructorDetail()})),a.Qc(31,"Add Instructor"),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Oc(32,h,26,3,"div",11)),2&t&&(a.Cb(8),a.sc("ngModel",n.instructorDetails),a.Cb(12),a.sc("ngModel",n.instructorName),a.Cb(4),a.sc("ngModel",n.instructorEmail),a.Cb(4),a.sc("ngModel",n.instructorInstitution),a.Cb(4),a.sc("ngIf",n.instructorsConsolidated.length))},directives:[c.c,c.p,c.s,s.u,s.t,u.a],styles:[".top-padded[_ngcontent-%COMP%]{margin-top:20px}.button-group[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex}.action-btn[_ngcontent-%COMP%]{margin:2px}.message[_ngcontent-%COMP%]{display:inline-block;width:inherit}"]}),t})()}];let W=(()=>{class t{}return t.\u0275mod=a.Ob({type:t}),t.\u0275inj=a.Nb({factory:function(n){return new(n||t)},imports:[[s.c,c.j,r.h.forChild(f),e.a]]}),t})()}}]);