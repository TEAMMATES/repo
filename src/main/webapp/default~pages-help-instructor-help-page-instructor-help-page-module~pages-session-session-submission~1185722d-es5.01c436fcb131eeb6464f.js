function _createForOfIteratorHelper(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,s=function(){};return{s:s,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return r=e.done,e},e:function(e){a=!0,o=e},f:function(){try{r||null==n.return||n.return()}finally{if(a)throw o}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,i=_getPrototypeOf(e);if(t){var s=_getPrototypeOf(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{EBJT:function(e,t,n){"use strict";n.d(t,"a",(function(){return In}));var i,s,o,r,a,c,l,u=n("fXoL"),b=n("R8lv"),p=n("mL+/"),d=n("zHuJ"),f=n("YxrJ"),m=n("eoFM"),g=n("ofXK"),h=((l=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||l)},l.\u0275cmp=u.Kb({type:l,selectors:[["tm-contribution-question-instruction"]],decls:0,vars:0,template:function(e,t){},styles:[""]}),l),v=((c=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||c)},c.\u0275cmp=u.Kb({type:c,selectors:[["tm-text-question-instruction"]],decls:0,vars:0,template:function(e,t){},styles:[""]}),c),C=((a=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||a)},a.\u0275cmp=u.Kb({type:a,selectors:[["tm-num-scale-question-instruction"]],decls:0,vars:0,template:function(e,t){},styles:[""]}),a),D=((r=function(){function e(t){_classCallCheck(this,e),this.isValidEvent=new u.n,this.formModels=[],this.questionDetails=t}return _createClass(e,[{key:"recipientSubmissionForms",get:function(){return this.formModels},set:function(e){this.formModels=e,this.isValidEvent.emit(this.isValid)}}]),e}()).\u0275fac=function(e){u.hc()},r.\u0275dir=u.Lb({type:r,inputs:{recipientSubmissionForms:"recipientSubmissionForms",questionDetails:"questionDetails"},outputs:{isValidEvent:"isValidEvent"}}),r),O=((o=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this,null)}return _createClass(n,[{key:"isValid",get:function(){return!0}}]),n}(D)).\u0275fac=function(e){return new(e||o)},o.\u0275cmp=u.Kb({type:o,selectors:[["tm-contribution-question-constraint"]],features:[u.zb],decls:0,vars:0,template:function(e,t){},styles:[""]}),o),k=((s=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this,null)}return _createClass(n,[{key:"isValid",get:function(){return!0}}]),n}(D)).\u0275fac=function(e){return new(e||s)},s.\u0275cmp=u.Kb({type:s,selectors:[["tm-text-question-constraint"]],features:[u.zb],decls:0,vars:0,template:function(e,t){},styles:[""]}),s),y=((i=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this,null)}return _createClass(n,[{key:"isValid",get:function(){return!0}}]),n}(D)).\u0275fac=function(e){return new(e||i)},i.\u0275cmp=u.Kb({type:i,selectors:[["tm-num-scale-question-constraint"]],features:[u.zb],decls:0,vars:0,template:function(e,t){},styles:[""]}),i),T=n("q1I8"),q=n("RmXC");function w(e,t){1&e&&(u.Wb(0,"p",4),u.Qc(1,"Note:"),u.Vb())}function R(e,t){if(1&e&&(u.Wb(0,"p",5),u.Rb(1,"span",6),u.Qc(2," Rank "),u.Wb(3,"strong"),u.Qc(4),u.Vb(),u.Qc(5," options. "),u.Vb()),2&e){var n=u.kc();u.Cb(4),u.Sc("at least ",n.questionDetails.minOptionsToBeRanked,"")}}function S(e,t){if(1&e&&(u.Wb(0,"p",7),u.Rb(1,"span",6),u.Qc(2," Rank "),u.Wb(3,"strong"),u.Qc(4),u.Vb(),u.Qc(5," options. "),u.Vb()),2&e){var n=u.kc();u.Cb(4),u.Sc("no more than ",n.questionDetails.maxOptionsToBeRanked,"")}}var I,_=((I=function e(){_classCallCheck(this,e),this.questionDetails=Object(T.l)(),this.NO_VALUE=q.f}).\u0275fac=function(e){return new(e||I)},I.\u0275cmp=u.Kb({type:I,selectors:[["tm-rank-options-question-instruction"]],inputs:{questionDetails:"questionDetails"},decls:4,vars:3,consts:[[1,"text-info"],["class","font-weight-bold",4,"ngIf"],["id","min-options-message",4,"ngIf"],["id","max-options-message",4,"ngIf"],[1,"font-weight-bold"],["id","min-options-message"],[1,"fa","fa-info-circle"],["id","max-options-message"]],template:function(e,t){1&e&&(u.Wb(0,"div",0),u.Oc(1,w,2,0,"p",1),u.Oc(2,R,6,1,"p",2),u.Oc(3,S,6,1,"p",3),u.Vb()),2&e&&(u.Cb(1),u.sc("ngIf",t.questionDetails.minOptionsToBeRanked!==t.NO_VALUE||t.questionDetails.maxOptionsToBeRanked!==t.NO_VALUE),u.Cb(1),u.sc("ngIf",t.questionDetails.minOptionsToBeRanked!==t.NO_VALUE),u.Cb(1),u.sc("ngIf",t.questionDetails.maxOptionsToBeRanked!==t.NO_VALUE))},directives:[g.u],styles:["div[_ngcontent-%COMP%]{margin-top:10px}div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:25px}"]}),I);function V(e,t){if(1&e&&(u.Wb(0,"p",5),u.Rb(1,"span",6),u.Qc(2," Choose "),u.Wb(3,"strong"),u.Qc(4),u.Vb(),u.Qc(5," options. "),u.Vb()),2&e){var n=u.kc(2);u.Cb(4),u.Sc(" at least ",n.questionDetails.minSelectableChoices,"")}}function E(e,t){if(1&e&&(u.Wb(0,"p",7),u.Rb(1,"span",6),u.Qc(2," Choose "),u.Wb(3,"strong"),u.Qc(4),u.Vb(),u.Qc(5," options. "),u.Vb()),2&e){var n=u.kc(2);u.Cb(4),u.Sc(" no more than ",n.questionDetails.maxSelectableChoices,"")}}function x(e,t){if(1&e&&(u.Wb(0,"div",1),u.Wb(1,"p",2),u.Qc(2,"Note:"),u.Vb(),u.Oc(3,V,6,1,"p",3),u.Oc(4,E,6,1,"p",4),u.Vb()),2&e){var n=u.kc();u.Cb(3),u.sc("ngIf",n.questionDetails.minSelectableChoices!==n.NO_VALUE),u.Cb(1),u.sc("ngIf",n.questionDetails.maxSelectableChoices!==n.NO_VALUE)}}var F,W=((F=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this,Object(T.h)())).NO_VALUE=q.f,e}return _createClass(n,[{key:"isValid",get:function(){return!0}}]),n}(D)).\u0275fac=function(e){return new(e||F)},F.\u0275cmp=u.Kb({type:F,selectors:[["tm-msq-question-constraint"]],features:[u.zb],decls:1,vars:1,consts:[["class","text-info",4,"ngIf"],[1,"text-info"],[1,"text-left","font-weight-bold"],["id","min-options-message",4,"ngIf"],["id","max-options-message",4,"ngIf"],["id","min-options-message"],[1,"fa","fa-info-circle"],["id","max-options-message"]],template:function(e,t){1&e&&u.Oc(0,x,5,2,"div",0),2&e&&u.sc("ngIf",t.questionDetails.maxSelectableChoices!==t.NO_VALUE||t.questionDetails.minSelectableChoices!==t.NO_VALUE)},directives:[g.u],styles:["div[_ngcontent-%COMP%]{margin-top:10px}div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:25px}"]}),F);function M(e,t){1&e&&(u.Wb(0,"p",4),u.Qc(1,"Note:"),u.Vb())}function P(e,t){if(1&e&&(u.Wb(0,"p",5),u.Rb(1,"span",6),u.Qc(2," Rank "),u.Wb(3,"strong"),u.Qc(4),u.Vb(),u.Qc(5," options. "),u.Vb()),2&e){var n=u.kc();u.Cb(4),u.Sc("at least ",n.questionDetails.minOptionsToBeRanked,"")}}function N(e,t){if(1&e&&(u.Wb(0,"p",7),u.Rb(1,"span",6),u.Qc(2," Rank "),u.Wb(3,"strong"),u.Qc(4),u.Vb(),u.Qc(5," options. "),u.Vb()),2&e){var n=u.kc();u.Cb(4),u.Sc(" no more than ",n.questionDetails.maxOptionsToBeRanked,"")}}var A,Q=((A=function(){function e(){_classCallCheck(this,e),this.questionDetails=Object(T.n)(),this.NO_VALUE=q.f}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||A)},A.\u0275cmp=u.Kb({type:A,selectors:[["tm-rank-recipients-question-instruction"]],inputs:{questionDetails:"questionDetails"},decls:4,vars:3,consts:[[1,"text-info"],["class","font-weight-bold",4,"ngIf"],["id","min-options-message",4,"ngIf"],["id","max-options-message",4,"ngIf"],[1,"font-weight-bold"],["id","min-options-message"],[1,"fa","fa-info-circle"],["id","max-options-message"]],template:function(e,t){1&e&&(u.Wb(0,"div",0),u.Oc(1,M,2,0,"p",1),u.Oc(2,P,6,1,"p",2),u.Oc(3,N,6,1,"p",3),u.Vb()),2&e&&(u.Cb(1),u.sc("ngIf",t.questionDetails.minOptionsToBeRanked!==t.NO_VALUE||t.questionDetails.maxOptionsToBeRanked!==t.NO_VALUE),u.Cb(1),u.sc("ngIf",t.questionDetails.minOptionsToBeRanked!==t.NO_VALUE),u.Cb(1),u.sc("ngIf",t.questionDetails.maxOptionsToBeRanked!==t.NO_VALUE))},directives:[g.u],styles:["div[_ngcontent-%COMP%]{margin-top:10px}div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:25px}"]}),A);function U(e,t){1&e&&(u.Wb(0,"p",6),u.Rb(1,"span",3),u.Qc(2," At least one option should be allocated "),u.Wb(3,"strong"),u.Qc(4,"different number of points."),u.Vb(),u.Vb())}function B(e,t){1&e&&(u.Wb(0,"p",7),u.Rb(1,"span",3),u.Qc(2," Every option should be allocated "),u.Wb(3,"strong"),u.Qc(4,"different number of points."),u.Vb(),u.Vb())}var L,j=((L=function(){function e(){_classCallCheck(this,e),this.questionDetails=Object(T.a)(),this.FeedbackConstantSumDistributePointsType=b.b}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"totalPoints",get:function(){return this.questionDetails.pointsPerOption?this.questionDetails.points*this.questionDetails.constSumOptions.length:this.questionDetails.points}}]),e}()).\u0275fac=function(e){return new(e||L)},L.\u0275cmp=u.Kb({type:L,selectors:[["tm-constsum-options-question-instruction"]],inputs:{questionDetails:"questionDetails"},decls:11,vars:3,consts:[[1,"text-info"],[1,"text-left","font-weight-bold"],["id","total-points-message"],[1,"fa","fa-info-circle"],["id","one-uneven-message",4,"ngIf"],["id","all-uneven-message",4,"ngIf"],["id","one-uneven-message"],["id","all-uneven-message"]],template:function(e,t){1&e&&(u.Wb(0,"div",0),u.Wb(1,"p",1),u.Qc(2,"Note:"),u.Vb(),u.Wb(3,"p",2),u.Rb(4,"span",3),u.Qc(5," Total points distributed should "),u.Wb(6,"strong"),u.Qc(7),u.Vb(),u.Qc(8,". "),u.Vb(),u.Oc(9,U,5,0,"p",4),u.Oc(10,B,5,0,"p",5),u.Vb()),2&e&&(u.Cb(7),u.Sc("add up to ",t.totalPoints,""),u.Cb(2),u.sc("ngIf",t.questionDetails.forceUnevenDistribution&&t.questionDetails.distributePointsFor===t.FeedbackConstantSumDistributePointsType.DISTRIBUTE_SOME_UNEVENLY),u.Cb(1),u.sc("ngIf",t.questionDetails.forceUnevenDistribution&&t.questionDetails.distributePointsFor===t.FeedbackConstantSumDistributePointsType.DISTRIBUTE_ALL_UNEVENLY))},directives:[g.u],styles:["div[_ngcontent-%COMP%]{margin-top:10px}div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:25px}"]}),L);function X(e,t){1&e&&(u.Wb(0,"p",6),u.Rb(1,"span",3),u.Qc(2," At least one recipient should be allocated "),u.Wb(3,"strong"),u.Qc(4,"different number of points."),u.Vb(),u.Vb())}function H(e,t){1&e&&(u.Wb(0,"p",7),u.Rb(1,"span",3),u.Qc(2," Every recipient should be allocated "),u.Wb(3,"strong"),u.Qc(4,"different number of points."),u.Vb(),u.Vb())}var K,$,z,G=((K=function(){function e(){_classCallCheck(this,e),this.questionDetails=Object(T.b)(),this.numOfRecipients=0,this.FeedbackConstantSumDistributePointsType=b.b}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"totalPoints",get:function(){return this.questionDetails.pointsPerOption?this.questionDetails.points*this.numOfRecipients:this.questionDetails.points}}]),e}()).\u0275fac=function(e){return new(e||K)},K.\u0275cmp=u.Kb({type:K,selectors:[["tm-constsum-recipients-question-instruction"]],inputs:{questionDetails:"questionDetails",numOfRecipients:"numOfRecipients"},decls:10,vars:3,consts:[[1,"text-info"],[1,"font-weight-bold"],["id","total-points-message"],[1,"fa","fa-info-circle"],["id","one-uneven-message",4,"ngIf"],["id","all-uneven-message",4,"ngIf"],["id","one-uneven-message"],["id","all-uneven-message"]],template:function(e,t){1&e&&(u.Wb(0,"div",0),u.Wb(1,"p",1),u.Qc(2,"Note:"),u.Vb(),u.Wb(3,"p",2),u.Rb(4,"span",3),u.Qc(5," Total points distributed should "),u.Wb(6,"strong"),u.Qc(7),u.Vb(),u.Vb(),u.Oc(8,X,5,0,"p",4),u.Oc(9,H,5,0,"p",5),u.Vb()),2&e&&(u.Cb(7),u.Sc("add up to ",t.totalPoints,"."),u.Cb(1),u.sc("ngIf",t.questionDetails.forceUnevenDistribution&&t.questionDetails.distributePointsFor===t.FeedbackConstantSumDistributePointsType.DISTRIBUTE_SOME_UNEVENLY),u.Cb(1),u.sc("ngIf",t.questionDetails.forceUnevenDistribution&&t.questionDetails.distributePointsFor===t.FeedbackConstantSumDistributePointsType.DISTRIBUTE_ALL_UNEVENLY))},directives:[g.u],styles:["div[_ngcontent-%COMP%]{margin-top:10px}div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:25px}"]}),K),Y=n("1kSV"),J=n("3Pt+"),Z=n("/Tzu"),ee=(($=function(){function e(t,n){_classCallCheck(this,e),this.isDisabled=!1,this.responseDetailsChange=new u.n,this.questionDetails=t,this.responseDetails=n}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"triggerResponseDetailsChange",value:function(e,t){this.responseDetailsChange.emit(Object.assign({},this.responseDetails,_defineProperty({},e,t)))}},{key:"triggerResponseDetailsChangeBatch",value:function(e){this.responseDetailsChange.emit(Object.assign({},this.responseDetails,e))}}]),e}()).\u0275fac=function(e){u.hc()},$.\u0275dir=u.Lb({type:$,inputs:{isDisabled:"isDisabled",questionDetails:"questionDetails",responseDetails:"responseDetails"},outputs:{responseDetailsChange:"responseDetailsChange"}}),$),te=n("eQqG"),ne=((z=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e){return e>100?"Equal share + ".concat(e-100,"%"):100===e?"Equal share":e>0?"Equal share - ".concat(100-e,"%"):0===e?"0%":"Unknown"}}]),e}()).\u0275fac=function(e){return new(e||z)},z.\u0275pipe=u.Pb({name:"contributionPointDescription",type:z,pure:!0}),z),ie=function(e,t,n){return{"color-positive":e,"color-negative":t,"color-neutral":n}};function se(e,t){if(1&e&&(u.Wb(0,"option",8),u.Qc(1),u.lc(2,"contributionPointDescription"),u.Vb()),2&e){var n=t.$implicit;u.sc("ngValue",n)("ngClass",u.yc(5,ie,n>100,n<100,100===n)),u.Cb(1),u.Rc(u.mc(2,3,n))}}function oe(e,t){if(1&e&&(u.Wb(0,"option",9),u.Qc(1,"Not Sure"),u.Vb()),2&e){var n=u.kc();u.sc("ngValue",n.CONTRIBUTION_POINT_NOT_SURE)}}function re(e,t){if(1&e){var n=u.Xb();u.Wb(0,"div",10),u.Wb(1,"button",11),u.ic("click",(function(){u.Fc(n);var e=u.kc(),t=u.Cc(8);return e.openHelpModal(t)})),u.Rb(2,"i",12),u.Qc(3," More info about the "),u.Wb(4,"code"),u.Qc(5,"Equal Share"),u.Vb(),u.Qc(6," scale"),u.Vb(),u.Vb()}}function ae(e,t){1&e&&(u.Wb(0,"p"),u.Wb(1,"code"),u.Qc(2,"Equal share"),u.Vb(),u.Qc(3," is a relative measure of individual contribution to a team task."),u.Vb(),u.Wb(4,"p"),u.Qc(5,"For example, in a 3-person team, "),u.Wb(6,"code"),u.Qc(7,"Equal share"),u.Vb(),u.Qc(8," means a third of the work done."),u.Vb(),u.Wb(9,"p"),u.Wb(10,"code"),u.Qc(11,"Equal share + 10%"),u.Vb(),u.Qc(12," means the person did about 10% "),u.Wb(13,"em"),u.Qc(14,"more"),u.Vb(),u.Qc(15," than an equal share, "),u.Wb(16,"code"),u.Qc(17,"Equal share - 10%"),u.Vb(),u.Qc(18," means about 10% "),u.Wb(19,"em"),u.Qc(20,"less"),u.Vb(),u.Qc(21," than an equal share, and so on."),u.Vb())}var ce,le=((ce=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,Object(T.d)(),Object(T.e)())).simpleModalService=e,i.shouldShowHelpLink=!0,i.CONTRIBUTION_POINT_NOT_SUBMITTED=q.c,i.CONTRIBUTION_POINT_NOT_SURE=q.d,i}return _createClass(n,[{key:"openHelpModal",value:function(e){this.simpleModalService.openInformationModal("More info about the <code>Equal Share</code> scale",Z.a.NEUTRAL,e)}},{key:"contributionQuestionPoints",get:function(){for(var e=[],t=200;t>=0;t-=10)e.push(t);return e}}]),n}(ee)).\u0275fac=function(e){return new(e||ce)(u.Qb(te.a))},ce.\u0275cmp=u.Kb({type:ce,selectors:[["tm-contribution-question-edit-answer-form"]],inputs:{shouldShowHelpLink:"shouldShowHelpLink"},features:[u.zb],decls:9,vars:11,consts:[[1,"row"],[1,"col-lg-3","col-sm-6","col-xs-12"],[1,"form-control",3,"ngClass","ngModel","disabled","ngModelChange"],[3,"ngValue"],[3,"ngValue","ngClass",4,"ngFor","ngForOf"],["class","color-neutral",3,"ngValue",4,"ngIf"],["class","col-lg-9 col-sm-6 col-xs-12",4,"ngIf"],["equalShareHelp",""],[3,"ngValue","ngClass"],[1,"color-neutral",3,"ngValue"],[1,"col-lg-9","col-sm-6","col-xs-12"],["type","button",1,"btn","btn-link",3,"click"],[1,"fas","fa-exclamation-circle"]],template:function(e,t){1&e&&(u.Wb(0,"div",0),u.Wb(1,"div",1),u.Wb(2,"select",2),u.ic("ngModelChange",(function(e){return t.triggerResponseDetailsChange("answer",e)})),u.Rb(3,"option",3),u.Oc(4,se,3,9,"option",4),u.Oc(5,oe,2,1,"option",5),u.Vb(),u.Vb(),u.Oc(6,re,7,0,"div",6),u.Oc(7,ae,22,0,"ng-template",null,7,u.Pc),u.Vb()),2&e&&(u.Cb(2),u.sc("ngClass",u.yc(7,ie,t.responseDetails.answer>100,t.responseDetails.answer<100&&t.responseDetails.answer!==t.CONTRIBUTION_POINT_NOT_SURE&&t.responseDetails.answer!==t.CONTRIBUTION_POINT_NOT_SUBMITTED,100===t.responseDetails.answer||t.responseDetails.answer===t.CONTRIBUTION_POINT_NOT_SURE))("ngModel",t.responseDetails.answer)("disabled",t.isDisabled),u.Cb(1),u.sc("ngValue",t.CONTRIBUTION_POINT_NOT_SUBMITTED),u.Cb(1),u.sc("ngForOf",t.contributionQuestionPoints),u.Cb(1),u.sc("ngIf",t.questionDetails.isNotSureAllowed),u.Cb(1),u.sc("ngIf",t.shouldShowHelpLink))},directives:[J.B,g.r,J.p,J.s,J.u,J.E,g.t,g.u],pipes:[ne],styles:[".color-positive[_ngcontent-%COMP%]{color:#108627}.color-negative[_ngcontent-%COMP%]{color:#e74c3c}.color-neutral[_ngcontent-%COMP%]{color:grey}"]}),ce),ue=n("QlvD");function be(e,t){if(1&e){var n=u.Xb();u.Wb(0,"div",5),u.Wb(1,"textarea",6),u.ic("ngModelChange",(function(e){return u.Fc(n),u.kc().triggerResponseDetailsChange("answer",e)})),u.Vb(),u.Vb()}if(2&e){var i=u.kc();u.Cb(1),u.sc("ngModel",i.responseDetails.answer)("disabled",i.isDisabled)}}function pe(e,t){if(1&e){var n=u.Xb();u.Wb(0,"tm-rich-text-editor",7),u.ic("richTextChange",(function(e){return u.Fc(n),u.kc().triggerResponseDetailsChange("answer",e)})),u.Vb()}if(2&e){var i=u.kc();u.sc("richText",i.responseDetails.answer)("isDisabled",i.isDisabled)}}function de(e,t){if(1&e&&(u.Wb(0,"div",8),u.Qc(1),u.Vb()),2&e){var n=u.kc();u.Cb(1),u.Sc(" Recommended length for the answer: ",n.questionDetails.recommendedLength," words ")}}var fe=function(e){return{"text-success":e}};function me(e,t){if(1&e&&(u.Wb(0,"div",9),u.Qc(1),u.Vb()),2&e){var n=u.kc();u.sc("ngClass",u.wc(2,fe,n.isWordCountWithinRecommendedBound)),u.Cb(1),u.Sc(" Response length: ",n.wordCount," words ")}}var ge,he=((ge=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this,Object(T.r)(),Object(T.s)())}return _createClass(n,[{key:"wordCount",get:function(){return this.responseDetails.answer.split(/\s/g).filter((function(e){return e.match(/\w/)})).length}},{key:"isWordCountWithinRecommendedBound",get:function(){return!this.questionDetails.recommendedLength||this.wordCount>this.questionDetails.recommendedLength-.1*this.questionDetails.recommendedLength&&this.wordCount<this.questionDetails.recommendedLength+.1*this.questionDetails.recommendedLength}}]),n}(ee)).\u0275fac=function(e){return new(e||ge)},ge.\u0275cmp=u.Kb({type:ge,selectors:[["tm-text-question-edit-answer-form"]],features:[u.zb],decls:5,vars:4,consts:[["class","plain-text-area",4,"ngIf"],[3,"richText","isDisabled","richTextChange",4,"ngIf"],[1,"margin-top-7px","text-secondary","text-right"],["id","recommended-length",4,"ngIf"],["id","response-length",3,"ngClass",4,"ngIf"],[1,"plain-text-area"],[3,"ngModel","disabled","ngModelChange"],[3,"richText","isDisabled","richTextChange"],["id","recommended-length"],["id","response-length",3,"ngClass"]],template:function(e,t){1&e&&(u.Oc(0,be,2,2,"div",0),u.Oc(1,pe,1,2,"tm-rich-text-editor",1),u.Wb(2,"div",2),u.Oc(3,de,2,1,"div",3),u.Oc(4,me,2,4,"div",4),u.Vb()),2&e&&(u.sc("ngIf",!t.questionDetails.shouldAllowRichText),u.Cb(1),u.sc("ngIf",t.questionDetails.shouldAllowRichText),u.Cb(2),u.sc("ngIf",t.questionDetails.recommendedLength),u.Cb(1),u.sc("ngIf",t.questionDetails.recommendedLength))},directives:[g.u,J.c,J.p,J.s,ue.a,g.r],styles:[".margin-top-7px[_ngcontent-%COMP%]{margin-top:7px}.plain-text-area[_ngcontent-%COMP%]{height:120px}.plain-text-area[_ngcontent-%COMP%] > textarea[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;height:100%}"]}),ge);function ve(e,t){if(1&e&&(u.Wb(0,"option",8),u.Qc(1),u.Vb()),2&e){var n=t.$implicit;u.sc("ngValue",n),u.Cb(1),u.Rc(n)}}function Ce(e,t){if(1&e){var n=u.Xb();u.Wb(0,"div",4),u.Wb(1,"div",5),u.Wb(2,"strong"),u.Qc(3),u.Vb(),u.Vb(),u.Wb(4,"div",6),u.Wb(5,"select",7),u.ic("ngModelChange",(function(e){u.Fc(n);var i=t.index;return u.kc().triggerResponse(i,e)})),u.Rb(6,"option",8),u.Oc(7,ve,2,2,"option",9),u.Vb(),u.Vb(),u.Vb()}if(2&e){var i=t.index,s=u.kc();u.Cb(3),u.Rc(s.questionDetails.options[i]),u.Cb(2),u.sc("ngModel",s.responseDetails.answers[i])("disabled",s.isDisabled),u.Cb(1),u.sc("ngValue",s.RANK_OPTIONS_ANSWER_NOT_SUBMITTED),u.Cb(1),u.sc("ngForOf",s.ranksToBeAssigned)}}function De(e,t){1&e&&(u.Wb(0,"p",10),u.Qc(1,"The same rank should not be given multiple times."),u.Vb())}function Oe(e,t){1&e&&(u.Wb(0,"p",11),u.Qc(1,"Please rank the above options."),u.Vb())}function ke(e,t){if(1&e&&(u.Wb(0,"p",10),u.Qc(1),u.Vb()),2&e){var n=u.kc();u.Cb(1),u.Sc("You need to rank at least ",n.questionDetails.minOptionsToBeRanked," options.")}}function ye(e,t){if(1&e&&(u.Wb(0,"p",10),u.Qc(1),u.Vb()),2&e){var n=u.kc();u.Cb(1),u.Sc("Rank no more than ",n.questionDetails.maxOptionsToBeRanked," options.")}}var Te,qe=((Te=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this,Object(T.l)(),Object(T.m)())).RANK_OPTIONS_ANSWER_NOT_SUBMITTED=q.h,e}return _createClass(n,[{key:"ngOnInit",value:function(){}},{key:"triggerResponse",value:function(e,t){var n=this.responseDetails.answers.slice();n.length!==this.questionDetails.options.length&&(n=Array(this.questionDetails.options.length).fill(q.h)),n[e]=t,this.triggerResponseDetailsChange("answers",n)}},{key:"ranksToBeAssigned",get:function(){for(var e=[],t=1;t<=this.questionDetails.options.length;t+=1)e.push(t);return e}},{key:"isNoOptionRanked",get:function(){return!this.responseDetails.answers.some((function(e){return e!==q.h}))}},{key:"isSameRanksAssigned",get:function(){var e,t=[],n=_createForOfIteratorHelper(this.responseDetails.answers);try{for(n.s();!(e=n.n()).done;){var i=e.value;i!==q.h&&t.push(i)}}catch(s){n.e(s)}finally{n.f()}return new Set(t).size!==t.length&&0!==t.length}},{key:"isMinOptionsEnabled",get:function(){return this.questionDetails.minOptionsToBeRanked!==q.f}},{key:"isMaxOptionsEnabled",get:function(){return this.questionDetails.maxOptionsToBeRanked!==q.f}},{key:"isOptionsRankedLessThanMin",get:function(){var e=this.responseDetails.answers.filter((function(e){return e!==q.h})).length;return e<this.questionDetails.minOptionsToBeRanked&&e>0}},{key:"isOptionsRankedMoreThanMax",get:function(){return this.responseDetails.answers.filter((function(e){return e!==q.h})).length>this.questionDetails.maxOptionsToBeRanked}}]),n}(ee)).\u0275fac=function(e){return new(e||Te)},Te.\u0275cmp=u.Kb({type:Te,selectors:[["tm-rank-options-question-edit-answer-form"]],features:[u.zb],decls:6,vars:5,consts:[["class","form-group row text-left",4,"ngFor","ngForOf"],[1,"col-md-9","offset-md-3"],["class","text-danger",4,"ngIf"],["class","text-info",4,"ngIf"],[1,"form-group","row","text-left"],[1,"col-md-3","col-xs-6","text-md-right","col-form-label"],[1,"col-md-3","col-xs-6","text-md-left"],[1,"form-control",3,"ngModel","disabled","ngModelChange"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"text-danger"],[1,"text-info"]],template:function(e,t){1&e&&(u.Oc(0,Ce,8,5,"div",0),u.Wb(1,"div",1),u.Oc(2,De,2,0,"p",2),u.Oc(3,Oe,2,0,"p",3),u.Oc(4,ke,2,1,"p",2),u.Oc(5,ye,2,1,"p",2),u.Vb()),2&e&&(u.sc("ngForOf",t.questionDetails.options),u.Cb(2),u.sc("ngIf",!t.questionDetails.areDuplicatesAllowed&&t.isSameRanksAssigned),u.Cb(1),u.sc("ngIf",t.isNoOptionRanked),u.Cb(1),u.sc("ngIf",t.isMinOptionsEnabled&&t.isOptionsRankedLessThanMin),u.Cb(1),u.sc("ngIf",t.isMaxOptionsEnabled&&t.isOptionsRankedMoreThanMax))},directives:[g.t,g.u,J.B,J.p,J.s,J.u,J.E],styles:[".margin-left-45px[_ngcontent-%COMP%]{margin-left:45px}.margin-top-20px[_ngcontent-%COMP%]{margin-top:20px}"]}),Te);function we(e,t){if(1&e&&(u.Wb(0,"option",3),u.Qc(1),u.Vb()),2&e){var n=t.$implicit;u.sc("ngValue",n),u.Cb(1),u.Rc(n)}}var Re,Se=((Re=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this,Object(T.n)(),Object(T.o)())).RANK_RECIPIENTS_ANSWER_NOT_SUBMITTED=q.i,e.numOfRecipients=0,e}return _createClass(n,[{key:"ngOnInit",value:function(){}},{key:"ranksToBeAssigned",get:function(){for(var e=[],t=1;t<=this.numOfRecipients;t+=1)e.push(t);return e}}]),n}(ee)).\u0275fac=function(e){return new(e||Re)},Re.\u0275cmp=u.Kb({type:Re,selectors:[["tm-rank-recipients-question-edit-answer-form"]],inputs:{numOfRecipients:"numOfRecipients"},features:[u.zb],decls:5,vars:4,consts:[[1,"row","margin-bottom-15px"],[1,"col-md-3"],[1,"form-control",3,"ngModel","disabled","ngModelChange"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(u.Wb(0,"div",0),u.Wb(1,"div",1),u.Wb(2,"select",2),u.ic("ngModelChange",(function(e){return t.triggerResponseDetailsChange("answer",e)})),u.Rb(3,"option",3),u.Oc(4,we,2,2,"option",4),u.Vb(),u.Vb(),u.Vb()),2&e&&(u.Cb(2),u.sc("ngModel",t.responseDetails.answer)("disabled",t.isDisabled),u.Cb(1),u.sc("ngValue",t.RANK_RECIPIENTS_ANSWER_NOT_SUBMITTED),u.Cb(1),u.sc("ngForOf",t.ranksToBeAssigned))},directives:[J.B,J.p,J.s,J.u,J.E,g.t],styles:[".margin-bottom-15px[_ngcontent-%COMP%]{margin-bottom:15px}"]}),Re);function Ie(e,t){1&e&&(u.Wb(0,"p",8),u.Qc(1,"The scale entered is not a possible value."),u.Vb())}function _e(e,t){1&e&&(u.Wb(0,"p",9),u.Qc(1,"Please enter a scale number."),u.Vb())}var Ve,Ee=((Ve=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this,Object(T.j)(),Object(T.k)())).NUMERICAL_SCALE_ANSWER_NOT_SUBMITTED=q.g,e}return _createClass(n,[{key:"isValidPossibleValue",value:function(e){var t=this.questionDetails.minScale,n=this.questionDetails.maxScale,i=this.questionDetails.step;return null==e||!isNaN(e)&&!(e<t||e>n)&&+((e-t)/i).toFixed(6)%1==0}},{key:"numberOfPossibleValues",get:function(){return Math.floor(parseFloat(((this.questionDetails.maxScale-this.questionDetails.minScale)/this.questionDetails.step+1).toFixed(3)))}},{key:"possibleValues",get:function(){if(this.numberOfPossibleValues>6){var e=this.questionDetails.minScale+(this.numberOfPossibleValues-1)*this.questionDetails.step;return"[".concat(this.questionDetails.minScale,",\n           ").concat(+(this.questionDetails.minScale+this.questionDetails.step).toFixed(3),",\n           ").concat(+(this.questionDetails.minScale+2*this.questionDetails.step).toFixed(3),",\n           ...,\n           ").concat(+(e-2*this.questionDetails.step).toFixed(3),",\n           ").concat(+(e-this.questionDetails.step).toFixed(3),",\n           ").concat(+e.toFixed(3),"]")}for(var t=""+this.questionDetails.minScale,n=this.questionDetails.minScale+this.questionDetails.step;this.questionDetails.maxScale-n>=-1e-9;)t+=", "+ +n.toFixed(3),n+=this.questionDetails.step;return"[".concat(t,"]")}}]),n}(ee)).\u0275fac=function(e){return new(e||Ve)},Ve.\u0275cmp=u.Kb({type:Ve,selectors:[["tm-num-scale-question-edit-answer-form"]],features:[u.zb],decls:10,vars:8,consts:[[1,"form-row","text-left"],[1,"col-md-2","col-xs-5"],["type","number",1,"form-control",3,"min","max","step","ngModel","disabled","ngModelChange"],["id","possible-values",1,"col-md-9","col-xs-6","text-secondary"],[1,"row","mt-1"],[1,"col-12"],["class","text-danger",4,"ngIf"],["class","text-info",4,"ngIf"],[1,"text-danger"],[1,"text-info"]],template:function(e,t){1&e&&(u.Wb(0,"div",0),u.Wb(1,"div",1),u.Wb(2,"input",2),u.ic("ngModelChange",(function(e){return t.triggerResponseDetailsChange("answer",e)})),u.Vb(),u.Vb(),u.Wb(3,"div",3),u.Qc(4),u.Vb(),u.Vb(),u.Wb(5,"div",4),u.Wb(6,"div",5),u.Oc(7,Ie,2,0,"p",6),u.Oc(8,_e,2,0,"p",7),u.Vb(),u.Vb(),u.Rb(9,"br")),2&e&&(u.Cb(2),u.tc("min",t.questionDetails.minScale),u.tc("max",t.questionDetails.maxScale),u.tc("step",t.questionDetails.step),u.sc("ngModel",t.responseDetails.answer==t.NUMERICAL_SCALE_ANSWER_NOT_SUBMITTED?"":t.responseDetails.answer)("disabled",t.isDisabled),u.Cb(2),u.Sc(" Possible values: ",t.possibleValues," "),u.Cb(3),u.sc("ngIf",!t.isValidPossibleValue(t.responseDetails.answer)&&t.responseDetails.answer!=t.NUMERICAL_SCALE_ANSWER_NOT_SUBMITTED),u.Cb(1),u.sc("ngIf",t.responseDetails.answer==t.NUMERICAL_SCALE_ANSWER_NOT_SUBMITTED))},directives:[J.v,J.c,J.p,J.s,g.u],styles:["p[_ngcontent-%COMP%]{margin-bottom:0}.form-row[_ngcontent-%COMP%]{-ms-flex-align:center;align-items:center}"]}),Ve),xe=n("OxLm"),Fe=["inputTextBoxOther"];function We(e,t){if(1&e){var n=u.Xb();u.Wb(0,"div",2),u.Wb(1,"label",3),u.Wb(2,"input",4),u.ic("click",(function(){u.Fc(n);var e=t.index;return u.kc().updateSelectedMcqOption(e)})),u.Vb(),u.Rb(3,"span",5),u.lc(4,"safeHtml"),u.Vb(),u.Vb()}if(2&e){var i=t.index,s=u.kc();u.Cb(2),u.uc("name","mcq-",s.id,""),u.sc("checked",s.isMcqOptionSelected[i])("disabled",s.isDisabled),u.Cb(1),u.sc("innerHTML",u.mc(4,4,s.questionDetails.mcqChoices[i]),u.Gc)}}function Me(e,t){if(1&e){var n=u.Xb();u.Wb(0,"div",6),u.Wb(1,"label",3),u.Wb(2,"input",4),u.ic("click",(function(){return u.Fc(n),u.kc().updateIsOtherOption()})),u.Vb(),u.Wb(3,"strong"),u.Qc(4,"Other"),u.Vb(),u.Vb(),u.Wb(5,"input",7,8),u.ic("ngModelChange",(function(e){return u.Fc(n),u.kc().triggerResponseDetailsChange("otherFieldContent",e)})),u.Vb(),u.Vb()}if(2&e){var i=u.kc();u.Cb(2),u.uc("name","mcq-",i.id,""),u.sc("checked",i.responseDetails.isOther)("disabled",i.isDisabled),u.Cb(3),u.sc("disabled",!i.responseDetails.isOther||i.isDisabled)("ngModel",i.responseDetails.otherFieldContent)}}var Pe,Ne=((Pe=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this,Object(T.f)(),Object(T.g)())).id="",e.isMcqOptionSelected=[],e}return _createClass(n,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(){if(this.isMcqOptionSelected=Array(this.questionDetails.numOfMcqChoices).fill(!1),""!==this.responseDetails.answer&&!this.responseDetails.isOther){var e=this.questionDetails.mcqChoices.indexOf(this.responseDetails.answer);this.isMcqOptionSelected[e]=!0}}},{key:"updateIsOtherOption",value:function(){var e=this,t={};t.isOther=!this.responseDetails.isOther,t.isOther?(t.answer="",setTimeout((function(){e.inputTextBoxOther.nativeElement.focus()}),0)):t.otherFieldContent="",this.triggerResponseDetailsChangeBatch(t)}},{key:"updateSelectedMcqOption",value:function(e){var t;t=this.responseDetails.answer===this.questionDetails.mcqChoices[e]?"":this.questionDetails.mcqChoices[e],this.triggerResponseDetailsChangeBatch({answer:t,isOther:!1,otherFieldContent:""})}}]),n}(ee)).\u0275fac=function(e){return new(e||Pe)},Pe.\u0275cmp=u.Kb({type:Pe,selectors:[["tm-mcq-question-edit-answer-form"]],viewQuery:function(e,t){var n;1&e&&u.Wc(Fe,!0),2&e&&u.Bc(n=u.jc())&&(t.inputTextBoxOther=n.first)},inputs:{id:"id"},features:[u.zb,u.Ab],decls:4,vars:2,consts:[["class","radio",4,"ngFor","ngForOf"],["id","other-option","class","radio",4,"ngIf"],[1,"radio"],[1,"margin-right-15px"],["type","radio",1,"margin-right-15px",3,"name","checked","disabled","click"],[1,"option-text",3,"innerHTML"],["id","other-option",1,"radio"],["type","text",1,"form-control",2,"display","inline","width","60%",3,"disabled","ngModel","ngModelChange"],["inputTextBoxOther",""]],template:function(e,t){1&e&&(u.Wb(0,"tr"),u.Wb(1,"td"),u.Oc(2,We,5,6,"div",0),u.Oc(3,Me,7,5,"div",1),u.Vb(),u.Vb()),2&e&&(u.Cb(2),u.sc("ngForOf",t.questionDetails.mcqChoices),u.Cb(1),u.sc("ngIf",t.questionDetails.otherEnabled))},directives:[g.t,g.u,J.c,J.p,J.s],pipes:[xe.a],styles:[".margin-right-15px[_ngcontent-%COMP%]{margin-right:15px}.option-text[_ngcontent-%COMP%]{display:inline-block;vertical-align:top}"]}),Pe),Ae=["inputTextBoxOther"];function Qe(e,t){if(1&e){var n=u.Xb();u.Wb(0,"div",3),u.Wb(1,"label",4),u.Wb(2,"input",5),u.ic("click",(function(){u.Fc(n);var e=t.index;return u.kc().updateSelectedAnswers(e)})),u.Vb(),u.Wb(3,"strong"),u.Qc(4),u.Vb(),u.Vb(),u.Vb()}if(2&e){var i=t.index,s=u.kc();u.Cb(2),u.sc("checked",s.isMsqOptionSelected[i])("disabled",s.isDisabled),u.Cb(2),u.Rc(s.questionDetails.msqChoices[i])}}function Ue(e,t){if(1&e){var n=u.Xb();u.Wb(0,"div",6),u.Wb(1,"label",4),u.Wb(2,"input",5),u.ic("click",(function(){return u.Fc(n),u.kc().updateIsOtherOption()})),u.Vb(),u.Wb(3,"strong"),u.Qc(4,"Other"),u.Vb(),u.Vb(),u.Wb(5,"input",7,8),u.ic("ngModelChange",(function(e){return u.Fc(n),u.kc().updateOtherAnswerField(e)})),u.Vb(),u.Vb()}if(2&e){var i=u.kc();u.Cb(2),u.sc("checked",i.responseDetails.isOther)("disabled",i.isDisabled),u.Cb(3),u.sc("disabled",!i.responseDetails.isOther||i.isDisabled)("ngModel",i.responseDetails.otherFieldContent)}}function Be(e,t){if(1&e){var n=u.Xb();u.Wb(0,"div",3),u.Wb(1,"label",4),u.Wb(2,"input",5),u.ic("click",(function(){return u.Fc(n),u.kc().updateNoneOfTheAbove()})),u.Vb(),u.Wb(3,"strong"),u.Qc(4,"None of the above"),u.Vb(),u.Vb(),u.Vb()}if(2&e){var i=u.kc();u.Cb(2),u.sc("checked",i.isNoneOfTheAboveEnabled)("disabled",i.isDisabled)}}var Le,je=((Le=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this,Object(T.h)(),Object(T.i)())).NO_VALUE=q.f,e.isMsqOptionSelected=[],e}return _createClass(n,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(){if(this.isMsqOptionSelected=Array(this.questionDetails.msqChoices.length).fill(!1),!this.isNoneOfTheAboveEnabled)for(var e=0;e<this.questionDetails.msqChoices.length;e+=1)this.responseDetails.answers.indexOf(this.questionDetails.msqChoices[e])>-1&&(this.isMsqOptionSelected[e]=!0)}},{key:"updateSelectedAnswers",value:function(e){var t=[];this.isNoneOfTheAboveEnabled||(t=this.responseDetails.answers.slice());var n=this.responseDetails.answers.indexOf(this.questionDetails.msqChoices[e]);n>-1?t.splice(n,1):t.unshift(this.questionDetails.msqChoices[e]),this.triggerResponseDetailsChange("answers",t)}},{key:"updateIsOtherOption",value:function(){var e=this,t={};t.isOther=!this.responseDetails.isOther,t.answers=this.responseDetails.answers,this.isNoneOfTheAboveEnabled&&(t.answers=[]),t.isOther?(t.answers.push(""),setTimeout((function(){e.inputTextBoxOther.nativeElement.focus()}),0)):(t.answers.splice(-1,1),t.otherFieldContent=""),this.triggerResponseDetailsChangeBatch(t)}},{key:"updateOtherAnswerField",value:function(e){var t={};t.otherFieldContent=e,t.answers=this.responseDetails.answers.slice(),t.answers[t.answers.length-1]=e,this.triggerResponseDetailsChangeBatch(t)}},{key:"updateNoneOfTheAbove",value:function(){this.triggerResponseDetailsChangeBatch({answers:this.isNoneOfTheAboveEnabled?[]:[q.e],isOther:!1,otherFieldContent:""})}},{key:"isNoneOfTheAboveEnabled",get:function(){return!this.responseDetails.isOther&&1===this.responseDetails.answers.length&&this.responseDetails.answers[0]===q.e}}]),n}(ee)).\u0275fac=function(e){return new(e||Le)},Le.\u0275cmp=u.Kb({type:Le,selectors:[["tm-msq-question-edit-answer-form"]],viewQuery:function(e,t){var n;1&e&&u.Wc(Ae,!0),2&e&&u.Bc(n=u.jc())&&(t.inputTextBoxOther=n.first)},features:[u.zb,u.Ab],decls:5,vars:3,consts:[["class","check-box",4,"ngFor","ngForOf"],["id","other-option","class","check-box",4,"ngIf"],["class","check-box",4,"ngIf"],[1,"check-box"],[1,"margin-right-15px"],["type","checkbox",1,"margin-right-15px",3,"checked","disabled","click"],["id","other-option",1,"check-box"],["type","text",1,"form-control",2,"display","inline","width","60%",3,"disabled","ngModel","ngModelChange"],["inputTextBoxOther",""]],template:function(e,t){1&e&&(u.Wb(0,"tr"),u.Wb(1,"td"),u.Oc(2,Qe,5,3,"div",0),u.Oc(3,Ue,7,4,"div",1),u.Oc(4,Be,5,2,"div",2),u.Vb(),u.Vb()),2&e&&(u.Cb(2),u.sc("ngForOf",t.questionDetails.msqChoices),u.Cb(1),u.sc("ngIf",t.questionDetails.otherEnabled),u.Cb(1),u.sc("ngIf",t.questionDetails.minSelectableChoices===t.NO_VALUE))},directives:[g.t,g.u,J.c,J.p,J.s],styles:[".margin-right-15px[_ngcontent-%COMP%]{margin-right:15px}"]}),Le);function Xe(e,t){if(1&e&&(u.Wb(0,"td",5),u.Qc(1),u.Vb()),2&e){var n=t.$implicit;u.Cb(1),u.Rc(n)}}function He(e,t){if(1&e){var n=u.Xb();u.Wb(0,"td",8),u.ic("click",(function(){u.Fc(n);var e=t.index,i=u.kc().index;return u.kc().selectAnswer(i,e)})),u.Wb(1,"label"),u.Rb(2,"input",9),u.Qc(3),u.Vb(),u.Vb()}if(2&e){var i=t.$implicit,s=t.index,o=u.kc().index,r=u.kc();u.Cb(2),u.sc("disabled",r.isDisabled)("name",r.id+o+"-desktop")("checked",o<r.responseDetails.answer.length&&r.responseDetails.answer[o]===s),u.Cb(1),u.Sc(" ",i," ")}}var Ke=function(e){return{"row-answered":e}};function $e(e,t){if(1&e&&(u.Wb(0,"tr",6),u.Wb(1,"td"),u.Qc(2),u.Vb(),u.Oc(3,He,4,4,"td",7),u.Vb()),2&e){var n=t.$implicit,i=t.index,s=u.kc();u.sc("ngClass",u.wc(3,Ke,i<s.responseDetails.answer.length&&s.responseDetails.answer[i]!==s.RUBRIC_ANSWER_NOT_CHOSEN)),u.Cb(2),u.Rc(s.questionDetails.rubricSubQuestions[i]),u.Cb(1),u.sc("ngForOf",n)}}function ze(e,t){if(1&e){var n=u.Xb();u.Wb(0,"div"),u.Wb(1,"label"),u.Wb(2,"input",14),u.ic("click",(function(){u.Fc(n);var e=t.index,i=u.kc().index;return u.kc().selectAnswer(i,e)})),u.Vb(),u.Qc(3),u.Vb(),u.Vb()}if(2&e){var i=t.$implicit,s=t.index,o=u.kc().index,r=u.kc();u.Cb(2),u.sc("disabled",r.isDisabled)("name",r.id+o+"-mobile")("checked",o<r.responseDetails.answer.length&&r.responseDetails.answer[o]===s),u.Cb(1),u.Tc(" ",r.questionDetails.rubricChoices[s]," - ",i," ")}}function Ge(e,t){if(1&e&&(u.Wb(0,"div",10),u.Wb(1,"div",11),u.Qc(2),u.Vb(),u.Wb(3,"div",12),u.Oc(4,ze,4,5,"div",13),u.Vb(),u.Vb()),2&e){var n=t.$implicit,i=t.index,s=u.kc();u.Cb(2),u.Sc(" ",s.questionDetails.rubricSubQuestions[i]," "),u.Cb(1),u.sc("ngClass",u.wc(3,Ke,i<s.responseDetails.answer.length&&s.responseDetails.answer[i]!==s.RUBRIC_ANSWER_NOT_CHOSEN)),u.Cb(1),u.sc("ngForOf",n)}}var Ye,Je=((Ye=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this,Object(T.p)(),Object(T.q)())).id="",e.RUBRIC_ANSWER_NOT_CHOSEN=q.j,e}return _createClass(n,[{key:"selectAnswer",value:function(e,t){if(!this.isDisabled){var n=this.responseDetails.answer.slice();n.length!==this.questionDetails.numOfRubricSubQuestions&&(n=Array(this.questionDetails.numOfRubricSubQuestions).fill(q.j)),n[e]=n[e]===t?q.j:t,this.triggerResponseDetailsChange("answer",n)}}}]),n}(ee)).\u0275fac=function(e){return new(e||Ye)},Ye.\u0275cmp=u.Kb({type:Ye,selectors:[["tm-rubric-question-edit-answer-form"]],inputs:{id:"id"},features:[u.zb],decls:8,vars:3,consts:[[1,"table","table-bordered","desktop-view"],["class","font-weight-bold",4,"ngFor","ngForOf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"mobile-view"],["class","card",4,"ngFor","ngForOf"],[1,"font-weight-bold"],[3,"ngClass"],["class","text-secondary answer-cell",3,"click",4,"ngFor","ngForOf"],[1,"text-secondary","answer-cell",3,"click"],["type","radio",3,"disabled","name","checked"],[1,"card"],[1,"card-header","bg-light"],[1,"card-body",3,"ngClass"],[4,"ngFor","ngForOf"],["type","radio",3,"disabled","name","checked","click"]],template:function(e,t){1&e&&(u.Wb(0,"table",0),u.Wb(1,"tbody"),u.Wb(2,"tr"),u.Rb(3,"td"),u.Oc(4,Xe,2,1,"td",1),u.Vb(),u.Oc(5,$e,4,5,"tr",2),u.Vb(),u.Vb(),u.Wb(6,"div",3),u.Oc(7,Ge,5,5,"div",4),u.Vb()),2&e&&(u.Cb(4),u.sc("ngForOf",t.questionDetails.rubricChoices),u.Cb(1),u.sc("ngForOf",t.questionDetails.rubricDescriptions),u.Cb(2),u.sc("ngForOf",t.questionDetails.rubricDescriptions))},directives:[g.t,g.r],styles:[".row-answered[_ngcontent-%COMP%]{background-color:#dff0d8}.answer-cell[_ngcontent-%COMP%]:hover{background-color:#d9edf7!important}@media (max-width:768px){.desktop-view[_ngcontent-%COMP%]{display:none}}@media (min-width:768px){.mobile-view[_ngcontent-%COMP%]{display:none}}"]}),Ye);function Ze(e,t){if(1&e){var n=u.Xb();u.Wb(0,"div",3),u.Wb(1,"div",4),u.Wb(2,"strong"),u.Qc(3),u.Vb(),u.Vb(),u.Wb(4,"div",5),u.Wb(5,"input",6),u.ic("ngModelChange",(function(e){u.Fc(n);var i=t.index;return u.kc().triggerResponse(i,e)})),u.Vb(),u.Vb(),u.Vb()}if(2&e){var i=t.$implicit,s=t.index,o=u.kc();u.Cb(3),u.Rc(i),u.Cb(2),u.sc("ngModel",s<o.responseDetails.answers.length?o.responseDetails.answers[s]:"")("disabled",o.isDisabled)}}function et(e,t){if(1&e){var n=u.Xb();u.Wb(0,"div",7),u.Wb(1,"div",8),u.Wb(2,"button",9),u.ic("click",(function(){return u.Fc(n),u.kc().triggerResponseDetailsChange("answers",[])})),u.Qc(3,"Clear Points"),u.Vb(),u.Vb(),u.Vb()}if(2&e){var i=u.kc();u.Cb(2),u.sc("disabled",i.isDisabled)}}function tt(e,t){if(1&e&&(u.Wb(0,"p",14),u.Rb(1,"span",15),u.Qc(2),u.Vb()),2&e){var n=u.kc(2);u.Cb(2),u.Tc(" Actual total is ",n.totalAnsweredPoints,"! Distribute the remaining ",n.totalRequiredPoints-n.totalAnsweredPoints," points.")}}function nt(e,t){if(1&e&&(u.Wb(0,"p",14),u.Rb(1,"span",15),u.Qc(2),u.Vb()),2&e){var n=u.kc(2);u.Cb(2),u.Tc(" Actual total is ",n.totalAnsweredPoints,"! Remove the extra ",n.totalAnsweredPoints-n.totalRequiredPoints," points allocated.")}}function it(e,t){1&e&&(u.Wb(0,"p",16),u.Rb(1,"span",17),u.Qc(2," All points distributed!"),u.Vb())}function st(e,t){1&e&&(u.Wb(0,"p",14),u.Rb(1,"span",15),u.Qc(2," Multiple options are given same points!"),u.Vb())}function ot(e,t){1&e&&(u.Wb(0,"p",16),u.Rb(1,"span",17),u.Qc(2," All allocated points are different!"),u.Vb())}function rt(e,t){if(1&e&&(u.Wb(0,"p",14),u.Rb(1,"span",15),u.Qc(2),u.Vb()),2&e){var n=u.kc(2);u.Cb(2),u.Sc(" All options are given ",n.responseDetails.answers[0]," points. Please allocate different points to at least one option.")}}function at(e,t){1&e&&(u.Wb(0,"p",16),u.Rb(1,"span",17),u.Qc(2," At least one option has been allocated different number of points."),u.Vb())}function ct(e,t){if(1&e&&(u.Wb(0,"div",10),u.Wb(1,"div",11),u.Oc(2,tt,3,2,"p",12),u.Oc(3,nt,3,2,"p",12),u.Oc(4,it,3,0,"p",13),u.Oc(5,st,3,0,"p",12),u.Oc(6,ot,3,0,"p",13),u.Oc(7,rt,3,1,"p",12),u.Oc(8,at,3,0,"p",13),u.Vb(),u.Vb()),2&e){var n=u.kc();u.Cb(2),u.sc("ngIf",n.totalAnsweredPoints<n.totalRequiredPoints),u.Cb(1),u.sc("ngIf",n.totalAnsweredPoints>n.totalRequiredPoints),u.Cb(1),u.sc("ngIf",n.totalAnsweredPoints===n.totalRequiredPoints),u.Cb(1),u.sc("ngIf",n.questionDetails.distributePointsFor===n.FeedbackConstantSumDistributePointsType.DISTRIBUTE_ALL_UNEVENLY&&!n.isAllPointsUneven),u.Cb(1),u.sc("ngIf",n.questionDetails.distributePointsFor===n.FeedbackConstantSumDistributePointsType.DISTRIBUTE_ALL_UNEVENLY&&n.isAllPointsUneven),u.Cb(1),u.sc("ngIf",n.questionDetails.distributePointsFor===n.FeedbackConstantSumDistributePointsType.DISTRIBUTE_SOME_UNEVENLY&&!n.isSomePointsUneven),u.Cb(1),u.sc("ngIf",n.questionDetails.distributePointsFor===n.FeedbackConstantSumDistributePointsType.DISTRIBUTE_SOME_UNEVENLY&&n.isSomePointsUneven)}}var lt,ut,bt=((ut=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this,Object(T.a)(),Object(T.c)())).FeedbackConstantSumDistributePointsType=b.b,e}return _createClass(n,[{key:"triggerResponse",value:function(e,t){var n=this.responseDetails.answers.slice();n.length!==this.questionDetails.constSumOptions.length&&(n=Array(this.questionDetails.constSumOptions.length).fill(0)),n[e]=t?Math.ceil(t):0,this.triggerResponseDetailsChange("answers",n)}},{key:"totalRequiredPoints",get:function(){return this.questionDetails.pointsPerOption?this.questionDetails.points*this.questionDetails.constSumOptions.length:this.questionDetails.points}},{key:"totalAnsweredPoints",get:function(){return this.responseDetails.answers.reduce((function(e,t){return e+t}),0)}},{key:"isAllPointsUneven",get:function(){var e=new Set;return this.responseDetails.answers.forEach((function(t){return e.add(t)})),e.size===this.responseDetails.answers.length}},{key:"isSomePointsUneven",get:function(){if(1===this.responseDetails.answers.length)return!0;var e=new Set;return this.responseDetails.answers.forEach((function(t){return e.add(t)})),1!==e.size}}]),n}(ee)).\u0275fac=function(e){return new(e||ut)},ut.\u0275cmp=u.Kb({type:ut,selectors:[["tm-constsum-options-question-edit-answer-form"]],features:[u.zb],decls:3,vars:3,consts:[["class","form-group row text-left",4,"ngFor","ngForOf"],["class","form-group row",4,"ngIf"],["class","row",4,"ngIf"],[1,"form-group","row","text-left"],[1,"col-md-2","col-xs-12","text-sm-right","col-form-label"],[1,"col-md-3","col-xs-12"],["type","number","min","0","step","1",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"form-group","row"],[1,"col-12","col-sm-5","offset-sm-2"],["type","button",1,"btn","btn-light","btn-sm",3,"disabled","click"],[1,"row"],[1,"col-12"],["class","text-danger",4,"ngIf"],["class","text-success",4,"ngIf"],[1,"text-danger"],[1,"fa","fa-times"],[1,"text-success"],[1,"fa","fa-check"]],template:function(e,t){1&e&&(u.Oc(0,Ze,6,3,"div",0),u.Oc(1,et,4,1,"div",1),u.Oc(2,ct,9,7,"div",2)),2&e&&(u.sc("ngForOf",t.questionDetails.constSumOptions),u.Cb(1),u.sc("ngIf",0!==t.responseDetails.answers.length),u.Cb(1),u.sc("ngIf",0!==t.responseDetails.answers.length))},directives:[g.t,g.u,J.v,J.c,J.p,J.s],styles:[""]}),ut),pt=((lt=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this,Object(T.b)(),Object(T.c)())).Math=Math,e}return _createClass(n,[{key:"triggerResponse",value:function(e){var t=this.responseDetails.answers.slice();1!==t.length&&(t=[0]),null==e?t=[]:t[0]=Math.ceil(e),this.triggerResponseDetailsChange("answers",t)}}]),n}(ee)).\u0275fac=function(e){return new(e||lt)},lt.\u0275cmp=u.Kb({type:lt,selectors:[["tm-constsum-recipients-question-edit-answer-form"]],features:[u.zb],decls:3,vars:2,consts:[[1,"col-sm-3"],[1,"form-group","row"],["type","number","min","0","step","1",1,"form-control",3,"ngModel","disabled","ngModelChange"]],template:function(e,t){1&e&&(u.Wb(0,"div",0),u.Wb(1,"div",1),u.Wb(2,"input",2),u.ic("ngModelChange",(function(e){return t.triggerResponse(e)})),u.Vb(),u.Vb(),u.Vb()),2&e&&(u.Cb(2),u.sc("ngModel",1==t.responseDetails.answers.length?t.responseDetails.answers[0]:"")("disabled",t.isDisabled))},directives:[J.v,J.c,J.p,J.s],styles:[""]}),lt);function dt(e,t){1&e&&(u.Wb(0,"p",2),u.Qc(1,"The same rank should not be given multiple times."),u.Vb())}function ft(e,t){1&e&&(u.Wb(0,"p",3),u.Qc(1,"Please rank the above recipients."),u.Vb())}function mt(e,t){if(1&e&&(u.Wb(0,"p",2),u.Qc(1),u.Vb()),2&e){var n=u.kc();u.Cb(1),u.Sc("Rank at least ",n.questionDetails.minOptionsToBeRanked," recipients.")}}function gt(e,t){if(1&e&&(u.Wb(0,"p",2),u.Qc(1),u.Vb()),2&e){var n=u.kc();u.Cb(1),u.Sc("Rank no more than ",n.questionDetails.maxOptionsToBeRanked," recipients.")}}var ht,vt=((ht=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this,Object(T.n)())}return _createClass(n,[{key:"isSameRanksAssigned",get:function(){var e,t=new Set,n=_createForOfIteratorHelper(this.recipientSubmissionForms);try{for(n.s();!(e=n.n()).done;){var i=e.value.responseDetails;if(i.answer!==q.i){if(t.has(i.answer))return!0;t.add(i.answer)}}}catch(s){n.e(s)}finally{n.f()}return!1}},{key:"isNoRecipientRanked",get:function(){var e,t=_createForOfIteratorHelper(this.recipientSubmissionForms);try{for(t.s();!(e=t.n()).done;)if(e.value.responseDetails.answer!==q.i)return!1}catch(n){t.e(n)}finally{t.f()}return!0}},{key:"isMinRecipientsEnabled",get:function(){return this.questionDetails.minOptionsToBeRanked!==q.f}},{key:"isMaxRecipientsEnabled",get:function(){return this.questionDetails.maxOptionsToBeRanked!==q.f}},{key:"isRecipientsRankedLessThanMin",get:function(){var e,t=0,n=_createForOfIteratorHelper(this.recipientSubmissionForms);try{for(n.s();!(e=n.n()).done;)e.value.responseDetails.answer!==q.i&&(t+=1)}catch(i){n.e(i)}finally{n.f()}return t<this.questionDetails.minOptionsToBeRanked&&t>0}},{key:"isRecipientsRankedMoreThanMax",get:function(){var e,t=0,n=_createForOfIteratorHelper(this.recipientSubmissionForms);try{for(n.s();!(e=n.n()).done;)e.value.responseDetails.answer!==q.i&&(t+=1)}catch(i){n.e(i)}finally{n.f()}return t>this.questionDetails.maxOptionsToBeRanked}},{key:"isValid",get:function(){return!(!this.questionDetails.areDuplicatesAllowed&&this.isSameRanksAssigned||this.isMinRecipientsEnabled&&this.isRecipientsRankedLessThanMin||this.isMaxRecipientsEnabled&&this.isRecipientsRankedMoreThanMax||this.isNoRecipientRanked)}}]),n}(D)).\u0275fac=function(e){return new(e||ht)},ht.\u0275cmp=u.Kb({type:ht,selectors:[["tm-rank-recipients-question-constraint"]],features:[u.zb],decls:5,vars:4,consts:[["class","text-danger",4,"ngIf"],["class","text-info",4,"ngIf"],[1,"text-danger"],[1,"text-info"]],template:function(e,t){1&e&&(u.Wb(0,"div"),u.Oc(1,dt,2,0,"p",0),u.Oc(2,ft,2,0,"p",1),u.Oc(3,mt,2,1,"p",0),u.Oc(4,gt,2,1,"p",0),u.Vb()),2&e&&(u.Cb(1),u.sc("ngIf",!t.questionDetails.areDuplicatesAllowed&&t.isSameRanksAssigned),u.Cb(1),u.sc("ngIf",t.isNoRecipientRanked),u.Cb(1),u.sc("ngIf",t.isMinRecipientsEnabled&&t.isRecipientsRankedLessThanMin),u.Cb(1),u.sc("ngIf",t.isMaxRecipientsEnabled&&t.isRecipientsRankedMoreThanMax))},directives:[g.u],styles:[""]}),ht);function Ct(e,t){if(1&e&&(u.Wb(0,"p",5),u.Rb(1,"span",6),u.Qc(2),u.Vb()),2&e){var n=u.kc(2);u.Cb(2),u.Tc(" Actual total is ",n.totalAnsweredPoints,"! Distribute the remaining ",n.totalRequiredPoints-n.totalAnsweredPoints," points.")}}function Dt(e,t){if(1&e&&(u.Wb(0,"p",5),u.Rb(1,"span",6),u.Qc(2),u.Vb()),2&e){var n=u.kc(2);u.Cb(2),u.Tc(" Actual total is ",n.totalAnsweredPoints,"! Remove the extra ",n.totalAnsweredPoints-n.totalRequiredPoints," points allocated.")}}function Ot(e,t){1&e&&(u.Wb(0,"p",7),u.Rb(1,"span",8),u.Qc(2," All points distributed!"),u.Vb())}function kt(e,t){1&e&&(u.Wb(0,"p",5),u.Rb(1,"span",6),u.Qc(2," Multiple recipients are given same points!"),u.Vb())}function yt(e,t){1&e&&(u.Wb(0,"p",7),u.Rb(1,"span",8),u.Qc(2," All allocated points are different!"),u.Vb())}function Tt(e,t){if(1&e&&(u.Wb(0,"p",5),u.Rb(1,"span",6),u.Qc(2),u.Vb()),2&e){var n=u.kc(2);u.Cb(2),u.Sc(" All recipients are given ",n.allAnswers[0]," points. Please allocate different points to at least one recipient.")}}function qt(e,t){1&e&&(u.Wb(0,"p",7),u.Rb(1,"span",8),u.Qc(2," At least one recipient has been allocated different number of points."),u.Vb())}function wt(e,t){if(1&e&&(u.Wb(0,"div",1),u.Wb(1,"div",2),u.Oc(2,Ct,3,2,"p",3),u.Oc(3,Dt,3,2,"p",3),u.Oc(4,Ot,3,0,"p",4),u.Oc(5,kt,3,0,"p",3),u.Oc(6,yt,3,0,"p",4),u.Oc(7,Tt,3,1,"p",3),u.Oc(8,qt,3,0,"p",4),u.Vb(),u.Vb()),2&e){var n=u.kc();u.Cb(2),u.sc("ngIf",n.isInsufficientPointsDistributed),u.Cb(1),u.sc("ngIf",n.isPointsOverAllocated),u.Cb(1),u.sc("ngIf",n.isAllPointsDistributed),u.Cb(1),u.sc("ngIf",n.isWronglyAllUneven),u.Cb(1),u.sc("ngIf",n.isCorrectlyAllUneven),u.Cb(1),u.sc("ngIf",n.isWronglySomeUneven),u.Cb(1),u.sc("ngIf",n.isCorrectlySomeUneven)}}var Rt,St,It=((Rt=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this,Object(T.b)())).FeedbackConstantSumDistributePointsType=b.b,e}return _createClass(n,[{key:"isAllFormsNotAnswered",get:function(){return this.recipientSubmissionForms.every((function(e){return 0===e.responseDetails.answers.length}))}},{key:"totalRequiredPoints",get:function(){return this.questionDetails.pointsPerOption?this.questionDetails.points*this.recipientSubmissionForms.length:this.questionDetails.points}},{key:"allAnswers",get:function(){return this.recipientSubmissionForms.map((function(e){var t=e.responseDetails;return 0===t.answers.length?0:t.answers[0]}))}},{key:"totalAnsweredPoints",get:function(){return this.allAnswers.reduce((function(e,t){return e+t}),0)}},{key:"isAllPointsUneven",get:function(){var e=new Set;return this.allAnswers.forEach((function(t){return e.add(t)})),e.size===this.allAnswers.length}},{key:"isSomePointsUneven",get:function(){if(1===this.allAnswers.length)return!0;var e=new Set;return this.allAnswers.forEach((function(t){return e.add(t)})),1!==e.size}},{key:"isAllPointsDistributed",get:function(){return this.totalAnsweredPoints===this.totalRequiredPoints}},{key:"isInsufficientPointsDistributed",get:function(){return this.totalAnsweredPoints<this.totalRequiredPoints}},{key:"isPointsOverAllocated",get:function(){return this.totalAnsweredPoints>this.totalRequiredPoints}},{key:"isWronglyAllUneven",get:function(){return this.questionDetails.distributePointsFor===b.b.DISTRIBUTE_ALL_UNEVENLY&&!this.isAllPointsUneven}},{key:"isCorrectlyAllUneven",get:function(){return this.questionDetails.distributePointsFor===b.b.DISTRIBUTE_ALL_UNEVENLY&&this.isAllPointsUneven}},{key:"isWronglySomeUneven",get:function(){return this.questionDetails.distributePointsFor===b.b.DISTRIBUTE_SOME_UNEVENLY&&!this.isSomePointsUneven}},{key:"isCorrectlySomeUneven",get:function(){return this.questionDetails.distributePointsFor===b.b.DISTRIBUTE_SOME_UNEVENLY&&this.isSomePointsUneven}},{key:"isValid",get:function(){return this.isAllPointsDistributed&&(this.isCorrectlyAllUneven||this.isCorrectlySomeUneven||this.questionDetails.distributePointsFor===b.b.NONE)}}]),n}(D)).\u0275fac=function(e){return new(e||Rt)},Rt.\u0275cmp=u.Kb({type:Rt,selectors:[["tm-constsum-recipients-question-constraint"]],features:[u.zb],decls:1,vars:1,consts:[["class","row",4,"ngIf"],[1,"row"],[1,"col-12"],["class","text-danger",4,"ngIf"],["class","text-success",4,"ngIf"],[1,"text-danger"],[1,"fa","fa-times"],[1,"text-success"],[1,"fa","fa-check"]],template:function(e,t){1&e&&u.Oc(0,wt,9,7,"div",0),2&e&&u.sc("ngIf",!t.isAllFormsNotAnswered)},directives:[g.u],styles:[""]}),Rt),_t=n("UGSt"),Vt=n("QxDs"),Et=n("l12v"),xt=((St=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e,t){switch(e){case b.c.TEAMS:case b.c.OWN_TEAM:return"Team";case b.c.STUDENTS:return"Student";case b.c.INSTRUCTORS:return"Instructor";case b.c.OWN_TEAM_MEMBERS:case b.c.OWN_TEAM_MEMBERS_INCLUDING_SELF:return t===b.c.STUDENTS?"Student":t===b.c.INSTRUCTORS?"Instructor":"Unknown";default:return"Unknown"}}}]),e}()).\u0275fac=function(e){return new(e||St)},St.\u0275pipe=u.Pb({name:"recipientTypeName",type:St,pure:!0}),St);function Ft(e,t){if(1&e&&(u.Wb(0,"div",20),u.Wb(1,"div",21),u.Wb(2,"b"),u.Qc(3,"More details"),u.Vb(),u.Vb(),u.Rb(4,"div",22),u.lc(5,"safeHtml"),u.Vb()),2&e){var n=u.kc();u.Cb(4),u.sc("innerHTML",u.mc(5,1,n.model.questionDescription),u.Gc)}}function Wt(e,t){1&e&&(u.Wb(0,"li"),u.Qc(1,"You can see your own feedback in the results page later on."),u.Vb())}function Mt(e,t){if(1&e&&(u.Wb(0,"li"),u.Qc(1),u.lc(2,"visibilityEntityName"),u.lc(3,"visibilityCapability"),u.Vb()),2&e){var n=u.kc().$implicit,i=u.kc();u.Cb(1),u.Tc(" ",u.pc(2,2,n,i.model.recipientType,i.model.numberOfEntitiesToGiveFeedbackToSetting,i.model.customNumberOfEntitiesToGiveFeedbackTo)," ",u.mc(3,7,i.visibilityStateMachine.getVisibilityControlUnderVisibilityType(n))," ")}}function Pt(e,t){if(1&e&&(u.Ub(0),u.Oc(1,Mt,4,9,"li",8),u.Tb()),2&e){var n=t.$implicit,i=u.kc();u.Cb(1),u.sc("ngIf",i.visibilityStateMachine.isVisibilityTypeApplicable(n)&&i.visibilityStateMachine.hasAnyVisibilityControl(n))}}function Nt(e,t){1&e&&(u.Wb(0,"li"),u.Qc(1,"No-one can see your responses"),u.Vb())}function At(e,t){1&e&&u.Rb(0,"tm-contribution-question-instruction")}function Qt(e,t){1&e&&u.Rb(0,"tm-text-question-instruction")}function Ut(e,t){1&e&&u.Rb(0,"tm-num-scale-question-instruction")}function Bt(e,t){1&e&&u.Rb(0,"tm-contribution-question-constraint")}function Lt(e,t){1&e&&u.Rb(0,"tm-text-question-constraint")}function jt(e,t){1&e&&u.Rb(0,"tm-num-scale-question-constraint")}function Xt(e,t){if(1&e&&u.Rb(0,"tm-rank-options-question-instruction",23),2&e){var n=u.kc();u.sc("questionDetails",n.model.questionDetails)}}function Ht(e,t){if(1&e&&u.Rb(0,"tm-msq-question-constraint",23),2&e){var n=u.kc();u.sc("questionDetails",n.model.questionDetails)}}function Kt(e,t){if(1&e&&u.Rb(0,"tm-rank-recipients-question-instruction",23),2&e){var n=u.kc();u.sc("questionDetails",n.model.questionDetails)}}function $t(e,t){if(1&e&&u.Rb(0,"tm-constsum-options-question-instruction",23),2&e){var n=u.kc();u.sc("questionDetails",n.model.questionDetails)}}function zt(e,t){if(1&e&&u.Rb(0,"tm-constsum-recipients-question-instruction",24),2&e){var n=u.kc();u.sc("questionDetails",n.model.questionDetails)("numOfRecipients",n.model.recipientSubmissionForms.length)}}function Gt(e,t){1&e&&(u.Wb(0,"p",25),u.Wb(1,"span",26),u.Qc(2,"Evaluee/Recipient"),u.Vb(),u.Vb())}function Yt(e,t){1&e&&(u.Wb(0,"div",27),u.Qc(1," Please note that you are submitting this response on behalf of your team. "),u.Vb())}function Jt(e,t){if(1&e&&(u.Wb(0,"div",38),u.Wb(1,"b"),u.Qc(2),u.Vb(),u.Wb(3,"span"),u.Qc(4),u.lc(5,"recipientTypeName"),u.Vb(),u.Vb()),2&e){var n=u.kc(2),i=n.index,s=n.$implicit,o=u.kc();u.uc("id","recipient-name-",i,""),u.Cb(2),u.Sc("",o.getRecipientName(s.recipientIdentifier)," "),u.Cb(2),u.Sc("(",u.nc(5,3,o.model.recipientType,o.model.giverType),")")}}function Zt(e,t){if(1&e&&(u.Wb(0,"option",44),u.Qc(1),u.Vb()),2&e){var n=u.kc().$implicit;u.sc("ngValue",n.recipientIdentifier),u.Cb(1),u.Rc(n.recipientName)}}function en(e,t){if(1&e&&(u.Ub(0),u.Oc(1,Zt,2,2,"option",43),u.Tb()),2&e){var n=t.$implicit,i=u.kc(3).$implicit,s=u.kc();u.Cb(1),u.sc("ngIf",!s.isRecipientSelected(n)||i.recipientIdentifier===n.recipientIdentifier)}}function tn(e,t){if(1&e){var n=u.Xb();u.Wb(0,"div",39),u.Wb(1,"select",40),u.ic("ngModelChange",(function(e){u.Fc(n);var t=u.kc(2).index;return u.kc().triggerRecipientSubmissionFormChange(t,"recipientIdentifier",e)})),u.Rb(2,"option",41),u.Oc(3,en,2,1,"ng-container",9),u.Vb(),u.Wb(4,"div",42),u.Qc(5),u.lc(6,"recipientTypeName"),u.Vb(),u.Vb()}if(2&e){var i=u.kc(2).$implicit,s=u.kc();u.Cb(1),u.sc("ngModel",i.recipientIdentifier)("disabled",s.isDisabled),u.Cb(2),u.sc("ngForOf",s.model.recipientList),u.Cb(2),u.Sc(" (",u.nc(6,4,s.model.recipientType,s.model.giverType),") ")}}function nn(e,t){if(1&e&&(u.Wb(0,"div",35),u.Oc(1,Jt,6,6,"div",36),u.Oc(2,tn,7,7,"div",37),u.Vb()),2&e){var n=u.kc(2);u.Cb(1),u.sc("ngIf",n.formMode===n.QuestionSubmissionFormMode.FIXED_RECIPIENT),u.Cb(1),u.sc("ngIf",n.formMode===n.QuestionSubmissionFormMode.FLEXIBLE_RECIPIENT)}}function sn(e,t){if(1&e){var n=u.Xb();u.Wb(0,"tm-contribution-question-edit-answer-form",45),u.ic("responseDetailsChange",(function(e){u.Fc(n);var t=u.kc().index;return u.kc().triggerRecipientSubmissionFormChange(t,"responseDetails",e)})),u.Vb()}if(2&e){var i=u.kc(),s=i.$implicit,o=i.index,r=u.kc();u.sc("questionDetails",r.model.questionDetails)("responseDetails",s.responseDetails)("shouldShowHelpLink",0===o)("isDisabled",r.isDisabled)}}function on(e,t){if(1&e){var n=u.Xb();u.Wb(0,"tm-text-question-edit-answer-form",46),u.ic("responseDetailsChange",(function(e){u.Fc(n);var t=u.kc().index;return u.kc().triggerRecipientSubmissionFormChange(t,"responseDetails",e)})),u.Vb()}if(2&e){var i=u.kc().$implicit,s=u.kc();u.sc("questionDetails",s.model.questionDetails)("responseDetails",i.responseDetails)("isDisabled",s.isDisabled)}}function rn(e,t){if(1&e){var n=u.Xb();u.Wb(0,"tm-rank-options-question-edit-answer-form",46),u.ic("responseDetailsChange",(function(e){u.Fc(n);var t=u.kc().index;return u.kc().triggerRecipientSubmissionFormChange(t,"responseDetails",e)})),u.Vb()}if(2&e){var i=u.kc().$implicit,s=u.kc();u.sc("questionDetails",s.model.questionDetails)("responseDetails",i.responseDetails)("isDisabled",s.isDisabled)}}function an(e,t){if(1&e){var n=u.Xb();u.Wb(0,"tm-rank-recipients-question-edit-answer-form",47),u.ic("responseDetailsChange",(function(e){u.Fc(n);var t=u.kc().index;return u.kc().triggerRecipientSubmissionFormChange(t,"responseDetails",e)})),u.Vb()}if(2&e){var i=u.kc().$implicit,s=u.kc();u.sc("questionDetails",s.model.questionDetails)("responseDetails",i.responseDetails)("isDisabled",s.isDisabled)("numOfRecipients",s.model.recipientSubmissionForms.length)}}function cn(e,t){if(1&e){var n=u.Xb();u.Wb(0,"tm-num-scale-question-edit-answer-form",46),u.ic("responseDetailsChange",(function(e){u.Fc(n);var t=u.kc().index;return u.kc().triggerRecipientSubmissionFormChange(t,"responseDetails",e)})),u.Vb()}if(2&e){var i=u.kc().$implicit,s=u.kc();u.sc("questionDetails",s.model.questionDetails)("responseDetails",i.responseDetails)("isDisabled",s.isDisabled)}}function ln(e,t){if(1&e){var n=u.Xb();u.Wb(0,"tm-mcq-question-edit-answer-form",48),u.ic("responseDetailsChange",(function(e){u.Fc(n);var t=u.kc().index;return u.kc().triggerRecipientSubmissionFormChange(t,"responseDetails",e)})),u.Vb()}if(2&e){var i=u.kc().$implicit,s=u.kc();u.sc("questionDetails",s.model.questionDetails)("responseDetails",i.responseDetails)("isDisabled",s.isDisabled)("id",s.model.feedbackQuestionId+i.recipientIdentifier)}}function un(e,t){if(1&e){var n=u.Xb();u.Wb(0,"tm-msq-question-edit-answer-form",46),u.ic("responseDetailsChange",(function(e){u.Fc(n);var t=u.kc().index;return u.kc().triggerRecipientSubmissionFormChange(t,"responseDetails",e)})),u.Vb()}if(2&e){var i=u.kc().$implicit,s=u.kc();u.sc("questionDetails",s.model.questionDetails)("responseDetails",i.responseDetails)("isDisabled",s.isDisabled)}}function bn(e,t){if(1&e){var n=u.Xb();u.Wb(0,"tm-rubric-question-edit-answer-form",48),u.ic("responseDetailsChange",(function(e){u.Fc(n);var t=u.kc().index;return u.kc().triggerRecipientSubmissionFormChange(t,"responseDetails",e)})),u.Vb()}if(2&e){var i=u.kc().$implicit,s=u.kc();u.sc("questionDetails",s.model.questionDetails)("responseDetails",i.responseDetails)("isDisabled",s.isDisabled)("id",s.model.feedbackQuestionId+i.recipientIdentifier)}}function pn(e,t){if(1&e){var n=u.Xb();u.Wb(0,"tm-constsum-options-question-edit-answer-form",46),u.ic("responseDetailsChange",(function(e){u.Fc(n);var t=u.kc().index;return u.kc().triggerRecipientSubmissionFormChange(t,"responseDetails",e)})),u.Vb()}if(2&e){var i=u.kc().$implicit,s=u.kc();u.sc("questionDetails",s.model.questionDetails)("responseDetails",i.responseDetails)("isDisabled",s.isDisabled)}}function dn(e,t){if(1&e){var n=u.Xb();u.Wb(0,"tm-constsum-recipients-question-edit-answer-form",46),u.ic("responseDetailsChange",(function(e){u.Fc(n);var t=u.kc().index;return u.kc().triggerRecipientSubmissionFormChange(t,"responseDetails",e)})),u.Vb()}if(2&e){var i=u.kc().$implicit,s=u.kc();u.sc("questionDetails",s.model.questionDetails)("responseDetails",i.responseDetails)("isDisabled",s.isDisabled)}}function fn(e,t){1&e&&(u.Wb(0,"div",54),u.Qc(1," You must provide a valid response in order to give a comment or your comment will not be saved! "),u.Vb())}function mn(e,t){if(1&e){var n=u.Xb();u.Wb(0,"div"),u.Wb(1,"tm-comment-row",52),u.ic("modelChange",(function(e){u.Fc(n);var t=u.kc(2).index;return u.kc().triggerRecipientSubmissionFormChange(t,"commentByGiver",e)}))("deleteCommentEvent",(function(){u.Fc(n);var e=u.kc(2).index;return u.kc().triggerDeleteCommentEvent(e)}))("closeEditingEvent",(function(){u.Fc(n);var e=u.kc(2).index;return u.kc().discardEditedParticipantComment(e)})),u.Vb(),u.Oc(2,fn,2,0,"div",53),u.Vb()}if(2&e){var i=u.kc(2).$implicit,s=u.kc();u.Cb(1),u.sc("mode",s.CommentRowMode.EDIT)("isVisibilityOptionEnabled",!1)("model",i.commentByGiver)("isFeedbackParticipantComment",!0)("questionShowResponsesTo",s.model.showResponsesTo)("shouldHideSavingButton",!0)("isDisabled",s.isDisabled||s.isFeedbackResponseDetailsEmpty(i.responseDetails)),u.Cb(1),u.sc("ngIf",s.isFeedbackResponseDetailsEmpty(i.responseDetails))}}function gn(e,t){if(1&e){var n=u.Xb();u.Wb(0,"button",57),u.ic("click",(function(){u.Fc(n);var e=u.kc(3).index;return u.kc().addNewParticipantCommentToResponse(e)})),u.Rb(1,"i",58),u.Qc(2," [Optional] Comment on your response "),u.Vb()}if(2&e){var i=u.kc(3).$implicit,s=u.kc();u.sc("disabled",s.isDisabled||s.isFeedbackResponseDetailsEmpty(i.responseDetails))}}function hn(e,t){1&e&&(u.Wb(0,"div",54),u.Qc(1," You must provide a valid response in order to give a comment or your comment will not be saved! "),u.Vb())}function vn(e,t){if(1&e){var n=u.Xb();u.Wb(0,"div"),u.Wb(1,"tm-comment-row",59),u.ic("modelChange",(function(e){u.Fc(n);var t=u.kc(3).index;return u.kc().triggerRecipientSubmissionFormChange(t,"commentByGiver",e)}))("closeEditingEvent",(function(){u.Fc(n);var e=u.kc(3).index;return u.kc().cancelAddingNewParticipantComment(e)})),u.Vb(),u.Oc(2,hn,2,0,"div",53),u.Vb()}if(2&e){var i=u.kc(3).$implicit,s=u.kc();u.Cb(1),u.sc("mode",s.CommentRowMode.ADD)("isVisibilityOptionEnabled",!1)("isFeedbackParticipantComment",!0)("questionShowResponsesTo",s.model.showResponsesTo)("shouldHideSavingButton",!0)("model",i.commentByGiver)("isDisabled",s.isDisabled||s.isFeedbackResponseDetailsEmpty(i.responseDetails)),u.Cb(1),u.sc("ngIf",s.isFeedbackResponseDetailsEmpty(i.responseDetails))}}function Cn(e,t){if(1&e&&(u.Wb(0,"div",55),u.Oc(1,gn,3,1,"button",56),u.Vb(),u.Oc(2,vn,3,8,"div",8)),2&e){var n=u.kc(2).$implicit,i=u.kc();u.sc("ngbTooltip",i.isFeedbackResponseDetailsEmpty(n.responseDetails)?"Give a valid response in order to comment":""),u.Cb(1),u.sc("ngIf",!n.commentByGiver),u.Cb(1),u.sc("ngIf",n.commentByGiver)}}function Dn(e,t){if(1&e&&(u.Wb(0,"div",49),u.Oc(1,mn,3,8,"div",50),u.Oc(2,Cn,3,3,"ng-template",null,51,u.Pc),u.Vb()),2&e){var n=u.Cc(3),i=u.kc().$implicit;u.Cb(1),u.sc("ngIf",i.commentByGiver&&i.commentByGiver.originalComment)("ngIfElse",n)}}function On(e,t){if(1&e&&(u.Wb(0,"div",14),u.Oc(1,nn,3,2,"div",28),u.Wb(2,"div",29),u.Oc(3,sn,1,4,"tm-contribution-question-edit-answer-form",30),u.Oc(4,on,1,3,"tm-text-question-edit-answer-form",31),u.Oc(5,rn,1,3,"tm-rank-options-question-edit-answer-form",31),u.Oc(6,an,1,4,"tm-rank-recipients-question-edit-answer-form",32),u.Oc(7,cn,1,3,"tm-num-scale-question-edit-answer-form",31),u.Oc(8,ln,1,4,"tm-mcq-question-edit-answer-form",33),u.Oc(9,un,1,3,"tm-msq-question-edit-answer-form",31),u.Oc(10,bn,1,4,"tm-rubric-question-edit-answer-form",33),u.Oc(11,pn,1,3,"tm-constsum-options-question-edit-answer-form",31),u.Oc(12,dn,1,3,"tm-constsum-recipients-question-edit-answer-form",31),u.Vb(),u.Oc(13,Dn,4,2,"div",34),u.Vb()),2&e){var n=u.kc();u.Cb(1),u.sc("ngIf",n.model.recipientType!==n.FeedbackParticipantType.SELF&&n.model.recipientType!==n.FeedbackParticipantType.NONE),u.Cb(2),u.sc("ngIf",n.model.questionType===n.FeedbackQuestionType.CONTRIB),u.Cb(1),u.sc("ngIf",n.model.questionType===n.FeedbackQuestionType.TEXT),u.Cb(1),u.sc("ngIf",n.model.questionType===n.FeedbackQuestionType.RANK_OPTIONS),u.Cb(1),u.sc("ngIf",n.model.questionType===n.FeedbackQuestionType.RANK_RECIPIENTS),u.Cb(1),u.sc("ngIf",n.model.questionType===n.FeedbackQuestionType.NUMSCALE),u.Cb(1),u.sc("ngIf",n.model.questionType===n.FeedbackQuestionType.MCQ),u.Cb(1),u.sc("ngIf",n.model.questionType===n.FeedbackQuestionType.MSQ),u.Cb(1),u.sc("ngIf",n.model.questionType===n.FeedbackQuestionType.RUBRIC),u.Cb(1),u.sc("ngIf",n.model.questionType===n.FeedbackQuestionType.CONSTSUM_OPTIONS),u.Cb(1),u.sc("ngIf",n.model.questionType===n.FeedbackQuestionType.CONSTSUM_RECIPIENTS),u.Cb(1),u.sc("ngIf",n.allowedToHaveParticipantComment)}}function kn(e,t){if(1&e){var n=u.Xb();u.Wb(0,"tm-rank-recipients-question-constraint",60),u.ic("isValidEvent",(function(e){return u.Fc(n),u.kc().updateValidity(e)})),u.Vb()}if(2&e){var i=u.kc();u.sc("recipientSubmissionForms",i.model.recipientSubmissionForms)("questionDetails",i.model.questionDetails)}}function yn(e,t){if(1&e){var n=u.Xb();u.Wb(0,"tm-constsum-recipients-question-constraint",60),u.ic("isValidEvent",(function(e){return u.Fc(n),u.kc().updateValidity(e)})),u.Vb()}if(2&e){var i=u.kc();u.sc("recipientSubmissionForms",i.model.recipientSubmissionForms)("questionDetails",i.model.questionDetails)}}function Tn(e,t){1&e&&(u.Wb(0,"span"),u.Qc(1,"This question is for team members and you don't have any team members. Therefore, you will not be able to answer this question."),u.Vb())}function qn(e,t){1&e&&(u.Wb(0,"span"),u.Qc(1,"This question is for other teams in this course and this course doesn't have any other team. Therefore, you will not be able to answer this question."),u.Vb())}function wn(e,t){1&e&&(u.Wb(0,"span"),u.Qc(1,"This question is for other students in this course and this course doesn't have any other student. Therefore, you will not be able to answer this question."),u.Vb())}function Rn(e,t){if(1&e&&(u.Wb(0,"div",61),u.Oc(1,Tn,2,0,"span",8),u.Oc(2,qn,2,0,"span",8),u.Oc(3,wn,2,0,"span",8),u.Vb()),2&e){var n=u.kc();u.Cb(1),u.sc("ngIf",n.model.recipientType===n.FeedbackParticipantType.OWN_TEAM_MEMBERS),u.Cb(1),u.sc("ngIf",n.model.recipientType===n.FeedbackParticipantType.TEAMS),u.Cb(1),u.sc("ngIf",n.model.recipientType===n.FeedbackParticipantType.STUDENTS)}}var Sn,In=((Sn=function(){function e(t,n){_classCallCheck(this,e),this.feedbackQuestionsService=t,this.feedbackResponseService=n,this.QuestionSubmissionFormMode=d.a,this.FeedbackQuestionType=b.d,this.FeedbackParticipantType=b.c,this.FeedbackVisibilityType=b.g,this.CommentRowMode=p.b,this.formMode=d.a.FIXED_RECIPIENT,this.isDisabled=!1,this.formModelChange=new u.n,this.model={feedbackQuestionId:"",questionNumber:0,questionBrief:"",questionDescription:"",giverType:b.c.STUDENTS,recipientType:b.c.STUDENTS,recipientList:[],recipientSubmissionForms:[],questionType:b.d.TEXT,questionDetails:{questionText:"",questionType:b.d.TEXT},numberOfEntitiesToGiveFeedbackToSetting:b.m.UNLIMITED,customNumberOfEntitiesToGiveFeedbackTo:0,showGiverNameTo:[],showRecipientNameTo:[],showResponsesTo:[]},this.deleteCommentEvent=new u.n,this.allowedToHaveParticipantComment=!1,this.visibilityStateMachine=this.feedbackQuestionsService.getNewVisibilityStateMachine(this.model.giverType,this.model.recipientType)}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"trackRecipientSubmissionFormByFn",value:function(e){return e}},{key:"getRecipientName",value:function(e){var t=this.model.recipientList.find((function(t){return t.recipientIdentifier===e}));return t?t.recipientName:"Unknown"}},{key:"isRecipientSelected",value:function(e){return this.model.recipientSubmissionForms.some((function(t){return t.recipientIdentifier===e.recipientIdentifier}))}},{key:"triggerRecipientSubmissionFormChange",value:function(e,t,n){var i=this.model.recipientSubmissionForms.slice();i[e]=Object.assign(Object.assign({},i[e]),_defineProperty({},t,n)),this.formModelChange.emit(Object.assign(Object.assign({},this.model),{recipientSubmissionForms:i}))}},{key:"triggerDeleteCommentEvent",value:function(e){this.deleteCommentEvent.emit(e)}},{key:"addNewParticipantCommentToResponse",value:function(e){this.triggerRecipientSubmissionFormChange(e,"commentByGiver",{commentEditFormModel:{commentText:""},isEditing:!0})}},{key:"cancelAddingNewParticipantComment",value:function(e){this.triggerRecipientSubmissionFormChange(e,"commentByGiver",null)}},{key:"discardEditedParticipantComment",value:function(e){var t=this.model.recipientSubmissionForms[e].commentByGiver;t&&t.originalComment&&this.triggerRecipientSubmissionFormChange(e,"commentByGiver",Object.assign({},t,{commentEditFormModel:{commentText:t.originalComment.commentText},isEditing:!1}))}},{key:"isFeedbackResponseDetailsEmpty",value:function(e){return this.feedbackResponseService.isFeedbackResponseDetailsEmpty(this.model.questionType,e)}},{key:"updateValidity",value:function(e){if(0!==this.model.recipientSubmissionForms.length){var t=this.model.recipientSubmissionForms.slice().map((function(t){return Object.assign({},t,{isValid:e})}));this.formModelChange.emit(Object.assign(Object.assign({},this.model),{recipientSubmissionForms:t}))}}},{key:"formModel",set:function(e){this.model=e,this.visibilityStateMachine=this.feedbackQuestionsService.getNewVisibilityStateMachine(e.giverType,e.recipientType),this.visibilityStateMachine.applyVisibilitySettings({SHOW_RESPONSE:e.showResponsesTo,SHOW_GIVER_NAME:e.showGiverNameTo,SHOW_RECIPIENT_NAME:e.showRecipientNameTo}),this.allowedToHaveParticipantComment=this.feedbackQuestionsService.isAllowedToHaveParticipantComment(this.model.questionType)}}]),e}()).\u0275fac=function(e){return new(e||Sn)(u.Qb(f.a),u.Qb(m.a))},Sn.\u0275cmp=u.Kb({type:Sn,selectors:[["tm-question-submission-form"]],inputs:{formMode:"formMode",isDisabled:"isDisabled",formModel:"formModel"},outputs:{formModelChange:"formModelChange",deleteCommentEvent:"deleteCommentEvent"},decls:36,vars:26,consts:[["id","question-submission-form",1,"card"],[1,"card-header","bg-primary","text-white","question-header"],["id","question-details"],[1,"card-body"],["class","card mb-3",4,"ngIf"],[1,"card-body","visibility-card"],[1,"text-secondary"],["id","visibility-list",1,"text-secondary"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"questionDetails",4,"ngIf"],[3,"questionDetails","numOfRecipients",4,"ngIf"],["class","margin-top-15px",4,"ngIf"],["class","alert alert-primary","role","alert",4,"ngIf"],[1,"row"],[1,"evaluee-col","col-12"],["class","row",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-12","constraint-margins"],[3,"recipientSubmissionForms","questionDetails","isValidEvent",4,"ngIf"],["class","alert alert-warning","role","alert",4,"ngIf"],[1,"card","mb-3"],[1,"card-header"],["id","question-description",1,"card-body",3,"innerHTML"],[3,"questionDetails"],[3,"questionDetails","numOfRecipients"],[1,"margin-top-15px"],["ngbTooltip","The party being evaluated or given feedback to",1,"ngb-tooltip-class"],["role","alert",1,"alert","alert-primary"],["class","col-12 margin-top-10px",4,"ngIf"],[1,"col-12","margin-top-10px","indent"],[3,"questionDetails","responseDetails","shouldShowHelpLink","isDisabled","responseDetailsChange",4,"ngIf"],[3,"questionDetails","responseDetails","isDisabled","responseDetailsChange",4,"ngIf"],[3,"questionDetails","responseDetails","isDisabled","numOfRecipients","responseDetailsChange",4,"ngIf"],[3,"questionDetails","responseDetails","isDisabled","id","responseDetailsChange",4,"ngIf"],["id","comment-section","class","col-12 margin-bottom-20px margin-top-10px indent",4,"ngIf"],[1,"col-12","margin-top-10px"],[3,"id",4,"ngIf"],["class","row evaluee-select align-items-center",4,"ngIf"],[3,"id"],[1,"row","evaluee-select","align-items-center"],["id","recipient-dropdown",1,"form-control","font-weight-bold","col",3,"ngModel","disabled","ngModelChange"],["value",""],[1,"col","text-left"],[3,"ngValue",4,"ngIf"],[3,"ngValue"],[3,"questionDetails","responseDetails","shouldShowHelpLink","isDisabled","responseDetailsChange"],[3,"questionDetails","responseDetails","isDisabled","responseDetailsChange"],[3,"questionDetails","responseDetails","isDisabled","numOfRecipients","responseDetailsChange"],[3,"questionDetails","responseDetails","isDisabled","id","responseDetailsChange"],["id","comment-section",1,"col-12","margin-bottom-20px","margin-top-10px","indent"],[4,"ngIf","ngIfElse"],["newComment",""],[3,"mode","isVisibilityOptionEnabled","model","isFeedbackParticipantComment","questionShowResponsesTo","shouldHideSavingButton","isDisabled","modelChange","deleteCommentEvent","closeEditingEvent"],["class","alert alert-warning margin-top-10px","role","alert",4,"ngIf"],["role","alert",1,"alert","alert-warning","margin-top-10px"],[2,"display","inline-block",3,"ngbTooltip"],["id","btn-add-comment","class","btn btn-light btn-sm",3,"disabled","click",4,"ngIf"],["id","btn-add-comment",1,"btn","btn-light","btn-sm",3,"disabled","click"],[1,"fas","fa-comment"],[3,"mode","isVisibilityOptionEnabled","isFeedbackParticipantComment","questionShowResponsesTo","shouldHideSavingButton","model","isDisabled","modelChange","closeEditingEvent"],[3,"recipientSubmissionForms","questionDetails","isValidEvent"],["role","alert",1,"alert","alert-warning"]],template:function(e,t){1&e&&(u.Wb(0,"div",0),u.Wb(1,"div",1),u.Wb(2,"span",2),u.Wb(3,"b"),u.Qc(4),u.Vb(),u.Qc(5),u.Vb(),u.Vb(),u.Wb(6,"div",3),u.Oc(7,Ft,6,3,"div",4),u.Wb(8,"div",5),u.Wb(9,"p",6),u.Qc(10,"Only the following persons can see your responses: "),u.Vb(),u.Wb(11,"ul",7),u.Oc(12,Wt,2,0,"li",8),u.Oc(13,Pt,2,1,"ng-container",9),u.lc(14,"enumToArray"),u.Oc(15,Nt,2,0,"li",8),u.Vb(),u.Vb(),u.Oc(16,At,1,0,"tm-contribution-question-instruction",8),u.Oc(17,Qt,1,0,"tm-text-question-instruction",8),u.Oc(18,Ut,1,0,"tm-num-scale-question-instruction",8),u.Oc(19,Bt,1,0,"tm-contribution-question-constraint",8),u.Oc(20,Lt,1,0,"tm-text-question-constraint",8),u.Oc(21,jt,1,0,"tm-num-scale-question-constraint",8),u.Oc(22,Xt,1,1,"tm-rank-options-question-instruction",10),u.Oc(23,Ht,1,1,"tm-msq-question-constraint",10),u.Oc(24,Kt,1,1,"tm-rank-recipients-question-instruction",10),u.Oc(25,$t,1,1,"tm-constsum-options-question-instruction",10),u.Oc(26,zt,1,2,"tm-constsum-recipients-question-instruction",11),u.Oc(27,Gt,3,0,"p",12),u.Oc(28,Yt,2,0,"div",13),u.Wb(29,"div",14),u.Wb(30,"div",15),u.Oc(31,On,14,12,"div",16),u.Vb(),u.Vb(),u.Wb(32,"div",17),u.Oc(33,kn,1,2,"tm-rank-recipients-question-constraint",18),u.Oc(34,yn,1,2,"tm-constsum-recipients-question-constraint",18),u.Vb(),u.Oc(35,Rn,4,3,"div",19),u.Vb(),u.Vb()),2&e&&(u.Cb(4),u.Sc("Question ",t.model.questionNumber,": "),u.Cb(1),u.Rc(t.model.questionBrief),u.Cb(2),u.sc("ngIf",t.model.questionDescription),u.Cb(5),u.sc("ngIf",t.model.recipientType===t.FeedbackParticipantType.SELF),u.Cb(1),u.sc("ngForOf",u.mc(14,24,t.FeedbackVisibilityType)),u.Cb(2),u.sc("ngIf",!t.visibilityStateMachine.hasAnyVisibilityControlForAll()),u.Cb(1),u.sc("ngIf",t.model.questionType===t.FeedbackQuestionType.CONTRIB),u.Cb(1),u.sc("ngIf",t.model.questionType===t.FeedbackQuestionType.TEXT),u.Cb(1),u.sc("ngIf",t.model.questionType===t.FeedbackQuestionType.NUMSCALE),u.Cb(1),u.sc("ngIf",t.model.questionType===t.FeedbackQuestionType.CONTRIB),u.Cb(1),u.sc("ngIf",t.model.questionType===t.FeedbackQuestionType.TEXT),u.Cb(1),u.sc("ngIf",t.model.questionType===t.FeedbackQuestionType.NUMSCALE),u.Cb(1),u.sc("ngIf",t.model.questionType===t.FeedbackQuestionType.RANK_OPTIONS),u.Cb(1),u.sc("ngIf",t.model.questionType===t.FeedbackQuestionType.MSQ),u.Cb(1),u.sc("ngIf",t.model.questionType===t.FeedbackQuestionType.RANK_RECIPIENTS),u.Cb(1),u.sc("ngIf",t.model.questionType===t.FeedbackQuestionType.CONSTSUM_OPTIONS),u.Cb(1),u.sc("ngIf",t.model.questionType===t.FeedbackQuestionType.CONSTSUM_RECIPIENTS),u.Cb(1),u.sc("ngIf",t.model.recipientType!==t.FeedbackParticipantType.NONE&&t.model.recipientType!==t.FeedbackParticipantType.SELF),u.Cb(1),u.sc("ngIf",t.model.giverType===t.FeedbackParticipantType.TEAMS),u.Cb(3),u.sc("ngForOf",t.model.recipientSubmissionForms)("ngForTrackBy",t.trackRecipientSubmissionFormByFn),u.Cb(2),u.sc("ngIf",t.model.questionType===t.FeedbackQuestionType.RANK_RECIPIENTS),u.Cb(1),u.sc("ngIf",t.model.questionType===t.FeedbackQuestionType.CONSTSUM_RECIPIENTS),u.Cb(1),u.sc("ngIf",0===t.model.recipientList.length))},directives:[g.u,g.t,h,v,C,O,k,y,_,W,Q,j,G,Y.w,J.B,J.p,J.s,J.u,J.E,le,he,qe,Se,Ee,Ne,je,Je,bt,pt,p.a,vt,It],pipes:[_t.a,xe.a,Vt.a,Et.a,xt],styles:[".margin-top-30px[_ngcontent-%COMP%]{margin-top:30px}.margin-top-10px[_ngcontent-%COMP%]{margin-top:10px}.margin-top-15px[_ngcontent-%COMP%]{margin-top:15px}.margin-bottom-20px[_ngcontent-%COMP%]{margin-bottom:20px}.constraint-margins[_ngcontent-%COMP%]{margin-top:10px;margin-left:20px}.evaluee-col[_ngcontent-%COMP%]{padding-left:50px;padding-right:50px}.evaluee-select[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}.visibility-card[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.03)}.indent[_ngcontent-%COMP%]{margin-left:1%}"]}),Sn)},jd1o:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var i,s,o,r,a=n("ofXK"),c=n("3Pt+"),l=n("1kSV"),u=n("XWfC"),b=n("fXoL"),p=((i=function e(){_classCallCheck(this,e)}).\u0275mod=b.Ob({type:i}),i.\u0275inj=b.Nb({factory:function(e){return new(e||i)},imports:[[a.c]]}),i),d=n("GQNo"),f=n("SEFB"),m=((o=function e(){_classCallCheck(this,e)}).\u0275mod=b.Ob({type:o}),o.\u0275inj=b.Nb({factory:function(e){return new(e||o)},imports:[[a.c,c.j,d.a,f.a]]}),o),g=((s=function e(){_classCallCheck(this,e)}).\u0275mod=b.Ob({type:s}),s.\u0275inj=b.Nb({factory:function(e){return new(e||s)},imports:[[a.c]]}),s),h=n("Wxyy"),v=((r=function e(){_classCallCheck(this,e)}).\u0275mod=b.Ob({type:r}),r.\u0275inj=b.Nb({factory:function(e){return new(e||r)},imports:[[a.c,f.a,h.a,l.y,c.j,d.a,p,g,m,u.a]]}),r)},zHuJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){return e[e.FIXED_RECIPIENT=0]="FIXED_RECIPIENT",e[e.FLEXIBLE_RECIPIENT=1]="FLEXIBLE_RECIPIENT",e}({})}}]);