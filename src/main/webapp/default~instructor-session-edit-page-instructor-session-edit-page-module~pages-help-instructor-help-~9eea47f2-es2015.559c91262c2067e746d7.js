(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"5+WD":function(e,t,i){"use strict";i.d(t,"a",(function(){return we})),i.d(t,"b",(function(){return Me})),i.d(t,"c",(function(){return We})),i.d(t,"d",(function(){return Ve})),i.d(t,"e",(function(){return le}));var n=i("fXoL"),s=i("ofXK");
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function o(e){return null!=e&&""+e!="false"}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function r(e){return e instanceof n.l?e.nativeElement:e}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */var c=i("XNiG"),a=i("LRne"),l=i("HDdC"),d=i("xgIS"),h=i("VRyK"),b=i("3N8a");class g extends b.a{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(()=>e.flush(null))))}recycleAsyncId(e,t,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(e,t,i);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}}var u=i("IjjT");class p extends u.a{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let i,n=-1,s=t.length;e=e||t.shift();do{if(i=e.execute(e.state,e.delay))break}while(++n<s&&(e=t.shift()));if(this.active=!1,i){for(;++n<s&&(e=t.shift());)e.unsubscribe();throw i}}}const m=new p(g);var f=i("quSY");i("/uUt");var C=i("D0XW"),_=i("l7GE"),v=i("ZUHj");class k{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new M(e,this.durationSelector))}}class M extends _.a{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let i;try{const{durationSelector:t}=this;i=t(e)}catch(t){return this.destination.error(t)}const n=Object(v.a)(this,i);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}clearThrottle(){const{value:e,hasValue:t,throttled:i}=this;i&&(this.remove(i),this.throttled=null,i.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(e))}notifyNext(e,t,i,n){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var E=i("PqYM");function O(e,t=C.a){return i=()=>Object(E.a)(e,t),function(e){return e.lift(new k(i))};var i}var y=i("pLZG"),x=i("1G5W"),w=i("JX91");i("7o/Q");var S=i("eIep");let T;i("WMd4"),i("9ppp"),i("Ylt2");try{T="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(Re){T=!1}let D,W,V=(()=>{class e{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Object(s.O)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!T)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return e.\u0275fac=function(t){return new(t||e)(n.ec(n.B,8))},e.\u0275prov=Object(n.Mb)({factory:function(){return new e(Object(n.ec)(n.B,8))},token:e,providedIn:"root"}),e})();function R(e){return function(){if(null==D&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>D=!0}))}finally{D=D||!1}return D}()?e:!!e.capture}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */const P=new n.q("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(n.V)(s.e)}});let I=(()=>{class e{constructor(e){if(this.value="ltr",this.change=new n.n,e){const t=e.documentElement?e.documentElement.dir:null,i=(e.body?e.body.dir:null)||t;this.value="ltr"===i||"rtl"===i?i:"ltr"}}ngOnDestroy(){this.change.complete()}}return e.\u0275fac=function(t){return new(t||e)(n.ec(P,8))},e.\u0275prov=Object(n.Mb)({factory:function(){return new e(Object(n.ec)(P,8))},token:e,providedIn:"root"}),e})(),F=(()=>{class e{constructor(e,t,i){this._ngZone=e,this._platform=t,this._scrolled=new c.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new l.a(t=>{this._globalSubscription||this._addGlobalListener();const i=e>0?this._scrolled.pipe(O(e)).subscribe(t):this._scrolled.subscribe(t);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Object(a.a)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,t)=>this.deregister(t)),this._scrolled.complete()}ancestorScrolled(e,t){const i=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe(Object(y.a)(e=>!e||i.indexOf(e)>-1))}getAncestorScrollContainers(e){const t=[];return this.scrollContainers.forEach((i,n)=>{this._scrollableContainsElement(n,e)&&t.push(n)}),t}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollableContainsElement(e,t){let i=t.nativeElement,n=e.getElementRef().nativeElement;do{if(i==n)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const e=this._getWindow();return Object(d.a)(e.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return e.\u0275fac=function(t){return new(t||e)(n.ec(n.z),n.ec(V),n.ec(s.e,8))},e.\u0275prov=Object(n.Mb)({factory:function(){return new e(Object(n.ec)(n.z),Object(n.ec)(V),Object(n.ec)(s.e,8))},token:e,providedIn:"root"}),e})(),q=(()=>{class e{constructor(e,t,i){this._platform=e,this._document=i,t.runOutsideAngular(()=>{const t=this._getWindow();this._change=e.isBrowser?Object(h.a)(Object(d.a)(t,"resize"),Object(d.a)(t,"orientationchange")):Object(a.a)(),this._invalidateCache=this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){this._invalidateCache.unsubscribe()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:t,height:i}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+t,height:i,width:t}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._getDocument(),t=this._getWindow(),i=e.documentElement,n=i.getBoundingClientRect();return{top:-n.top||e.body.scrollTop||t.scrollY||i.scrollTop||0,left:-n.left||e.body.scrollLeft||t.scrollX||i.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(O(e)):this._change}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return e.\u0275fac=function(t){return new(t||e)(n.ec(V),n.ec(n.z),n.ec(s.e,8))},e.\u0275prov=Object(n.Mb)({factory:function(){return new e(Object(n.ec)(V),Object(n.ec)(n.z),Object(n.ec)(s.e,8))},token:e,providedIn:"root"}),e})(),N=(()=>{class e{}return e.\u0275mod=n.Ob({type:e}),e.\u0275inj=n.Nb({factory:function(t){return new(t||e)}}),e})();var Q=i("Y7HM");function A(e){const{subscriber:t,counter:i,period:n}=e;t.next(i),this.schedule({subscriber:t,counter:i+1,period:n},n)}var B=i("lJxs"),L=i("IzEk"),U=i("vkgz");function j(e,t){for(let i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function G(e,t){const i=t?"":"none";j(e.style,{touchAction:t?"":"none",webkitUserDrag:t?"":"none",webkitTapHighlightColor:t?"":"transparent",userSelect:i,msUserSelect:i,webkitUserSelect:i,MozUserSelect:i})}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function z(e){const t=e.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(e)*t}function H(e,t){return e.getPropertyValue(t).split(",").map(e=>e.trim())}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function X(e){const t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}}function $(e,t,i){const{top:n,bottom:s,left:o,right:r}=e;return i>=n&&i<=s&&t>=o&&t<=r}function K(e,t,i){e.top+=t,e.bottom=e.top+e.height,e.left+=i,e.right=e.left+e.width}function Y(e,t,i,n){const{top:s,right:o,bottom:r,left:c,width:a,height:l}=e,d=a*t,h=l*t;return n>s-h&&n<r+h&&i>c-d&&i<o+d}class Z{constructor(e,t){this._document=e,this._viewportRuler=t,this.positions=new Map}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),e.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:X(e)})})}handleScroll(e){const t=e.target,i=this.positions.get(t);if(!i)return null;const n=t===this._document?t.documentElement:t,s=i.scrollPosition;let o,r;if(t===this._document){const e=this._viewportRuler.getViewportScrollPosition();o=e.top,r=e.left}else o=t.scrollTop,r=t.scrollLeft;const c=s.top-o,a=s.left-r;return this.positions.forEach((e,i)=>{e.clientRect&&t!==i&&n.contains(i)&&K(e.clientRect,c,a)}),s.top=o,s.left=r,{top:c,left:a}}}const J=R({passive:!0}),ee=R({passive:!1});class te{constructor(e,t,i,n,s,o){this._config=t,this._document=i,this._ngZone=n,this._viewportRuler=s,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new c.a,this._pointerMoveSubscription=f.a.EMPTY,this._pointerUpSubscription=f.a.EMPTY,this._scrollSubscription=f.a.EMPTY,this._resizeSubscription=f.a.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new c.a,this.started=new c.a,this.released=new c.a,this.ended=new c.a,this.entered=new c.a,this.exited=new c.a,this.dropped=new c.a,this.moved=this._moveEvents.asObservable(),this._pointerDown=e=>{if(this.beforeStarted.next(),this._handles.length){const t=this._handles.find(t=>{const i=e.target;return!!i&&(i===t||t.contains(i))});!t||this._disabledHandles.has(t)||this.disabled||this._initializeDragSequence(t,e)}else this.disabled||this._initializeDragSequence(this._rootElement,e)},this._pointerMove=e=>{e.preventDefault();const t=this._getPointerPositionOnPage(e);if(!this._hasStartedDragging){if(Math.abs(t.x-this._pickupPositionOnPage.x)+Math.abs(t.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){if(!(Date.now()>=this._dragStartTime+this._getDragStartDelay(e)))return void this._endDragSequence(e);this._dropContainer&&this._dropContainer.isDragging()||(this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(e)))}return}this._boundaryElement&&(this._previewRect&&(this._previewRect.width||this._previewRect.height)||(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()));const i=this._getConstrainedPointerPosition(t);if(this._hasMoved=!0,this._updatePointerDirectionDelta(i),this._dropContainer)this._updateActiveDropContainer(i);else{const e=this._activeTransform;e.x=i.x-this._pickupPositionOnPage.x+this._passiveTransform.x,e.y=i.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(e.x,e.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${e.x} ${e.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:i,event:e,distance:this._getDragDistance(i),delta:this._pointerDirectionDelta})})},this._pointerUp=e=>{this._endDragSequence(e)},this.withRootElement(e),this._parentPositions=new Z(i,s),o.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(e){const t=o(e);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions())}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){return this._handles=e.map(e=>r(e)),this._handles.forEach(e=>G(e,!1)),this._toggleNativeDragInteractions(),this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){const t=r(e);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,ee),t.addEventListener("touchstart",this._pointerDown,J)}),this._initialTransform=void 0,this._rootElement=t),this}withBoundaryElement(e){return this._boundaryElement=e?r(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&oe(this._rootElement),oe(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._placeholderTemplate=this._previewTemplate=this._anchor=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){this._handles.indexOf(e)>-1&&this._disabledHandles.add(e)}enableHandle(e){this._disabledHandles.delete(e)}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){const e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}_sortFromLastPointerPosition(){const e=this._pointerPositionAtLastDirectionChange;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e))}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&oe(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&oe(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(e){this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)})):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(this._getPointerPositionOnPage(e))})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}_startDragSequence(e){this.started.next({source:this}),re(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const e=this._rootElement,n=e.parentNode,s=this._preview=this._createPreviewElement(),o=this._placeholder=this._createPlaceholderElement(),r=this._anchor=this._anchor||this._document.createComment("");n.insertBefore(r,e),e.style.display="none",this._document.body.appendChild(n.replaceChild(o,e)),(i=this._document,i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement||i.body).appendChild(s),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this._initialContainer=this._initialIndex=void 0;var i;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(e,t){t.stopPropagation();const i=this.isDragging(),n=re(t),s=!n&&0!==t.button,o=this._rootElement,r=!n&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(t.target&&t.target.draggable&&"mousedown"===t.type&&t.preventDefault(),i||s||r)return;this._handles.length&&(this._rootElementTapHighlight=o.style.webkitTapHighlightColor,o.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.subscribe(e=>{this._updateOnScroll(e)}),this._boundaryElement&&(this._boundaryRect=X(this._boundaryElement));const c=this._previewTemplate;this._pickupPositionInElement=c&&c.template&&!c.matchSize?{x:0,y:0}:this._getPointerPositionInElement(e,t);const a=this._pickupPositionOnPage=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:a.x,y:a.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){this._rootElement.style.display="",this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run(()=>{const t=this._dropContainer,i=t.getItemIndex(this),n=this._getPointerPositionOnPage(e),s=this._getDragDistance(this._getPointerPositionOnPage(e)),o=t._isOverContainer(n.x,n.y);this.ended.next({source:this,distance:s}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:o,distance:s}),t.drop(this,i,this._initialContainer,o,s,this._initialIndex),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t}){let i=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!i&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(i=this._initialContainer),i&&i!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=i,this._dropContainer.enter(this,e,t,i===this._initialContainer&&i.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:i,currentIndex:i.getItemIndex(this)})}),this._dropContainer._startScrollingIfNecessary(e,t),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this._preview.style.transform=ie(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y)}_createPreviewElement(){const e=this._previewTemplate,t=this.previewClass,i=e?e.template:null;let n;if(i&&e){const t=e.matchSize?this._rootElement.getBoundingClientRect():null,s=e.viewContainer.createEmbeddedView(i,e.context);s.detectChanges(),n=ce(s,this._document),this._previewRef=s,e.matchSize?ae(n,t):n.style.transform=ie(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const e=this._rootElement;n=ne(e),ae(n,e.getBoundingClientRect())}return j(n.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:""+(this._config.zIndex||1e3)}),G(n,!1),n.classList.add("cdk-drag-preview"),n.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(e=>n.classList.add(e)):n.classList.add(t)),n}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=ie(e.left,e.top);const t=function(e){const t=getComputedStyle(e),i=H(t,"transition-property"),n=i.find(e=>"transform"===e||"all"===e);if(!n)return 0;const s=i.indexOf(n),o=H(t,"transition-duration"),r=H(t,"transition-delay");return z(o[s])+z(r[s])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(e=>{const i=t=>{(!t||t.target===this._preview&&"transform"===t.propertyName)&&(this._preview.removeEventListener("transitionend",i),e(),clearTimeout(n))},n=setTimeout(i,1.5*t);this._preview.addEventListener("transitionend",i)}))}_createPlaceholderElement(){const e=this._placeholderTemplate,t=e?e.template:null;let i;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),i=ce(this._placeholderRef,this._document)):i=ne(this._rootElement),i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(e,t){const i=this._rootElement.getBoundingClientRect(),n=e===this._rootElement?null:e,s=n?n.getBoundingClientRect():i,o=re(t)?t.targetTouches[0]:t,r=this._getViewportScrollPosition();return{x:s.left-i.left+(o.pageX-s.left-r.left),y:s.top-i.top+(o.pageY-s.top-r.top)}}_getPointerPositionOnPage(e){const t=re(e)?e.touches[0]||e.changedTouches[0]:e,i=this._getViewportScrollPosition();return{x:t.pageX-i.left,y:t.pageY-i.top}}_getConstrainedPointerPosition(e){const t=this.constrainPosition?this.constrainPosition(e,this):e,i=this._dropContainer?this._dropContainer.lockAxis:null;if("x"===this.lockAxis||"x"===i?t.y=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==i||(t.x=this._pickupPositionOnPage.x),this._boundaryRect){const{x:e,y:i}=this._pickupPositionInElement,n=this._boundaryRect,s=this._previewRect,o=n.top+i,r=n.bottom-(s.height-i);t.x=se(t.x,n.left+e,n.right-(s.width-e)),t.y=se(t.y,o,r)}return t}_updatePointerDirectionDelta(e){const{x:t,y:i}=e,n=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,o=Math.abs(t-s.x),r=Math.abs(i-s.y);return o>this._config.pointerDirectionChangeThreshold&&(n.x=t>s.x?1:-1,s.x=t),r>this._config.pointerDirectionChangeThreshold&&(n.y=i>s.y?1:-1,s.y=i),n}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,G(this._rootElement,e))}_removeRootElementListeners(e){e.removeEventListener("mousedown",this._pointerDown,ee),e.removeEventListener("touchstart",this._pointerDown,J)}_applyRootElementTransform(e,t){const i=ie(e,t);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?i+" "+this._initialTransform:i}_getDragDistance(e){const t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(0===e&&0===t||this.isDragging()||!this._boundaryElement)return;const i=this._boundaryElement.getBoundingClientRect(),n=this._rootElement.getBoundingClientRect();if(0===i.width&&0===i.height||0===n.width&&0===n.height)return;const s=i.left-n.left,o=n.right-i.right,r=i.top-n.top,c=n.bottom-i.bottom;i.width>n.width?(s>0&&(e+=s),o>0&&(e-=o)):e=0,i.height>n.height?(r>0&&(t+=r),c>0&&(t-=c)):t=0,e===this._passiveTransform.x&&t===this._passiveTransform.y||this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){const t=this.dragStartDelay;return"number"==typeof t?t:re(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){const t=this._parentPositions.handleScroll(e);this._boundaryRect&&t&&K(this._boundaryRect,t.top,t.left)}_getViewportScrollPosition(){const e=this._parentPositions.positions.get(this._document);return e?e.scrollPosition:this._viewportRuler.getViewportScrollPosition()}}function ie(e,t){return`translate3d(${Math.round(e)}px, ${Math.round(t)}px, 0)`}function ne(e){const t=e.cloneNode(!0),i=t.querySelectorAll("[id]"),n=e.querySelectorAll("canvas");t.removeAttribute("id");for(let s=0;s<i.length;s++)i[s].removeAttribute("id");if(n.length){const e=t.querySelectorAll("canvas");for(let t=0;t<n.length;t++){const i=e[t].getContext("2d");i&&i.drawImage(n[t],0,0)}}return t}function se(e,t,i){return Math.max(t,Math.min(i,e))}function oe(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function re(e){return"t"===e.type[0]}function ce(e,t){const i=e.rootNodes;if(1===i.length&&i[0].nodeType===t.ELEMENT_NODE)return i[0];const n=t.createElement("div");return i.forEach(e=>n.appendChild(e)),n}function ae(e,t){e.style.width=t.width+"px",e.style.height=t.height+"px",e.style.transform=ie(t.left,t.top)}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */function le(e,t,i){const n=de(t,e.length-1),s=de(i,e.length-1);if(n===s)return;const o=e[n],r=s<n?-1:1;for(let c=n;c!==s;c+=r)e[c]=e[c+r];e[s]=o}function de(e,t){return Math.max(0,Math.min(t,e))}class he{constructor(e,t,i,n,s){this._dragDropRegistry=t,this._ngZone=n,this._viewportRuler=s,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.enterPredicate=()=>!0,this.beforeStarted=new c.a,this.entered=new c.a,this.exited=new c.a,this.dropped=new c.a,this.sorted=new c.a,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0},this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=f.a.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new c.a,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(e=0,t=C.a){return(!Object(Q.a)(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=C.a),new l.a(i=>(i.add(t.schedule(A,e,{subscriber:i,counter:0,period:e})),i))}(0,m).pipe(Object(x.a)(this._stopScrollTimers)).subscribe(()=>{const e=this._scrollNode;1===this._verticalScrollDirection?ge(e,-2):2===this._verticalScrollDirection&&ge(e,2),1===this._horizontalScrollDirection?ue(e,-2):2===this._horizontalScrollDirection&&ue(e,2)})},this.element=r(e),this._document=i,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new Z(i,s)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){const e=r(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._cacheItems(),this._siblings.forEach(e=>e._startReceiving(this)),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}enter(e,t,i,n){let s;this.start(),null==n?(s=this.sortingDisabled?this._draggables.indexOf(e):-1,-1===s&&(s=this._getItemIndexFromPointerPosition(e,t,i))):s=n;const o=this._activeDraggables,c=o.indexOf(e),a=e.getPlaceholderElement();let l=o[s];if(l===e&&(l=o[s+1]),c>-1&&o.splice(c,1),l&&!this._dragDropRegistry.isDragging(l)){const t=l.getRootElement();t.parentElement.insertBefore(a,t),o.splice(s,0,e)}else{const n=r(this.element);this._shouldEnterAsFirstChild(t,i)?(n.insertBefore(a,o[0].getRootElement()),o.unshift(e)):(n.appendChild(a),o.push(e))}a.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,i,n,s,o){this._reset(),null==o&&(o=i.getItemIndex(e)),this.dropped.next({item:e,currentIndex:t,previousIndex:o,container:this,previousContainer:i,isPointerOverContainer:n,distance:s})}withItems(e){const t=this._draggables;return this._draggables=e,e.forEach(e=>e._withDropContainer(this)),this.isDragging()&&(t.filter(e=>e.isDragging()).every(t=>-1===e.indexOf(t))?this._reset():this._cacheItems()),this}withDirection(e){return this._direction=e,this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){return this._orientation=e,this}withScrollableParents(e){const t=r(this.element);return this._scrollableElements=-1===e.indexOf(t)?[t,...e]:e.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?be("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,t=>t.drag===e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,i,n){if(this.sortingDisabled||!Y(this._clientRect,.05,t,i))return;const s=this._itemPositions,o=this._getItemIndexFromPointerPosition(e,t,i,n);if(-1===o&&s.length>0)return;const r="horizontal"===this._orientation,c=be(s,t=>t.drag===e),a=s[o],l=s[c].clientRect,d=a.clientRect,h=c>o?1:-1;this._previousSwap.drag=a.drag,this._previousSwap.delta=r?n.x:n.y;const b=this._getItemOffsetPx(l,d,h),g=this._getSiblingOffsetPx(c,s,h),u=s.slice();le(s,c,o),this.sorted.next({previousIndex:c,currentIndex:o,container:this,item:e}),s.forEach((t,i)=>{if(u[i]===t)return;const n=t.drag===e,s=n?b:g,o=n?e.getPlaceholderElement():t.drag.getRootElement();t.offset+=s,r?(o.style.transform=`translate3d(${Math.round(t.offset)}px, 0, 0)`,K(t.clientRect,0,s)):(o.style.transform=`translate3d(0, ${Math.round(t.offset)}px, 0)`,K(t.clientRect,s,0))})}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let i,n=0,s=0;if(this._parentPositions.positions.forEach((o,r)=>{r!==this._document&&o.clientRect&&!i&&Y(o.clientRect,.05,e,t)&&([n,s]=function(e,t,i,n){const s=pe(t,n),o=me(t,i);let r=0,c=0;if(s){const t=e.scrollTop;1===s?t>0&&(r=1):e.scrollHeight-t>e.clientHeight&&(r=2)}if(o){const t=e.scrollLeft;1===o?t>0&&(c=1):e.scrollWidth-t>e.clientWidth&&(c=2)}return[r,c]}(r,o.clientRect,e,t),(n||s)&&(i=r))}),!n&&!s){const{width:o,height:r}=this._viewportRuler.getViewportSize(),c={width:o,height:r,top:0,right:o,bottom:r,left:0};n=pe(c,t),s=me(c,e),i=window}!i||n===this._verticalScrollDirection&&s===this._horizontalScrollDirection&&i===this._scrollNode||(this._verticalScrollDirection=n,this._horizontalScrollDirection=s,this._scrollNode=i,(n||s)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_cacheParentPositions(){const e=r(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(e).clientRect}_cacheItemPositions(){const e="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(e=>{const t=e.getVisibleElement();return{drag:e,offset:0,clientRect:X(t)}}).sort((t,i)=>e?t.clientRect.left-i.clientRect.left:t.clientRect.top-i.clientRect.top)}_reset(){this._isDragging=!1;const e=r(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(e=>{const t=e.getRootElement();t&&(t.style.transform="")}),this._siblings.forEach(e=>e._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(e,t,i){const n="horizontal"===this._orientation,s=t[e].clientRect,o=t[e+-1*i];let r=s[n?"width":"height"]*i;if(o){const e=n?"left":"top",t=n?"right":"bottom";-1===i?r-=o.clientRect[e]-s[t]:r+=s[e]-o.clientRect[t]}return r}_getItemOffsetPx(e,t,i){const n="horizontal"===this._orientation;let s=n?t.left-e.left:t.top-e.top;return-1===i&&(s+=n?t.width-e.width:t.height-e.height),s}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,n="horizontal"===this._orientation;if(i[0].drag!==this._activeDraggables[0]){const s=i[i.length-1].clientRect;return n?e>=s.right:t>=s.bottom}{const s=i[0].clientRect;return n?e<=s.left:t<=s.top}}_getItemIndexFromPointerPosition(e,t,i,n){const s="horizontal"===this._orientation;return be(this._itemPositions,({drag:o,clientRect:r},c,a)=>{if(o===e)return a.length<2;if(n){const e=s?n.x:n.y;if(o===this._previousSwap.drag&&e===this._previousSwap.delta)return!1}return s?t>=Math.floor(r.left)&&t<Math.floor(r.right):i>=Math.floor(r.top)&&i<Math.floor(r.bottom)})}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(e,t){return $(this._clientRect,e,t)}_getSiblingContainerFromPosition(e,t,i){return this._siblings.find(n=>n._canReceive(e,t,i))}_canReceive(e,t,i){if(!$(this._clientRect,t,i)||!this.enterPredicate(e,this))return!1;const n=this._getShadowRoot().elementFromPoint(t,i);if(!n)return!1;const s=r(this.element);return n===s||s.contains(n)}_startReceiving(e){const t=this._activeSiblings;t.has(e)||(t.add(e),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe(e=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(e);t&&(this._itemPositions.forEach(({clientRect:e})=>{K(e,t.top,t.left)}),this._itemPositions.forEach(({drag:e})=>{this._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const e=function(e){if(function(){if(null==W){const e="undefined"!=typeof document?document.head:null;W=!(!e||!e.createShadowRoot&&!e.attachShadow)}return W}()){const t=e.getRootNode?e.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r(this.element));this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}}function be(e,t){for(let i=0;i<e.length;i++)if(t(e[i],i,e))return i;return-1}function ge(e,t){e===window?e.scrollBy(0,t):e.scrollTop+=t}function ue(e,t){e===window?e.scrollBy(t,0):e.scrollLeft+=t}function pe(e,t){const{top:i,bottom:n,height:s}=e,o=.05*s;return t>=i-o&&t<=i+o?1:t>=n-o&&t<=n+o?2:0}function me(e,t){const{left:i,right:n,width:s}=e,o=.05*s;return t>=i-o&&t<=i+o?1:t>=n-o&&t<=n+o?2:0}const fe=R({passive:!1,capture:!0});let Ce=(()=>{class e{constructor(e,t){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=new Set,this._globalListeners=new Map,this.pointerMove=new c.a,this.pointerUp=new c.a,this.scroll=new c.a,this._preventDefaultWhileDragging=e=>{this._activeDragInstances.size&&e.preventDefault()},this._document=t}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._preventDefaultWhileDragging,fe)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._preventDefaultWhileDragging,fe)}startDragging(e,t){if(!this._activeDragInstances.has(e)&&(this._activeDragInstances.add(e),1===this._activeDragInstances.size)){const e=t.type.startsWith("touch"),i=e?"touchend":"mouseup";this._globalListeners.set(e?"touchmove":"mousemove",{handler:e=>this.pointerMove.next(e),options:fe}).set(i,{handler:e=>this.pointerUp.next(e),options:!0}).set("scroll",{handler:e=>this.scroll.next(e),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:fe}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((e,t)=>{this._document.addEventListener(t,e.handler,e.options)})})}}stopDragging(e){this._activeDragInstances.delete(e),0===this._activeDragInstances.size&&this._clearGlobalListeners()}isDragging(e){return this._activeDragInstances.has(e)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,t)=>{this._document.removeEventListener(t,e.handler,e.options)}),this._globalListeners.clear()}}return e.\u0275fac=function(t){return new(t||e)(n.ec(n.z),n.ec(s.e))},e.\u0275prov=Object(n.Mb)({factory:function(){return new e(Object(n.ec)(n.z),Object(n.ec)(s.e))},token:e,providedIn:"root"}),e})();const _e={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let ve=(()=>{class e{constructor(e,t,i,n){this._document=e,this._ngZone=t,this._viewportRuler=i,this._dragDropRegistry=n}createDrag(e,t=_e){return new te(e,t,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new he(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return e.\u0275fac=function(t){return new(t||e)(n.ec(s.e),n.ec(n.z),n.ec(q),n.ec(Ce))},e.\u0275prov=Object(n.Mb)({factory:function(){return new e(Object(n.ec)(s.e),Object(n.ec)(n.z),Object(n.ec)(q),Object(n.ec)(Ce))},token:e,providedIn:"root"}),e})();const ke=new n.q("CDK_DRAG_PARENT");let Me=(()=>{class e{constructor(e,t){this.element=e,this._stateChanges=new c.a,this._disabled=!1,this._parentDrag=t,G(e.nativeElement,!1)}get disabled(){return this._disabled}set disabled(e){this._disabled=o(e),this._stateChanges.next(this)}ngOnDestroy(){this._stateChanges.complete()}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(n.l),n.Qb(ke,8))},e.\u0275dir=n.Lb({type:e,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]}}),e})(),Ee=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(n.L))},e.\u0275dir=n.Lb({type:e,selectors:[["ng-template","cdkDragPlaceholder",""]],inputs:{data:"data"}}),e})(),Oe=(()=>{class e{constructor(e){this.templateRef=e,this._matchSize=!1}get matchSize(){return this._matchSize}set matchSize(e){this._matchSize=o(e)}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(n.L))},e.\u0275dir=n.Lb({type:e,selectors:[["ng-template","cdkDragPreview",""]],inputs:{matchSize:"matchSize",data:"data"}}),e})();const ye=new n.q("CDK_DRAG_CONFIG"),xe=new n.q("CDK_DROP_LIST");let we=(()=>{class e{constructor(e,t,i,s,o,r,a,d,h){this.element=e,this.dropContainer=t,this._document=i,this._ngZone=s,this._viewContainerRef=o,this._dir=a,this._changeDetectorRef=h,this._destroyed=new c.a,this.started=new n.n,this.released=new n.n,this.ended=new n.n,this.entered=new n.n,this.exited=new n.n,this.dropped=new n.n,this.moved=new l.a(e=>{const t=this._dragRef.moved.pipe(Object(B.a)(e=>({source:this,pointerPosition:e.pointerPosition,event:e.event,delta:e.delta,distance:e.distance}))).subscribe(e);return()=>{t.unsubscribe()}}),this._dragRef=d.createDrag(e,{dragStartThreshold:r&&null!=r.dragStartThreshold?r.dragStartThreshold:5,pointerDirectionChangeThreshold:r&&null!=r.pointerDirectionChangeThreshold?r.pointerDirectionChangeThreshold:5,zIndex:null==r?void 0:r.zIndex}),this._dragRef.data=this,r&&this._assignDefaults(r),t&&(this._dragRef._withDropContainer(t._dropListRef),t.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=o(e),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.onStable.asObservable().pipe(Object(L.a)(1),Object(x.a)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._handles.changes.pipe(Object(w.a)(this._handles),Object(U.a)(e=>{const t=e.filter(e=>e._parentDrag===this).map(e=>e.element);this._dragRef.withHandles(t)}),Object(S.a)(e=>Object(h.a)(...e.map(e=>e._stateChanges.pipe(Object(w.a)(e))))),Object(x.a)(this._destroyed)).subscribe(e=>{const t=this._dragRef,i=e.element.nativeElement;e.disabled?t.disableHandle(i):t.enableHandle(i)}),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})}ngOnChanges(e){const t=e.rootElementSelector,i=e.freeDragPosition;t&&!t.firstChange&&this._updateRootElement(),i&&!i.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()}_updateRootElement(){const e=this.element.nativeElement,t=this.rootElementSelector?Se(e,this.rootElementSelector):e;if(t&&t.nodeType!==this._document.ELEMENT_NODE)throw Error(`cdkDrag must be attached to an element node. Currently attached to "${t.nodeName}".`);this._dragRef.withRootElement(t||e)}_getBoundaryElement(){const e=this.boundaryElement;if(!e)return null;if("string"==typeof e)return Se(this.element.nativeElement,e);const t=r(e);if(Object(n.W)()&&!t.contains(this.element.nativeElement))throw Error("Draggable element is not inside of the node passed into cdkDragBoundary.");return t}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const t=this._dir,i=this.dragStartDelay,n=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,s=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof i&&i?i:function(e,t=0){return function(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */(e)?Number(e):t}(i),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(n).withPreviewTemplate(s),t&&e.withDirection(t.value)}})}_handleEvents(e){e.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(()=>{this.released.emit({source:this})}),e.ended.subscribe(e=>{this.ended.emit({source:this,distance:e.distance}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(e=>{this.entered.emit({container:e.container.data,item:this,currentIndex:e.currentIndex})}),e.exited.subscribe(e=>{this.exited.emit({container:e.container.data,item:this})}),e.dropped.subscribe(e=>{this.dropped.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,previousContainer:e.previousContainer.data,container:e.container.data,isPointerOverContainer:e.isPointerOverContainer,item:this,distance:e.distance})})}_assignDefaults(e){const{lockAxis:t,dragStartDelay:i,constrainPosition:n,previewClass:s,boundaryElement:o,draggingDisabled:r,rootElementSelector:c}=e;this.disabled=null!=r&&r,this.dragStartDelay=i||0,t&&(this.lockAxis=t),n&&(this.constrainPosition=n),s&&(this.previewClass=s),o&&(this.boundaryElement=o),c&&(this.rootElementSelector=c)}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(n.l),n.Qb(xe,12),n.Qb(s.e),n.Qb(n.z),n.Qb(n.O),n.Qb(ye,8),n.Qb(I,8),n.Qb(ve),n.Qb(n.h))},e.\u0275dir=n.Lb({type:e,selectors:[["","cdkDrag",""]],contentQueries:function(e,t,i){var s;1&e&&(n.Ib(i,Oe,!0),n.Ib(i,Ee,!0),n.Ib(i,Me,!0)),2&e&&(n.Bc(s=n.jc())&&(t._previewTemplate=s.first),n.Bc(s=n.jc())&&(t._placeholderTemplate=s.first),n.Bc(s=n.jc())&&(t._handles=s))},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,t){2&e&&n.Hb("cdk-drag-disabled",t.disabled)("cdk-drag-dragging",t._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[n.Bb([{provide:ke,useExisting:e}]),n.Ab]}),e})();function Se(e,t){let i=e.parentElement;for(;i;){if(i.matches?i.matches(t):i.msMatchesSelector(t))return i;i=i.parentElement}return null}let Te=(()=>{class e{constructor(){this._items=new Set,this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=o(e)}ngOnDestroy(){this._items.clear()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Lb({type:e,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:["cdkDropListGroupDisabled","disabled"]},exportAs:["cdkDropListGroup"]}),e})(),De=0,We=(()=>{class e{constructor(t,i,s,o,r,a,l){this.element=t,this._changeDetectorRef=s,this._dir=o,this._group=r,this._scrollDispatcher=a,this._destroyed=new c.a,this.connectedTo=[],this.id="cdk-drop-list-"+De++,this.enterPredicate=()=>!0,this.dropped=new n.n,this.entered=new n.n,this.exited=new n.n,this.sorted=new n.n,this._unsortedItems=new Set,this._dropListRef=i.createDropList(t),this._dropListRef.data=this,l&&this._assignDefaults(l),this._dropListRef.enterPredicate=(e,t)=>this.enterPredicate(e.data,t.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),e._dropLists.push(this),r&&r._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=o(e)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,t)=>e._dragRef.getVisibleElement().compareDocumentPosition(t._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const t=e._dropLists.indexOf(this);t>-1&&e._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}start(){this._dropListRef.start()}drop(e,t,i,n){this._dropListRef.drop(e._dragRef,t,i._dropListRef,n,{x:0,y:0})}enter(e,t,i){this._dropListRef.enter(e._dragRef,t,i)}exit(e){this._dropListRef.exit(e._dragRef)}getItemIndex(e){return this._dropListRef.getItemIndex(e._dragRef)}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe(Object(w.a)(this._dir.value),Object(x.a)(this._destroyed)).subscribe(e=>t.withDirection(e)),t.beforeStarted.subscribe(()=>{const i=(n=this.connectedTo,Array.isArray(n)?n:[n]).map(t=>"string"==typeof t?e._dropLists.find(e=>e.id===t):t);var n;
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */if(this._group&&this._group._items.forEach(e=>{-1===i.indexOf(e)&&i.push(e)}),!this._scrollableParentsResolved&&this._scrollDispatcher){const e=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(e=>e.getElementRef().nativeElement);this._dropListRef.withScrollableParents(e),this._scrollableParentsResolved=!0}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=o(this.sortingDisabled),t.autoScrollDisabled=o(this.autoScrollDisabled),t.connectedTo(i.filter(e=>e&&e!==this).map(e=>e._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(e=>{this.entered.emit({container:this,item:e.item.data,currentIndex:e.currentIndex})}),e.exited.subscribe(e=>{this.exited.emit({container:this,item:e.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(e=>{this.sorted.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,container:this,item:e.item.data})}),e.dropped.subscribe(e=>{this.dropped.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,previousContainer:e.previousContainer.data,container:e.container.data,item:e.item.data,isPointerOverContainer:e.isPointerOverContainer,distance:e.distance}),this._changeDetectorRef.markForCheck()})}_assignDefaults(e){const{lockAxis:t,draggingDisabled:i,sortingDisabled:n,listAutoScrollDisabled:s,listOrientation:o}=e;this.disabled=null!=i&&i,this.sortingDisabled=null!=n&&n,this.autoScrollDisabled=null!=s&&s,this.orientation=o||"vertical",t&&(this.lockAxis=t)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(n.l),n.Qb(ve),n.Qb(n.h),n.Qb(I,8),n.Qb(Te,12),n.Qb(F),n.Qb(ye,8))},e.\u0275dir=n.Lb({type:e,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(e,t){2&e&&(n.Zb("id",t.id),n.Hb("cdk-drop-list-disabled",t.disabled)("cdk-drop-list-dragging",t._dropListRef.isDragging())("cdk-drop-list-receiving",t._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],id:"id",enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],orientation:["cdkDropListOrientation","orientation"],lockAxis:["cdkDropListLockAxis","lockAxis"],data:["cdkDropListData","data"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[n.Bb([{provide:Te,useValue:void 0},{provide:xe,useExisting:e}])]}),e._dropLists=[],e})(),Ve=(()=>{class e{}return e.\u0275mod=n.Ob({type:e}),e.\u0275inj=n.Nb({factory:function(t){return new(t||e)},providers:[ve],imports:[N]}),e})()},GXA2:function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var n=i("ofXK"),s=i("3Pt+"),o=i("1kSV"),r=i("n6pr"),c=i("RPsU"),a=i("5+WD"),l=i("SEFB"),d=i("fXoL");let h=(()=>{class e{}return e.\u0275mod=d.Ob({type:e}),e.\u0275inj=d.Nb({factory:function(t){return new(t||e)},imports:[[n.c,a.d,s.j,o.y,l.a]]}),e})();var b=i("GQNo"),g=i("Wxyy");let u=(()=>{class e{}return e.\u0275mod=d.Ob({type:e}),e.\u0275inj=d.Nb({factory:function(t){return new(t||e)},imports:[[n.c,s.j,o.d,o.j,o.y,r.a,g.a,l.a,b.a,h,c.a]]}),e})()},QxDs:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("R8lv"),s=i("fXoL");let o=(()=>{class e{transform(e,t,i,s){switch(e){case n.g.RECIPIENT:let e="";switch(t){case n.c.INSTRUCTORS:e="instructor";break;case n.c.STUDENTS:case n.c.OWN_TEAM_MEMBERS:case n.c.OWN_TEAM_MEMBERS_INCLUDING_SELF:e="student";break;case n.c.TEAMS:case n.c.OWN_TEAM:e="team";break;default:return"unknown"}return[n.c.INSTRUCTORS,n.c.STUDENTS,n.c.TEAMS].includes(t)&&(i===n.m.UNLIMITED||i===n.m.CUSTOM&&void 0!==s&&s>1)&&(e+="s"),"The receiving "+e;case n.g.GIVER_TEAM_MEMBERS:return"Your team members";case n.g.INSTRUCTORS:return"Instructors in this course";case n.g.STUDENTS:return"Other students in the course";case n.g.RECIPIENT_TEAM_MEMBERS:return"The recipient's team members";default:return"Unknown"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=s.Pb({name:"visibilityEntityName",type:e,pure:!0}),e})()},Wxyy:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("ofXK"),s=i("fXoL");let o=(()=>{class e{}return e.\u0275mod=s.Ob({type:e}),e.\u0275inj=s.Nb({factory:function(t){return new(t||e)},imports:[[n.c]]}),e})()},ZpFW:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var n=function(e){return e[e.ADD=0]="ADD",e[e.EDIT=1]="EDIT",e}({})},"iJt+":function(e,t,i){"use strict";i.d(t,"a",(function(){return Ct}));var n=i("fXoL"),s=i("R8lv"),o=i("7qkN"),r=i("/Tzu"),c=i("JUCI"),a=i("ZpFW"),l=i("YxrJ"),d=i("eQqG"),h=i("zAMY"),b=i("ofXK"),g=i("3Pt+"),u=i("1kSV"),p=i("Wsbs"),m=i("QlvD"),f=i("q1I8");let C=(()=>{class e{constructor(e){this.isEditable=!0,this.detailsChange=new n.n,this.model=e}set details(e){this.model=e}ngOnInit(){}triggerModelChange(e,t){this.detailsChange.emit(Object.assign({},this.model,{[e]:t}))}triggerModelChangeBatch(e){this.detailsChange.emit(Object.assign({},this.model,e))}}return e.\u0275fac=function(e){n.hc()},e.\u0275dir=n.Lb({type:e,inputs:{isEditable:"isEditable",details:"details"},outputs:{detailsChange:"detailsChange"}}),e})(),_=(()=>{class e extends C{constructor(){super(Object(f.r)())}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Kb({type:e,selectors:[["tm-text-question-edit-details-form"]],features:[n.zb],decls:13,vars:4,consts:[[1,"row","padding-15px"],[1,"col-md-10","allow-rich-text"],["type","checkbox",3,"checked","disabled","click"],[1,"col-12","question-recommended-length"],["ngbTooltip","The recommended length is shown to the respondent but not enforced",1,"ngb-tooltip-class"],["id","recommended-length","type","number","min","1",1,"form-control",3,"ngModel","disabled","ngModelChange"]],template:function(e,t){1&e&&(n.Wb(0,"div",0),n.Wb(1,"div",1),n.Wb(2,"label"),n.Wb(3,"input",2),n.ic("click",(function(e){return t.triggerModelChange("shouldAllowRichText",e.target.checked)})),n.Vb(),n.Wb(4,"a"),n.Qc(5," Allow rich-text formatting (e.g., bold text, links, bullet lists, colors, etc.) in the answers"),n.Vb(),n.Vb(),n.Vb(),n.Wb(6,"div",3),n.Qc(7," [Optional] "),n.Wb(8,"span",4),n.Qc(9," Recommended length "),n.Vb(),n.Qc(10," for the response: "),n.Wb(11,"input",5),n.ic("ngModelChange",(function(e){return t.triggerModelChange("recommendedLength",e)})),n.Vb(),n.Qc(12," words "),n.Vb(),n.Vb()),2&e&&(n.Cb(3),n.sc("checked",t.model.shouldAllowRichText)("disabled",!t.isEditable),n.Cb(8),n.sc("ngModel",t.model.recommendedLength)("disabled",!t.isEditable))},directives:[u.w,g.v,g.c,g.p,g.s],styles:[".allow-rich-text[_ngcontent-%COMP%], .question-recommended-length[_ngcontent-%COMP%]{color:grey}.question-recommended-length[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{display:inline;width:80px}"]}),e})(),v=(()=>{class e extends C{constructor(){super(Object(f.d)())}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Kb({type:e,selectors:[["tm-contribution-question-edit-details-form"]],features:[n.zb],decls:8,vars:2,consts:[[1,"row"],[1,"col-12"],[1,"form-check","form-check-inline"],[1,"form-check-label"],["id","not-sure-checkbox","type","checkbox",1,"form-check-input",3,"ngModel","disabled","ngModelChange"]],template:function(e,t){1&e&&(n.Wb(0,"div",0),n.Rb(1,"br"),n.Wb(2,"div",1),n.Wb(3,"div",2),n.Wb(4,"label",3),n.Wb(5,"input",4),n.ic("ngModelChange",(function(e){return t.triggerModelChange("isNotSureAllowed",e)})),n.Vb(),n.Wb(6,"b"),n.Qc(7,"Allow response giver to select 'Not Sure' as the answer"),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Vb()),2&e&&(n.Cb(5),n.sc("ngModel",t.model.isNotSureAllowed)("disabled",!t.isEditable))},directives:[g.a,g.p,g.s],styles:[""]}),e})();var k=i("5+WD"),M=i("Uqoa");let E=(()=>{class e{constructor(e){this.statusMessageService=e,this.isEditable=!1,this.numberOfMcqChoices=1,this.text="",this.index=0,this.elementDeleted=new n.n,this.mcqText=new n.n}deleteMcqOption(){this.numberOfMcqChoices>2?this.elementDeleted.emit(this.index):this.statusMessageService.showErrorToast("There must be at least two Mcq options.")}onMcqOptionEntered(e){this.mcqText.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(M.a))},e.\u0275cmp=n.Kb({type:e,selectors:[["tm-mcq-field"]],inputs:{isEditable:"isEditable",numberOfMcqChoices:"numberOfMcqChoices",text:"text",index:"index"},outputs:{elementDeleted:"elementDeleted",mcqText:"mcqText"},decls:9,vars:3,consts:[[1,"input-group"],[1,"input-group-addon"],["type","radio","disabled",""],["type","text",1,"form-control",3,"disabled","ngModel","ngModelChange"],["mcq",""],[1,"input-group-btn"],["type","button","tabindex","-1",1,"btn","btn-danger","input-group-addon",2,"cursor","initial",3,"disabled","click"],["aria-hidden","true"]],template:function(e,t){1&e&&(n.Wb(0,"div",0),n.Wb(1,"span",1),n.Rb(2,"input",2),n.Vb(),n.Wb(3,"input",3,4),n.ic("ngModelChange",(function(e){return t.onMcqOptionEntered(e.trim())})),n.Vb(),n.Wb(5,"span",5),n.Wb(6,"button",6),n.ic("click",(function(){return t.deleteMcqOption()})),n.Wb(7,"span",7),n.Qc(8,"\xd7"),n.Vb(),n.Vb(),n.Vb(),n.Vb()),2&e&&(n.Cb(3),n.sc("disabled",!t.isEditable)("ngModel",t.text),n.Cb(3),n.sc("disabled",!t.isEditable))},directives:[g.c,g.p,g.s],styles:[".input-group-addon[_ngcontent-%COMP%]{resize:both;padding:.375rem .75rem;margin-bottom:0;font-weight:400;line-height:1.5;color:#495057;text-align:center;background-color:#e9ecef;border:1px solid #ced4da}.rich-text-editor[_ngcontent-%COMP%]{-ms-flex:1 1 0%;flex:1 1 0%}"]}),e})(),O=(()=>{class e{constructor(){this.isEditable=!1,this.weight=1,this.weightEntered=new n.n}onWeightEntered(e){this.weightEntered.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Kb({type:e,selectors:[["tm-weight-field"]],inputs:{isEditable:"isEditable",weight:"weight"},outputs:{weightEntered:"weightEntered"},decls:1,vars:2,consts:[["type","number","step",".01","min","0",1,"form-control",3,"ngModel","disabled","ngModelChange"]],template:function(e,t){1&e&&(n.Wb(0,"input",0),n.ic("ngModelChange",(function(e){return t.onWeightEntered(e)})),n.Vb()),2&e&&n.sc("ngModel",t.weight)("disabled",!t.isEditable)},directives:[g.v,g.c,g.p,g.s],styles:[""]}),e})();var y=i("ovlq");function x(e,t){if(1&e){const e=n.Xb();n.Wb(0,"div",11),n.Wb(1,"label",12),n.Wb(2,"input",13),n.ic("ngModelChange",(function(t){return n.Fc(e),n.kc().triggerWeightsColumn(t)})),n.Vb(),n.Wb(3,"b"),n.Qc(4,"Choices are weighted"),n.Vb(),n.Vb(),n.Vb()}if(2&e){const e=n.kc();n.Cb(2),n.sc("ngModel",e.model.hasAssignedWeights)("disabled",!e.isEditable)}}function w(e,t){1&e&&(n.Wb(0,"div",14),n.Qc(1,"Weights\u2193 "),n.Vb())}function S(e,t){if(1&e){const e=n.Xb();n.Wb(0,"div",28),n.Wb(1,"tm-weight-field",29),n.ic("weightEntered",(function(t){n.Fc(e);const i=n.kc().index;return n.kc(2).onMcqWeightEntered(t,i)})),n.Vb(),n.Vb()}if(2&e){const e=n.kc().index,t=n.kc(2);n.Cb(1),n.sc("isEditable",t.isEditable)("weight",t.model.mcqWeights[e])}}function T(e,t){if(1&e){const e=n.Xb();n.Wb(0,"div",23),n.Rb(1,"br"),n.Wb(2,"div",24),n.Wb(3,"span",25),n.Qc(4,"\u2195 "),n.Vb(),n.Vb(),n.Wb(5,"div",26),n.Wb(6,"tm-mcq-field",27),n.ic("elementDeleted",(function(t){return n.Fc(e),n.kc(2).onMcqOptionDeleted(t)}))("mcqText",(function(i){n.Fc(e);const s=t.index;return n.kc(2).onMcqOptionEntered(i,s)})),n.Vb(),n.Vb(),n.Oc(7,S,2,2,"div",22),n.Vb()}if(2&e){const e=t.index,i=n.kc(2);n.Cb(5),n.sc("ngClass",i.model.hasAssignedWeights?"col-sm-8":"col-sm-10"),n.Cb(1),n.sc("index",e)("isEditable",i.isEditable)("numberOfMcqChoices",i.model.numOfMcqChoices)("text",i.model.mcqChoices[e]),n.Cb(1),n.sc("ngIf",i.model.hasAssignedWeights)}}function D(e,t){if(1&e){const e=n.Xb();n.Wb(0,"div",28),n.Wb(1,"input",30),n.ic("ngModelChange",(function(t){return n.Fc(e),n.kc(2).triggerModelChange("mcqOtherWeight",t)})),n.Vb(),n.Vb()}if(2&e){const e=n.kc(2);n.Cb(1),n.sc("ngModel",e.model.mcqOtherWeight)("disabled",!e.isEditable)}}function W(e,t){if(1&e){const e=n.Xb();n.Wb(0,"div"),n.Wb(1,"div",15),n.ic("cdkDropListDropped",(function(t){return n.Fc(e),n.kc().onMcqOptionDropped(t)})),n.Oc(2,T,8,6,"div",16),n.Rb(3,"br"),n.Vb(),n.Wb(4,"div",0),n.Wb(5,"div",4),n.Wb(6,"button",17),n.ic("click",(function(){return n.Fc(e),n.kc().increaseNumberOfOptions()})),n.Rb(7,"i",18),n.Qc(8," add more options "),n.Vb(),n.Vb(),n.Vb(),n.Rb(9,"br"),n.Wb(10,"div",0),n.Wb(11,"div",19),n.Wb(12,"label",20),n.Wb(13,"input",21),n.ic("ngModelChange",(function(t){return n.Fc(e),n.kc().triggerOtherEnabled(t)})),n.Vb(),n.Qc(14," Add 'Other' option (Allows respondents to type in their own answer) "),n.Vb(),n.Vb(),n.Oc(15,D,2,2,"div",22),n.Vb(),n.Vb()}if(2&e){const e=n.kc();n.Cb(1),n.sc("cdkDropListDisabled",!e.isEditable),n.Cb(1),n.sc("ngForOf",e.model.mcqChoices)("ngForTrackBy",e.trackMcqOption),n.Cb(4),n.sc("disabled",!e.isEditable),n.Cb(7),n.sc("ngModel",e.model.otherEnabled)("disabled",!e.isEditable),n.Cb(2),n.sc("ngIf",e.model.hasAssignedWeights&&e.model.otherEnabled)}}function V(e,t){if(1&e&&(n.Wb(0,"option",31),n.Qc(1),n.lc(2,"generatedChoice"),n.Vb()),2&e){const e=t.$implicit;n.sc("value",e),n.Cb(1),n.Rc(n.mc(2,2,e))}}let R=(()=>{class e extends C{constructor(){super(Object(f.f)()),this.PARTICIPANT_TYPES=[s.c.STUDENTS,s.c.STUDENTS_EXCLUDING_SELF,s.c.TEAMS,s.c.TEAMS_EXCLUDING_SELF,s.c.OWN_TEAM_MEMBERS_INCLUDING_SELF,s.c.OWN_TEAM_MEMBERS,s.c.INSTRUCTORS],this.storageModel=Object.assign(Object.assign({},Object(f.f)()),{numOfMcqChoices:2,mcqChoices:["",""]})}onMcqOptionDropped(e){if(!this.isEditable)return;const t=this.model.mcqWeights.slice(),i=this.model.mcqChoices.slice();Object(k.e)(i,e.previousIndex,e.currentIndex),Object(k.e)(t,e.previousIndex,e.currentIndex);const n={};n.mcqChoices=i,n.mcqWeights=t,this.triggerModelChangeBatch(n)}increaseNumberOfOptions(){const e={};e.numOfMcqChoices=this.model.numOfMcqChoices+1;const t=this.model.mcqChoices.slice();if(t.push(""),e.mcqChoices=t,this.model.hasAssignedWeights){const t=this.model.mcqWeights.slice();t.push(0),e.mcqWeights=t}this.triggerModelChangeBatch(e)}onMcqOptionDeleted(e){const t={};t.numOfMcqChoices=this.model.numOfMcqChoices-1;const i=this.model.mcqChoices.slice();if(i.splice(e,1),t.mcqChoices=i,this.model.hasAssignedWeights){const i=this.model.mcqWeights.slice();i.splice(e,1),t.mcqWeights=i}this.triggerModelChangeBatch(t)}onMcqOptionEntered(e,t){const i=this.model.mcqChoices.slice();i[t]=e,this.triggerModelChange("mcqChoices",i)}onMcqWeightEntered(e,t){const i=this.model.mcqWeights.slice();i[t]=e,this.triggerModelChange("mcqWeights",i)}trackMcqOption(e){return e.toString()}trackMcqWeight(e){return e.toString()}triggerWeightsColumn(e){this.triggerModelChangeBatch({mcqWeights:e?Array(this.model.numOfMcqChoices).fill(0):[],mcqOtherWeight:0,hasAssignedWeights:e})}triggerOtherEnabled(e){this.triggerModelChangeBatch({otherEnabled:e,mcqOtherWeight:0})}triggerGeneratedOptionsChange(e){e?(this.storageModel=this.model,this.triggerModelChangeBatch({generateOptionsFor:s.c.STUDENTS,numOfMcqChoices:0,mcqChoices:[],otherEnabled:!1,hasAssignedWeights:!1,mcqWeights:[],mcqOtherWeight:0})):this.triggerModelChangeBatch(this.storageModel)}get isGeneratedOptionsEnabled(){return this.model.generateOptionsFor!==s.c.NONE}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Kb({type:e,selectors:[["tm-mcq-question-edit-details-form"]],features:[n.zb],decls:15,vars:8,consts:[[1,"row"],[1,"col-sm-12"],["class","form-check form-check-inline",4,"ngIf"],["class","form-check form-check-inline padding-left-300px align-center",4,"ngIf"],[1,"col-sm-6"],[4,"ngIf"],[1,"col-sm-6","col-lg-5","col-lg-offset-1"],[1,"form-check-label"],["id","generate-checkbox","type","checkbox",1,"form-check-input",3,"disabled","ngModel","ngModelChange"],["id","generate-dropdown",1,"form-control",3,"disabled","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"form-check","form-check-inline"],["ngbTooltip","Assign weights to the choices for calculating statistics.","container","body",1,"form-check-label"],["id","weights-checkbox","type","checkbox",1,"form-check-input",3,"ngModel","disabled","ngModelChange"],[1,"form-check","form-check-inline","padding-left-300px","align-center"],["id","options-section","cdkDropList","",3,"cdkDropListDisabled","cdkDropListDropped"],["class","row margin-top-22px","cdkDrag","","cdkDragLockAxis","y",4,"ngFor","ngForOf","ngForTrackBy"],["id","btn-add-option","name","button","ngDefaultControl","",1,"btn","btn-primary",3,"disabled","click"],[1,"fas","fa-plus"],[1,"checkbox","col-sm-9","padding-left-35px"],[1,"bold-label"],["id","other-checkbox","type","checkbox",1,"form-check-input",3,"ngModel","disabled","ngModelChange"],["class","col-sm-3",4,"ngIf"],["cdkDrag","","cdkDragLockAxis","y",1,"row","margin-top-22px"],["cdkDragHandle","",1,"col-sm-1"],[1,"btn","input-group-addon"],[3,"ngClass"],[3,"index","isEditable","numberOfMcqChoices","text","elementDeleted","mcqText"],[1,"col-sm-3"],[3,"isEditable","weight","weightEntered"],["id","other-weight","type","number","step","0.01","min","0",1,"form-control",3,"ngModel","disabled","ngModelChange"],[3,"value"]],template:function(e,t){1&e&&(n.Wb(0,"div",0),n.Rb(1,"br"),n.Wb(2,"div",1),n.Oc(3,x,5,2,"div",2),n.Oc(4,w,2,0,"div",3),n.Vb(),n.Rb(5,"br"),n.Wb(6,"div",4),n.Oc(7,W,16,7,"div",5),n.Vb(),n.Wb(8,"div",6),n.Wb(9,"label",7),n.Wb(10,"input",8),n.ic("ngModelChange",(function(e){return t.triggerGeneratedOptionsChange(e)})),n.Vb(),n.Wb(11,"b"),n.Qc(12,"Or, generate options from the list of all"),n.Vb(),n.Vb(),n.Wb(13,"select",9),n.ic("ngModelChange",(function(e){return t.triggerModelChange("generateOptionsFor",e)})),n.Oc(14,V,3,4,"option",10),n.Vb(),n.Vb(),n.Vb()),2&e&&(n.Cb(3),n.sc("ngIf",!t.isGeneratedOptionsEnabled),n.Cb(1),n.sc("ngIf",t.model.hasAssignedWeights&&!t.isGeneratedOptionsEnabled),n.Cb(3),n.sc("ngIf",!t.isGeneratedOptionsEnabled),n.Cb(3),n.sc("disabled",!t.isEditable)("ngModel",t.isGeneratedOptionsEnabled),n.Cb(3),n.sc("disabled",!t.isGeneratedOptionsEnabled||!t.isEditable)("ngModel",t.model.generateOptionsFor),n.Cb(1),n.sc("ngForOf",t.PARTICIPANT_TYPES))},directives:[b.u,g.a,g.p,g.s,g.B,b.t,u.w,k.c,g.c,k.a,k.b,b.r,E,O,g.v,g.u,g.E],pipes:[y.a],styles:[".padding-left-35px[_ngcontent-%COMP%]{padding-left:35px}.input-group-addon[_ngcontent-%COMP%]{cursor:move;resize:both;padding:.375rem .75rem;margin-bottom:0;font-weight:400;line-height:1.5;color:#495057;text-align:center;background-color:#e9ecef;border:1px solid #ced4da}@media (min-width:576px){.padding-left-300px[_ngcontent-%COMP%]{padding-left:300px}}.margin-top-22px[_ngcontent-%COMP%]{margin-top:22px}",".cdk-drop-list-dragging[_ngcontent-%COMP%]   .cdk-drag[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .3s cubic-bezier(0,0,.2,1)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}"]}),e})();var P=i("mrSG"),I=i("RmXC");let F=(()=>{class e{constructor(e){this.statusMessageService=e,this.isEditable=!1,this.numberOfMsqChoices=1,this.text="",this.index=0,this.elementDeleted=new n.n,this.msqText=new n.n}deleteMsqOption(){this.numberOfMsqChoices>2?this.elementDeleted.emit(this.index):this.statusMessageService.showErrorToast("There must be at least two Msq options.")}onMsqOptionEntered(e){this.msqText.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(M.a))},e.\u0275cmp=n.Kb({type:e,selectors:[["tm-msq-field"]],inputs:{isEditable:"isEditable",numberOfMsqChoices:"numberOfMsqChoices",text:"text",index:"index"},outputs:{elementDeleted:"elementDeleted",msqText:"msqText"},decls:9,vars:3,consts:[[1,"input-group"],[1,"input-group-addon"],["type","checkbox","disabled",""],["type","text",1,"form-control",3,"disabled","ngModel","ngModelChange"],["msq",""],[1,"input-group-btn"],["type","button","tabindex","-1",1,"btn","btn-danger","input-group-addon",2,"cursor","initial",3,"disabled","click"],["aria-hidden","true"]],template:function(e,t){1&e&&(n.Wb(0,"div",0),n.Wb(1,"span",1),n.Rb(2,"input",2),n.Vb(),n.Wb(3,"input",3,4),n.ic("ngModelChange",(function(e){return t.onMsqOptionEntered(e.trim())})),n.Vb(),n.Wb(5,"span",5),n.Wb(6,"button",6),n.ic("click",(function(){return t.deleteMsqOption()})),n.Wb(7,"span",7),n.Qc(8,"\xd7"),n.Vb(),n.Vb(),n.Vb(),n.Vb()),2&e&&(n.Cb(3),n.sc("disabled",!t.isEditable)("ngModel",t.text),n.Cb(3),n.sc("disabled",!t.isEditable))},directives:[g.c,g.p,g.s],styles:[".input-group-addon[_ngcontent-%COMP%]{resize:both;padding:.375rem .75rem;margin-bottom:0;font-weight:400;line-height:1.5;color:#495057;text-align:center;background-color:#e9ecef;border:1px solid #ced4da}"]}),e})();function q(e,t){if(1&e){const e=n.Xb();n.Wb(0,"div",15),n.Wb(1,"label",16),n.Wb(2,"input",17),n.ic("ngModelChange",(function(t){return n.Fc(e),n.kc().triggerWeightsColumn(t)})),n.Vb(),n.Wb(3,"b"),n.Qc(4,"Choices are weighted"),n.Vb(),n.Vb(),n.Vb()}if(2&e){const e=n.kc();n.Cb(2),n.sc("ngModel",e.model.hasAssignedWeights)("disabled",!e.isEditable)}}function N(e,t){1&e&&(n.Wb(0,"div",18),n.Qc(1,"Weights\u2193 "),n.Vb())}function Q(e,t){if(1&e){const e=n.Xb();n.Wb(0,"div",32),n.Wb(1,"tm-weight-field",33),n.ic("weightEntered",(function(t){n.Fc(e);const i=n.kc().index;return n.kc(2).onMsqWeightEntered(t,i)})),n.Vb(),n.Vb()}if(2&e){const e=n.kc().index,t=n.kc(2);n.Cb(1),n.sc("isEditable",t.isEditable)("weight",t.model.msqWeights[e])}}function A(e,t){if(1&e){const e=n.Xb();n.Wb(0,"div",27),n.Rb(1,"br"),n.Wb(2,"div",28),n.Wb(3,"span",29),n.Qc(4,"\u2195 "),n.Vb(),n.Vb(),n.Wb(5,"div",30),n.Wb(6,"tm-msq-field",31),n.ic("elementDeleted",(function(t){return n.Fc(e),n.kc(2).onMsqOptionDeleted(t)}))("msqText",(function(i){n.Fc(e);const s=t.index;return n.kc(2).onMsqOptionEntered(i,s)})),n.Vb(),n.Vb(),n.Oc(7,Q,2,2,"div",26),n.Vb()}if(2&e){const e=t.index,i=n.kc(2);n.Cb(5),n.sc("ngClass",i.model.hasAssignedWeights?"col-sm-8":"col-sm-10"),n.Cb(1),n.sc("index",e)("isEditable",i.isEditable)("numberOfMsqChoices",i.model.msqChoices.length)("text",i.model.msqChoices[e]),n.Cb(1),n.sc("ngIf",i.model.hasAssignedWeights)}}function B(e,t){if(1&e){const e=n.Xb();n.Wb(0,"div",32),n.Wb(1,"input",34),n.ic("ngModelChange",(function(t){return n.Fc(e),n.kc(2).triggerModelChange("msqOtherWeight",t)})),n.Vb(),n.Vb()}if(2&e){const e=n.kc(2);n.Cb(1),n.sc("ngModel",e.model.msqOtherWeight)("disabled",!e.isEditable)}}function L(e,t){if(1&e){const e=n.Xb();n.Wb(0,"div"),n.Wb(1,"div",19),n.ic("cdkDropListDropped",(function(t){return n.Fc(e),n.kc().onMsqOptionDropped(t)})),n.Oc(2,A,8,6,"div",20),n.Rb(3,"br"),n.Vb(),n.Wb(4,"div",0),n.Wb(5,"div",4),n.Wb(6,"button",21),n.ic("click",(function(){return n.Fc(e),n.kc().increaseNumberOfMsqOptions()})),n.Rb(7,"i",22),n.Qc(8," add more options "),n.Vb(),n.Vb(),n.Vb(),n.Rb(9,"br"),n.Wb(10,"div",0),n.Wb(11,"div",23),n.Wb(12,"label",24),n.Wb(13,"input",25),n.ic("ngModelChange",(function(t){return n.Fc(e),n.kc().triggerOtherEnabled(t)})),n.Vb(),n.Qc(14," Add 'Other' option (Allows respondents to type in their own answer) "),n.Vb(),n.Vb(),n.Oc(15,B,2,2,"div",26),n.Vb(),n.Vb()}if(2&e){const e=n.kc();n.Cb(1),n.sc("cdkDropListDisabled",!e.isEditable),n.Cb(1),n.sc("ngForOf",e.model.msqChoices)("ngForTrackBy",e.trackMsqOption),n.Cb(4),n.sc("disabled",!e.isEditable),n.Cb(7),n.sc("ngModel",e.model.otherEnabled)("disabled",!e.isEditable),n.Cb(2),n.sc("ngIf",e.model.hasAssignedWeights&&e.model.otherEnabled)}}function U(e,t){if(1&e&&(n.Wb(0,"option",35),n.Qc(1),n.lc(2,"generatedChoice"),n.Vb()),2&e){const e=t.$implicit;n.sc("value",e),n.Cb(1),n.Rc(n.mc(2,2,e))}}let j=(()=>{class e extends C{constructor(){super(Object(f.h)()),this.PARTICIPANT_TYPES=[s.c.STUDENTS,s.c.STUDENTS_EXCLUDING_SELF,s.c.TEAMS,s.c.TEAMS_EXCLUDING_SELF,s.c.OWN_TEAM_MEMBERS_INCLUDING_SELF,s.c.OWN_TEAM_MEMBERS,s.c.INSTRUCTORS],this.storageModel=Object.assign(Object.assign({},Object(f.h)()),{msqChoices:["",""],minSelectableChoices:I.f,maxSelectableChoices:I.f})}onMsqOptionDropped(e){if(!this.isEditable)return;const t=this.model.msqWeights.slice(),i=this.model.msqChoices.slice();Object(k.e)(i,e.previousIndex,e.currentIndex),Object(k.e)(t,e.previousIndex,e.currentIndex),this.triggerModelChangeBatch({msqChoices:i,msqWeights:t})}onMsqWeightEntered(e,t){const i=this.model.msqWeights.slice();i[t]=e,this.triggerModelChange("msqWeights",i)}increaseNumberOfMsqOptions(){const e={},t=this.model.msqChoices.slice();if(t.push(""),e.msqChoices=t,this.model.hasAssignedWeights){const t=this.model.msqWeights.slice();t.push(0),e.msqWeights=t}this.triggerModelChangeBatch(e)}onMsqOptionDeleted(e){const t={},i=this.model.msqChoices.slice();if(i.splice(e,1),t.msqChoices=i,this.model.hasAssignedWeights){const i=this.model.msqWeights.slice();i.splice(e,1),t.msqWeights=i}const n=i.length+(this.model.otherEnabled?1:0);this.isMinSelectableChoicesEnabled&&this.model.minSelectableChoices>n&&(t.minSelectableChoices=n),this.isMaxSelectableChoicesEnabled&&this.model.maxSelectableChoices>n&&(t.maxSelectableChoices=n),this.triggerModelChangeBatch(t)}get displayValueForMaxSelectableOption(){return this.isMaxSelectableChoicesEnabled?this.model.maxSelectableChoices:""}get displayValueForMinSelectableOption(){return this.isMinSelectableChoicesEnabled?this.model.minSelectableChoices:""}onMsqOptionEntered(e,t){const i=this.model.msqChoices.slice();i[t]=e,this.triggerModelChange("msqChoices",i)}triggerOtherEnabled(e){const t={otherEnabled:e,msqOtherWeight:0},i=this.model.msqChoices.length+(e?1:0);this.isMinSelectableChoicesEnabled&&this.model.minSelectableChoices>i&&(t.minSelectableChoices=i),this.isMaxSelectableChoicesEnabled&&this.model.maxSelectableChoices>i&&(t.maxSelectableChoices=i),this.triggerModelChangeBatch(t)}triggerGeneratedOptionsChange(e){if(e)this.storageModel=this.model,this.triggerModelChangeBatch({generateOptionsFor:s.c.STUDENTS,msqChoices:[],otherEnabled:!1,hasAssignedWeights:!1,msqWeights:[],msqOtherWeight:0});else{const e=this.storageModel,t=Object(P.a)(e,["maxSelectableChoices","minSelectableChoices"]);this.triggerModelChangeBatch(t)}}triggerMaxSelectableOptionsChange(e){this.triggerModelChange("maxSelectableChoices",e?this.isMinSelectableChoicesEnabled?this.model.minSelectableChoices:2:I.f)}triggerMinSelectableOptionsChange(e){this.triggerModelChange("minSelectableChoices",e?2:I.f)}trackMsqOption(e){return e.toString()}trackMsqWeight(e){return e.toString()}get isGeneratedOptionsEnabled(){return this.model.generateOptionsFor!==s.c.NONE}get isMaxSelectableChoicesEnabled(){return this.model.maxSelectableChoices!==I.f}get isMinSelectableChoicesEnabled(){return this.model.minSelectableChoices!==I.f}get maxMinSelectableValue(){return this.isMaxSelectableChoicesEnabled?this.model.maxSelectableChoices:this.totalSelectableChoices}get totalSelectableChoices(){return this.isGeneratedOptionsEnabled?Number.MAX_VALUE:this.model.msqChoices.length+(this.model.otherEnabled?1:0)}triggerWeightsColumn(e){this.triggerModelChangeBatch({msqWeights:e?Array(this.model.msqChoices.length).fill(0):[],msqOtherWeight:0,hasAssignedWeights:e})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Kb({type:e,selectors:[["tm-msq-question-edit-details-form"]],features:[n.zb],decls:27,vars:19,consts:[[1,"row"],[1,"col-sm-12"],["class","form-check form-check-inline",4,"ngIf"],["class","form-check form-check-inline padding-left-300px align-center",4,"ngIf"],[1,"col-sm-6"],[4,"ngIf"],[1,"col-sm-6","col-lg-5","col-lg-offset-1"],[1,"form-check-label"],["id","generate-checkbox","type","checkbox",1,"form-check-input",3,"disabled","ngModel","ngModelChange"],["id","generate-dropdown",1,"form-control",3,"disabled","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["id","max-options-checkbox","type","checkbox",1,"form-check-input",3,"disabled","ngModel","ngModelChange"],["id","max-options","type","number",1,"form-control",3,"disabled","ngModel","min","max","ngModelChange"],["id","min-options-checkbox","type","checkbox",1,"form-check-input",3,"disabled","ngModel","ngModelChange"],["id","min-options","type","number","min","1",1,"form-control",3,"disabled","ngModel","max","ngModelChange"],[1,"form-check","form-check-inline"],["ngbTooltip","Assign weights to the choices for calculating statistics.","container","body",1,"form-check-label"],["id","weights-checkbox","type","checkbox",1,"form-check-input",3,"ngModel","disabled","ngModelChange"],[1,"form-check","form-check-inline","padding-left-300px","align-center"],["id","options-section","cdkDropList","",3,"cdkDropListDisabled","cdkDropListDropped"],["class","row margin-top-22px","cdkDrag","","cdkDragLockAxis","y",4,"ngFor","ngForOf","ngForTrackBy"],["id","btn-add-option","name","button","ngDefaultControl","",1,"btn","btn-primary",3,"disabled","click"],[1,"fas","fa-plus"],[1,"checkbox","col-sm-9","padding-left-35px"],[1,"bold-label"],["id","other-checkbox","type","checkbox",1,"form-check-input",3,"ngModel","disabled","ngModelChange"],["class","col-sm-3",4,"ngIf"],["cdkDrag","","cdkDragLockAxis","y",1,"row","margin-top-22px"],["cdkDragHandle","",1,"col-sm-1"],[1,"btn","input-group-addon"],[3,"ngClass"],[3,"index","isEditable","numberOfMsqChoices","text","elementDeleted","msqText"],[1,"col-sm-3"],[3,"isEditable","weight","weightEntered"],["id","other-weight","type","number","step","0.01","min","0",1,"form-control",3,"ngModel","disabled","ngModelChange"],[3,"value"]],template:function(e,t){1&e&&(n.Wb(0,"div",0),n.Rb(1,"br"),n.Wb(2,"div",1),n.Oc(3,q,5,2,"div",2),n.Oc(4,N,2,0,"div",3),n.Vb(),n.Rb(5,"br"),n.Wb(6,"div",4),n.Oc(7,L,16,7,"div",5),n.Vb(),n.Wb(8,"div",6),n.Wb(9,"label",7),n.Wb(10,"input",8),n.ic("ngModelChange",(function(e){return t.triggerGeneratedOptionsChange(e)})),n.Vb(),n.Wb(11,"b"),n.Qc(12,"Or, generate options from the list of all"),n.Vb(),n.Vb(),n.Wb(13,"select",9),n.ic("ngModelChange",(function(e){return t.triggerModelChange("generateOptionsFor",e)})),n.Oc(14,U,3,4,"option",10),n.Vb(),n.Rb(15,"br"),n.Wb(16,"label",7),n.Wb(17,"input",11),n.ic("ngModelChange",(function(e){return t.triggerMaxSelectableOptionsChange(e)})),n.Vb(),n.Wb(18,"b"),n.Qc(19,"Maximum number of options a respondent is allowed to select"),n.Vb(),n.Vb(),n.Wb(20,"input",12),n.ic("ngModelChange",(function(e){return t.triggerModelChange("maxSelectableChoices",e)})),n.Vb(),n.Rb(21,"br"),n.Wb(22,"label",7),n.Wb(23,"input",13),n.ic("ngModelChange",(function(e){return t.triggerMinSelectableOptionsChange(e)})),n.Vb(),n.Wb(24,"b"),n.Qc(25,"Minimum number of options a respondent is allowed to select"),n.Vb(),n.Vb(),n.Wb(26,"input",14),n.ic("ngModelChange",(function(e){return t.triggerModelChange("minSelectableChoices",e)})),n.Vb(),n.Vb(),n.Vb()),2&e&&(n.Cb(3),n.sc("ngIf",!t.isGeneratedOptionsEnabled),n.Cb(1),n.sc("ngIf",t.model.hasAssignedWeights&&!t.isGeneratedOptionsEnabled),n.Cb(3),n.sc("ngIf",!t.isGeneratedOptionsEnabled),n.Cb(3),n.sc("disabled",!t.isEditable)("ngModel",t.isGeneratedOptionsEnabled),n.Cb(3),n.sc("disabled",!t.isGeneratedOptionsEnabled||!t.isEditable)("ngModel",t.model.generateOptionsFor),n.Cb(1),n.sc("ngForOf",t.PARTICIPANT_TYPES),n.Cb(3),n.sc("disabled",!t.isEditable)("ngModel",t.isMaxSelectableChoicesEnabled),n.Cb(3),n.sc("disabled",!t.isMaxSelectableChoicesEnabled||!t.isEditable)("ngModel",t.displayValueForMaxSelectableOption)("min",t.isMinSelectableChoicesEnabled?t.model.minSelectableChoices:2)("max",t.totalSelectableChoices),n.Cb(3),n.sc("disabled",!t.isEditable)("ngModel",t.isMinSelectableChoicesEnabled),n.Cb(3),n.sc("disabled",!t.isMinSelectableChoicesEnabled||!t.isEditable)("ngModel",t.displayValueForMinSelectableOption)("max",t.maxMinSelectableValue))},directives:[b.u,g.a,g.p,g.s,g.B,b.t,g.v,g.c,u.w,k.c,k.a,k.b,b.r,F,O,g.u,g.E],pipes:[y.a],styles:[".padding-left-35px[_ngcontent-%COMP%]{padding-left:35px}.input-group-addon[_ngcontent-%COMP%]{cursor:move;resize:both;padding:.375rem .75rem;margin-bottom:0;font-weight:400;line-height:1.5;color:#495057;text-align:center;background-color:#e9ecef;border:1px solid #ced4da}@media (min-width:576px){.padding-left-300px[_ngcontent-%COMP%]{padding-left:300px}}.margin-top-22px[_ngcontent-%COMP%]{margin-top:22px}",".cdk-drop-list-dragging[_ngcontent-%COMP%]   .cdk-drag[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .3s cubic-bezier(0,0,.2,1)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}"]}),e})();function G(e,t){if(1&e&&(n.Wb(0,"div"),n.Qc(1),n.Vb()),2&e){const e=n.kc();n.Cb(1),n.Sc(" Based on the above settings, acceptable responses are: ",e.possibleValues,"\n")}}function z(e,t){1&e&&(n.Wb(0,"div",10),n.Qc(1," The step size must be a positive number!\n"),n.Vb())}let H=(()=>{class e extends C{constructor(){super(Object(f.j)()),this.Math=Math}get numberOfPossibleValues(){return Math.floor(parseFloat(((this.model.maxScale-this.model.minScale)/this.model.step+1).toFixed(3)))}get possibleValues(){if(this.numberOfPossibleValues>6){const e=this.model.minScale+(this.numberOfPossibleValues-1)*this.model.step;return`[${this.model.minScale},\n           ${+(this.model.minScale+this.model.step).toFixed(3)},\n           ${+(this.model.minScale+2*this.model.step).toFixed(3)}, ...,\n           ${+(e-2*this.model.step).toFixed(3)},\n           ${+(e-this.model.step).toFixed(3)},\n           ${+e.toFixed(3)}]`}let e=""+this.model.minScale,t=this.model.minScale+this.model.step;for(;this.model.maxScale-t>=-1e-9;)e+=", "+ +t.toFixed(3),t+=this.model.step;return`[${e}]`}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Kb({type:e,selectors:[["tm-num-scale-question-edit-details-form"]],features:[n.zb],decls:16,vars:11,consts:[[1,"row"],[1,"col-sm-4"],["ngbTooltip","Minimum acceptable response value",1,"ngb-tooltip-class"],["id","min-value","type","number",1,"form-control",3,"ngModel","disabled","step","ngModelChange"],["ngbTooltip","Value to be increased/decreased each step",1,"ngb-tooltip-class"],["id","increment-value","type","number","step","any","min","0",1,"form-control",3,"ngModel","disabled","ngModelChange"],["ngbTooltip","Maximum acceptable response value",1,"ngb-tooltip-class"],["id","max-value","type","number",1,"form-control",3,"ngModel","disabled","step","min","ngModelChange"],[4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(e,t){1&e&&(n.Wb(0,"div",0),n.Wb(1,"div",1),n.Wb(2,"span",2),n.Qc(3,"Minimum value:"),n.Vb(),n.Wb(4,"input",3),n.ic("ngModelChange",(function(e){return t.triggerModelChange("minScale",null===e?e:t.Math.ceil(e))})),n.Vb(),n.Vb(),n.Wb(5,"div",1),n.Wb(6,"span",4),n.Qc(7,"Increment:"),n.Vb(),n.Wb(8,"input",5),n.ic("ngModelChange",(function(e){return t.triggerModelChange("step",e)})),n.Vb(),n.Vb(),n.Wb(9,"div",1),n.Wb(10,"span",6),n.Qc(11,"Maximum value:"),n.Vb(),n.Wb(12,"input",7),n.ic("ngModelChange",(function(e){return t.triggerModelChange("maxScale",null===e?e:t.Math.ceil(e))})),n.Vb(),n.Vb(),n.Vb(),n.Rb(13,"br"),n.Oc(14,G,2,1,"div",8),n.Oc(15,z,2,0,"div",9)),2&e&&(n.Cb(4),n.sc("ngModel",t.model.minScale)("disabled",!t.isEditable)("step",1),n.Cb(4),n.sc("ngModel",t.model.step)("disabled",!t.isEditable),n.Cb(4),n.tc("min",t.Math.ceil(t.model.minScale+t.model.step)),n.sc("ngModel",t.model.maxScale)("disabled",!t.isEditable)("step",1),n.Cb(2),n.sc("ngIf",t.model.step>0),n.Cb(1),n.sc("ngIf",t.model.step<=0))},directives:[u.w,g.v,g.c,g.p,g.s,b.u],styles:[""]}),e})(),X=(()=>{class e{constructor(e){this.statusMessageService=e,this.isEditable=!1,this.numberOfRankChoices=1,this.text="",this.index=0,this.elementDeleted=new n.n,this.rankOptionText=new n.n}onRankOptionEntered(e){this.rankOptionText.emit(e)}deleteRankOption(){this.numberOfRankChoices>2?this.elementDeleted.emit(this.index):this.statusMessageService.showErrorToast("There must be at least two Rank options.")}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(M.a))},e.\u0275cmp=n.Kb({type:e,selectors:[["tm-rank-options-field"]],inputs:{isEditable:"isEditable",numberOfRankChoices:"numberOfRankChoices",text:"text",index:"index"},outputs:{elementDeleted:"elementDeleted",rankOptionText:"rankOptionText"},decls:6,vars:3,consts:[[1,"input-group"],["type","text",1,"form-control",3,"disabled","ngModel","ngModelChange"],[1,"input-group-btn"],["type","button","tabindex","-1",1,"btn","btn-danger","input-group-addon",2,"cursor","initial",3,"disabled","click"],["aria-hidden","true"]],template:function(e,t){1&e&&(n.Wb(0,"div",0),n.Wb(1,"input",1),n.ic("ngModelChange",(function(e){return t.onRankOptionEntered(e.trim())})),n.Vb(),n.Wb(2,"span",2),n.Wb(3,"button",3),n.ic("click",(function(){return t.deleteRankOption()})),n.Wb(4,"span",4),n.Qc(5,"\xd7"),n.Vb(),n.Vb(),n.Vb(),n.Vb()),2&e&&(n.Cb(1),n.sc("disabled",!t.isEditable)("ngModel",t.text),n.Cb(2),n.sc("disabled",!t.isEditable))},directives:[g.c,g.p,g.s],styles:[".input-group-addon[_ngcontent-%COMP%]{cursor:move;resize:both;padding:.375rem .75rem;margin-bottom:0;font-weight:400;line-height:1.5;color:#495057;text-align:center;background-color:#e9ecef;border:1px solid #ced4da}"]}),e})();function $(e,t){if(1&e){const e=n.Xb();n.Wb(0,"div",16),n.Wb(1,"div",17),n.Wb(2,"span",18),n.Qc(3,"\u2195 "),n.Vb(),n.Vb(),n.Wb(4,"div",19),n.Wb(5,"tm-rank-options-field",20),n.ic("elementDeleted",(function(t){return n.Fc(e),n.kc().onRankOptionDeleted(t)}))("rankOptionText",(function(i){n.Fc(e);const s=t.index;return n.kc().onRankOptionEntered(i,s)})),n.Vb(),n.Vb(),n.Rb(6,"br"),n.Vb()}if(2&e){const e=t.index,i=n.kc();n.Cb(5),n.sc("isEditable",i.isEditable)("index",e)("numberOfRankChoices",i.model.options.length)("text",i.model.options[e])}}let K=(()=>{class e extends C{constructor(){super(Object(f.l)())}increaseNumberOfRankOptions(){const e=this.model.options.slice();e.push(""),this.triggerModelChange("options",e)}onRankOptionDropped(e){if(!this.isEditable)return;const t=this.model.options.slice();Object(k.e)(t,e.previousIndex,e.currentIndex),this.triggerModelChange("options",t)}trackRankOption(e){return e.toString()}onRankOptionDeleted(e){const t=this.model.options.slice();t.splice(e,1),this.triggerModelChangeBatch({options:t,minOptionsToBeRanked:this.model.minOptionsToBeRanked>t.length?t.length:this.model.minOptionsToBeRanked,maxOptionsToBeRanked:this.model.maxOptionsToBeRanked>t.length?t.length:this.model.maxOptionsToBeRanked})}onRankOptionEntered(e,t){const i=this.model.options.slice();i[t]=e,this.triggerModelChange("options",i)}triggerMinOptionsToBeRankedChange(e){this.triggerModelChange("minOptionsToBeRanked",e?1:I.f)}triggerMaxOptionsToBeRankedChange(e){this.triggerModelChange("maxOptionsToBeRanked",e?this.isMinOptionsToBeRankedEnabled?this.model.minOptionsToBeRanked:1:I.f)}get isMinOptionsToBeRankedEnabled(){return this.model.minOptionsToBeRanked!==I.f}get isMaxOptionsToBeRankedEnabled(){return this.model.maxOptionsToBeRanked!==I.f}get displayValueForMinOptionsToBeRanked(){return this.isMinOptionsToBeRankedEnabled?this.model.minOptionsToBeRanked:""}get displayValueForMaxOptionsToBeRanked(){return this.isMaxOptionsToBeRankedEnabled?this.model.maxOptionsToBeRanked:""}get maxMinOptionsValue(){return this.isMaxOptionsToBeRankedEnabled?this.model.maxOptionsToBeRanked:this.model.options.length}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Kb({type:e,selectors:[["tm-rank-options-question-edit-details-form"]],features:[n.zb],decls:29,vars:17,consts:[[1,"row"],[1,"col-sm-6"],["id","options-section","cdkDropList","",1,"col-sm-9",3,"cdkDropListDisabled","cdkDropListDropped"],["class","row margin-bottom-20px padding-left-12px","cdkDrag","","cdkDragLockAxis","y",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-sm-9"],["id","btn-add-option","name","button","ngDefaultControl","",1,"btn","btn-primary",3,"disabled","click"],[1,"fas","fa-plus"],[1,"form-check-label","margin-bottom-20px","margin-right-5px"],["id","duplicate-rank-checkbox","type","checkbox",1,"form-check-input",3,"ngModel","disabled","ngModelChange"],[1,"row","margin-bottom-20px","margin-right-5px"],[1,"form-check-label","col-sm-9"],["id","min-options-checkbox","type","checkbox",1,"form-check-input",3,"disabled","ngModel","ngModelChange"],["id","min-options","type","number","min","1",1,"form-control","col-sm-3",3,"disabled","ngModel","max","ngModelChange"],[1,"row","margin-right-5px"],["id","max-options-checkbox","type","checkbox",1,"form-check-input",3,"disabled","ngModel","ngModelChange"],["id","max-options","type","number",1,"form-control","col-sm-3",3,"disabled","ngModel","min","max","ngModelChange"],["cdkDrag","","cdkDragLockAxis","y",1,"row","margin-bottom-20px","padding-left-12px"],["cdkDragHandle",""],[1,"input-group-addon"],[1,"flex-grow-1"],[3,"isEditable","index","numberOfRankChoices","text","elementDeleted","rankOptionText"]],template:function(e,t){1&e&&(n.Wb(0,"div",0),n.Rb(1,"br"),n.Wb(2,"div",1),n.Wb(3,"div",0),n.Wb(4,"div",2),n.ic("cdkDropListDropped",(function(e){return t.onRankOptionDropped(e)})),n.Oc(5,$,7,4,"div",3),n.Vb(),n.Vb(),n.Wb(6,"div",0),n.Wb(7,"div",4),n.Wb(8,"button",5),n.ic("click",(function(){return t.increaseNumberOfRankOptions()})),n.Rb(9,"i",6),n.Qc(10," add more options "),n.Vb(),n.Vb(),n.Vb(),n.Rb(11,"br"),n.Vb(),n.Wb(12,"div",1),n.Wb(13,"label",7),n.Wb(14,"input",8),n.ic("ngModelChange",(function(e){return t.triggerModelChange("areDuplicatesAllowed",e)})),n.Vb(),n.Wb(15,"b"),n.Qc(16,"Allow response giver to give the same rank to multiple options"),n.Vb(),n.Vb(),n.Wb(17,"div",9),n.Wb(18,"label",10),n.Wb(19,"input",11),n.ic("ngModelChange",(function(e){return t.triggerMinOptionsToBeRankedChange(e)})),n.Vb(),n.Wb(20,"b"),n.Qc(21,"Minimum number of options a respondent must rank"),n.Vb(),n.Vb(),n.Wb(22,"input",12),n.ic("ngModelChange",(function(e){return t.triggerModelChange("minOptionsToBeRanked",e)})),n.Vb(),n.Vb(),n.Wb(23,"div",13),n.Wb(24,"label",10),n.Wb(25,"input",14),n.ic("ngModelChange",(function(e){return t.triggerMaxOptionsToBeRankedChange(e)})),n.Vb(),n.Wb(26,"b"),n.Qc(27,"Maximum number of options a respondent can rank"),n.Vb(),n.Vb(),n.Wb(28,"input",15),n.ic("ngModelChange",(function(e){return t.triggerModelChange("maxOptionsToBeRanked",e)})),n.Vb(),n.Vb(),n.Vb(),n.Vb()),2&e&&(n.Cb(4),n.sc("cdkDropListDisabled",!t.isEditable),n.Cb(1),n.sc("ngForOf",t.model.options)("ngForTrackBy",t.trackRankOption),n.Cb(3),n.sc("disabled",!t.isEditable),n.Cb(6),n.sc("ngModel",t.model.areDuplicatesAllowed)("disabled",!t.isEditable),n.Cb(5),n.sc("disabled",!t.isEditable)("ngModel",t.isMinOptionsToBeRankedEnabled),n.Cb(3),n.tc("max",t.maxMinOptionsValue),n.sc("disabled",!t.isMinOptionsToBeRankedEnabled||!t.isEditable)("ngModel",t.displayValueForMinOptionsToBeRanked),n.Cb(3),n.sc("disabled",!t.isEditable)("ngModel",t.isMaxOptionsToBeRankedEnabled),n.Cb(3),n.tc("max",t.model.options.length),n.sc("disabled",!t.isMaxOptionsToBeRankedEnabled||!t.isEditable)("ngModel",t.displayValueForMaxOptionsToBeRanked)("min",t.isMinOptionsToBeRankedEnabled?t.model.minOptionsToBeRanked:1))},directives:[k.c,b.t,g.c,g.a,g.p,g.s,g.v,k.a,k.b,X],styles:[".margin-bottom-20px[_ngcontent-%COMP%]{margin-bottom:20px}.margin-right-5px[_ngcontent-%COMP%]{margin-right:5px}.padding-left-12px[_ngcontent-%COMP%]{padding-left:12px}.row[_ngcontent-%COMP%]{-ms-flex-align:center;align-items:center}.input-group-addon[_ngcontent-%COMP%]{cursor:move;resize:both;padding:.375rem .75rem;margin-bottom:0;font-weight:400;line-height:1.5;color:#495057;text-align:center;background-color:#e9ecef;border:1px solid #ced4da}",".cdk-drop-list-dragging[_ngcontent-%COMP%]   .cdk-drag[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .3s cubic-bezier(0,0,.2,1)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}"]}),e})(),Y=(()=>{class e extends C{constructor(){super(Object(f.n)())}ngOnInit(){}triggerMinOptionsToBeRankedChange(e){this.triggerModelChange("minOptionsToBeRanked",e?1:I.f)}triggerMaxOptionsToBeRankedChange(e){this.triggerModelChange("maxOptionsToBeRanked",e?this.isMinOptionsToBeRankedEnabled?this.model.minOptionsToBeRanked:1:I.f)}get isMinOptionsToBeRankedEnabled(){return this.model.minOptionsToBeRanked!==I.f}get isMaxOptionsToBeRankedEnabled(){return this.model.maxOptionsToBeRanked!==I.f}get displayValueForMinOptionsToBeRanked(){return this.isMinOptionsToBeRankedEnabled?this.model.minOptionsToBeRanked:""}get displayValueForMaxOptionsToBeRanked(){return this.isMaxOptionsToBeRankedEnabled?this.model.maxOptionsToBeRanked:""}get maxMinOptionsValue(){return this.isMaxOptionsToBeRankedEnabled?this.model.maxOptionsToBeRanked:Number.MAX_VALUE}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Kb({type:e,selectors:[["tm-rank-recipients-question-edit-details-form"]],features:[n.zb],decls:19,vars:12,consts:[[1,"row"],[1,"col-8","padding-left-15px"],[1,"form-check-label"],["id","duplicate-rank-checkbox","type","checkbox",1,"form-check-input",3,"ngModel","disabled","ngModelChange"],["id","min-options-checkbox","type","checkbox",1,"form-check-input",3,"disabled","ngModel","ngModelChange"],["id","min-options","type","number","min","1",1,"form-control",3,"disabled","ngModel","max","ngModelChange"],["id","max-options-checkbox","type","checkbox",1,"form-check-input",3,"disabled","ngModel","ngModelChange"],["id","max-options","type","number",1,"form-control",3,"disabled","ngModel","min","ngModelChange"]],template:function(e,t){1&e&&(n.Wb(0,"div",0),n.Wb(1,"div",1),n.Wb(2,"label",2),n.Wb(3,"input",3),n.ic("ngModelChange",(function(e){return t.triggerModelChange("areDuplicatesAllowed",e)})),n.Vb(),n.Wb(4,"b"),n.Qc(5,"Allow response giver to give the same rank to multiple options"),n.Vb(),n.Vb(),n.Rb(6,"br"),n.Rb(7,"br"),n.Wb(8,"label",2),n.Wb(9,"input",4),n.ic("ngModelChange",(function(e){return t.triggerMinOptionsToBeRankedChange(e)})),n.Vb(),n.Wb(10,"b"),n.Qc(11,"Minimum number of options a respondent must rank"),n.Vb(),n.Vb(),n.Wb(12,"input",5),n.ic("ngModelChange",(function(e){return t.triggerModelChange("minOptionsToBeRanked",e)})),n.Vb(),n.Rb(13,"br"),n.Wb(14,"label",2),n.Wb(15,"input",6),n.ic("ngModelChange",(function(e){return t.triggerMaxOptionsToBeRankedChange(e)})),n.Vb(),n.Wb(16,"b"),n.Qc(17,"Maximum number of options a respondent can rank"),n.Vb(),n.Vb(),n.Wb(18,"input",7),n.ic("ngModelChange",(function(e){return t.triggerModelChange("maxOptionsToBeRanked",e)})),n.Vb(),n.Vb(),n.Vb()),2&e&&(n.Cb(3),n.sc("ngModel",t.model.areDuplicatesAllowed)("disabled",!t.isEditable),n.Cb(6),n.sc("disabled",!t.isEditable)("ngModel",t.isMinOptionsToBeRankedEnabled),n.Cb(3),n.tc("max",t.maxMinOptionsValue),n.sc("disabled",!t.isMinOptionsToBeRankedEnabled||!t.isEditable)("ngModel",t.displayValueForMinOptionsToBeRanked),n.Cb(3),n.sc("disabled",!t.isEditable)("ngModel",t.isMaxOptionsToBeRankedEnabled),n.Cb(3),n.sc("disabled",!t.isMaxOptionsToBeRankedEnabled||!t.isEditable)("ngModel",t.displayValueForMaxOptionsToBeRanked)("min",t.isMinOptionsToBeRankedEnabled?t.model.minOptionsToBeRanked:1))},directives:[g.a,g.p,g.s,g.v,g.c],styles:[".padding-left-15px[_ngcontent-%COMP%]{padding-left:50px}"]}),e})();const Z=function(e){return{"highlight-deletion":e}};function J(e,t){if(1&e){const e=n.Xb();n.Wb(0,"td",15),n.Wb(1,"input",16),n.ic("ngModelChange",(function(i){n.Fc(e);const s=t.index;return n.kc().triggerRubricChoiceChange(i,s)})),n.Vb(),n.Vb()}if(2&e){const e=t.$implicit,i=t.index,s=n.kc();n.sc("ngClass",n.wc(3,Z,i===s.columnToHighlight)),n.Cb(1),n.sc("disabled",!s.isEditable)("ngModel",e)}}function ee(e,t){if(1&e){const e=n.Xb();n.Wb(0,"input",23),n.ic("ngModelChange",(function(t){n.Fc(e);const i=n.kc().index,s=n.kc().index;return n.kc().triggerRubricWeightChange(t,s,i)})),n.Vb()}if(2&e){const e=n.kc().index,t=n.kc().index,i=n.kc();n.sc("disabled",!i.isEditable)("ngModel",i.model.rubricWeightsForEachCell[t][e])}}function te(e,t){if(1&e){const e=n.Xb();n.Wb(0,"td",15),n.Wb(1,"textarea",21),n.ic("ngModelChange",(function(i){n.Fc(e);const s=t.index,o=n.kc().index;return n.kc().triggerRubricDescriptionChange(i,o,s)})),n.Vb(),n.Oc(2,ee,1,2,"input",22),n.Vb()}if(2&e){const e=t.$implicit,i=t.index,s=n.kc(2);n.sc("ngClass",n.wc(4,Z,i===s.columnToHighlight)),n.Cb(1),n.sc("ngModel",e)("disabled",!s.isEditable),n.Cb(1),n.sc("ngIf",s.model.hasAssignedWeights)}}function ie(e,t){if(1&e){const e=n.Xb();n.Wb(0,"tr",15),n.Wb(1,"td"),n.Wb(2,"div",17),n.Wb(3,"div",18),n.Wb(4,"span",19),n.ic("mouseover",(function(){n.Fc(e);const i=t.index;return n.kc().rowToHighlight=i}))("mouseleave",(function(){return n.Fc(e),n.kc().rowToHighlight=-1}))("click",(function(){n.Fc(e);const i=t.index;return n.kc().deleteSubQuestion(i)})),n.Rb(5,"i",20),n.Vb(),n.Vb(),n.Wb(6,"textarea",21),n.ic("ngModelChange",(function(i){n.Fc(e);const s=t.index;return n.kc().triggerRubricSubQuestionChange(i,s)})),n.Vb(),n.Vb(),n.Vb(),n.Oc(7,te,3,6,"td",8),n.Vb()}if(2&e){const e=t.$implicit,i=t.index,s=n.kc();n.sc("ngClass",n.wc(5,Z,i===s.rowToHighlight)),n.Cb(6),n.sc("ngModel",s.model.rubricSubQuestions[i])("disabled",!s.isEditable),n.Cb(1),n.sc("ngForOf",e)("ngForTrackBy",s.trackByIndex)}}function ne(e,t){if(1&e){const e=n.Xb();n.Wb(0,"td",24),n.Wb(1,"div",25),n.Wb(2,"button",26),n.ic("click",(function(){n.Fc(e);const i=t.index;return n.kc().moveChoice(i,i-1)})),n.Rb(3,"i",27),n.Vb(),n.Wb(4,"button",28),n.ic("click",(function(){n.Fc(e);const i=t.index;return n.kc().deleteChoice(i)}))("mouseover",(function(){n.Fc(e);const i=t.index;return n.kc().columnToHighlight=i}))("mouseleave",(function(){return n.Fc(e),n.kc().columnToHighlight=-1})),n.Rb(5,"i",20),n.Vb(),n.Wb(6,"button",29),n.ic("click",(function(){n.Fc(e);const i=t.index;return n.kc().moveChoice(i,i+1)})),n.Rb(7,"i",7),n.Vb(),n.Vb(),n.Vb()}if(2&e){const e=t.index,i=n.kc();n.sc("ngClass",n.wc(4,Z,e===i.columnToHighlight)),n.Cb(2),n.sc("disabled",0===e||!i.isEditable),n.Cb(2),n.sc("disabled",1===i.model.numOfRubricChoices||!i.isEditable),n.Cb(2),n.sc("disabled",e===i.model.numOfRubricChoices-1||!i.isEditable)}}let se=(()=>{class e extends C{constructor(e){super(Object(f.p)()),this.simpleModalService=e,this.rowToHighlight=-1,this.columnToHighlight=-1}ngOnInit(){}triggerRubricChoiceChange(e,t){const i=this.model.rubricChoices.slice();i[t]=e,this.triggerModelChange("rubricChoices",i)}triggerRubricSubQuestionChange(e,t){const i=this.model.rubricSubQuestions.slice();i[t]=e,this.triggerModelChange("rubricSubQuestions",i)}triggerRubricDescriptionChange(e,t,i){const n=this.model.rubricDescriptions.map(e=>e.slice());n[t][i]=e,this.triggerModelChange("rubricDescriptions",n)}triggerRubricWeightChange(e,t,i){const n=this.model.rubricWeightsForEachCell.map(e=>e.slice());n[t][i]=e,this.triggerModelChange("rubricWeightsForEachCell",n)}trackByIndex(e){return e.toString()}addNewSubQuestion(){const e=this.model.rubricSubQuestions.slice();e.push("");const t=this.model.rubricDescriptions.map(e=>e.slice());t.push(Array(this.model.numOfRubricChoices).fill(""));let i=[];this.model.hasAssignedWeights&&(i=this.model.rubricWeightsForEachCell.map(e=>e.slice()),i.push(Array(this.model.numOfRubricChoices).fill(0))),this.triggerModelChangeBatch({rubricSubQuestions:e,rubricDescriptions:t,numOfRubricSubQuestions:this.model.numOfRubricSubQuestions+1,rubricWeightsForEachCell:i})}addNewChoice(){const e=this.model.rubricChoices.slice();e.push("");const t=this.model.rubricDescriptions.map(e=>e.slice());for(const n of t)n.push("");let i=[];if(this.model.hasAssignedWeights){i=this.model.rubricWeightsForEachCell.map(e=>e.slice());for(const e of i)e.push(0)}this.triggerModelChangeBatch({rubricChoices:e,rubricDescriptions:t,numOfRubricChoices:this.model.numOfRubricChoices+1,rubricWeightsForEachCell:i})}moveChoice(e,t){const i=this.model.rubricChoices.slice();Object(k.e)(i,e,t);const n=this.model.rubricDescriptions.map(e=>e.slice());for(const o of n)Object(k.e)(o,e,t);let s=[];if(this.model.hasAssignedWeights){s=this.model.rubricWeightsForEachCell.map(e=>e.slice());for(const i of s)Object(k.e)(i,e,t)}this.triggerModelChangeBatch({rubricChoices:i,rubricDescriptions:n,rubricWeightsForEachCell:s})}deleteSubQuestion(e){1!==this.model.numOfRubricSubQuestions&&this.isEditable&&this.simpleModalService.openConfirmationModal("Delete the row?",r.a.WARNING,"Are you sure you want to clear the row?").result.then(()=>{const t=this.model.rubricSubQuestions.slice();t.splice(e,1);const i=this.model.rubricDescriptions.map(e=>e.slice());i.splice(e,1);let n=[];this.model.hasAssignedWeights&&(n=this.model.rubricWeightsForEachCell.map(e=>e.slice()),n.splice(e,1)),this.triggerModelChangeBatch({rubricSubQuestions:t,rubricDescriptions:i,numOfRubricSubQuestions:this.model.numOfRubricSubQuestions-1,rubricWeightsForEachCell:n})},()=>{})}deleteChoice(e){this.simpleModalService.openConfirmationModal("Delete the column?",r.a.WARNING,"Are you sure you want to clear the column?").result.then(()=>{const t=this.model.rubricChoices.slice();t.splice(e,1);const i=this.model.rubricDescriptions.map(t=>{const i=t.slice();return i.splice(e,1),i});let n=[];this.model.hasAssignedWeights&&(n=this.model.rubricWeightsForEachCell.map(t=>{const i=t.slice();return i.splice(e,1),i})),this.triggerModelChangeBatch({rubricChoices:t,numOfRubricChoices:this.model.numOfRubricChoices-1,rubricDescriptions:i,rubricWeightsForEachCell:n})},()=>{})}triggerChoicesWeight(e){this.triggerModelChangeBatch({hasAssignedWeights:e,rubricWeightsForEachCell:e?this.model.rubricDescriptions.map(e=>e.map(()=>0)):[]})}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(d.a))},e.\u0275cmp=n.Kb({type:e,selectors:[["tm-rubric-question-edit-details-form"]],features:[n.zb],decls:27,vars:9,consts:[[1,"row"],[1,"col-12","text-left"],[1,"form-group","form-check"],["ngbTooltip","Assign weights to the columns for calculating statistics.",1,"form-check-label","tool-tip-decorate","ngb-tooltip-class"],["id","weights-checkbox","type","checkbox",1,"form-check-input",3,"disabled","ngModel","ngModelChange"],["id","rubric-table",1,"table","table-bordered"],[1,"font-weight-bold","item-center"],[1,"fas","fa-arrow-right"],[3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],["class","text-center",3,"ngClass",4,"ngFor","ngForOf"],[1,"col-6","text-left"],["id","btn-add-row","type","button",1,"btn","btn-primary","btn-sm",3,"disabled","click"],[1,"fas","fa-arrow-down"],[1,"col-6","text-right"],["id","btn-add-col","type","button",1,"btn","btn-primary","btn-sm",3,"disabled","click"],[3,"ngClass"],["type","text",1,"form-control","font-weight-bold",3,"disabled","ngModel","ngModelChange"],[1,"input-group"],[1,"input-group-prepend"],["id","btn-delete-subquestion",1,"input-group-text","font-weight-bold","cursor-pointer",3,"mouseover","mouseleave","click"],[1,"fas","fa-times"],["rows","3",1,"form-control",3,"ngModel","disabled","ngModelChange"],["type","number","class","form-control margin-top-10px","step","0.01",3,"disabled","ngModel","ngModelChange",4,"ngIf"],["type","number","step","0.01",1,"form-control","margin-top-10px",3,"disabled","ngModel","ngModelChange"],[1,"text-center",3,"ngClass"],[1,"btn-group"],["type","button","ngbTooltip","Move column left",1,"btn","btn-light",3,"disabled","click"],[1,"fas","fa-arrow-left"],["id","btn-delete-choice","type","button",1,"btn","btn-light",3,"disabled","click","mouseover","mouseleave"],["type","button","ngbTooltip","Move column right",1,"btn","btn-light",3,"disabled","click"]],template:function(e,t){1&e&&(n.Wb(0,"div",0),n.Wb(1,"div",1),n.Wb(2,"div",2),n.Wb(3,"label",3),n.Wb(4,"input",4),n.ic("ngModelChange",(function(e){return t.triggerChoicesWeight(e)})),n.Vb(),n.Qc(5,"Choices are weighted"),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Wb(6,"table",5),n.Wb(7,"tbody"),n.Wb(8,"tr",6),n.Wb(9,"td"),n.Wb(10,"div"),n.Qc(11,"Choices "),n.Rb(12,"i",7),n.Vb(),n.Vb(),n.Oc(13,J,2,5,"td",8),n.Vb(),n.Oc(14,ie,8,7,"tr",8),n.Wb(15,"tr"),n.Rb(16,"td"),n.Oc(17,ne,8,6,"td",9),n.Vb(),n.Vb(),n.Vb(),n.Wb(18,"div",0),n.Wb(19,"div",10),n.Wb(20,"button",11),n.ic("click",(function(){return t.addNewSubQuestion()})),n.Qc(21,"Add Row "),n.Rb(22,"i",12),n.Vb(),n.Vb(),n.Wb(23,"div",13),n.Wb(24,"button",14),n.ic("click",(function(){return t.addNewChoice()})),n.Qc(25,"Add Column "),n.Rb(26,"i",7),n.Vb(),n.Vb(),n.Vb()),2&e&&(n.Cb(4),n.sc("disabled",!t.isEditable)("ngModel",t.model.hasAssignedWeights),n.Cb(9),n.sc("ngForOf",t.model.rubricChoices)("ngForTrackBy",t.trackByIndex),n.Cb(1),n.sc("ngForOf",t.model.rubricDescriptions)("ngForTrackBy",t.trackByIndex),n.Cb(3),n.sc("ngForOf",t.model.rubricChoices),n.Cb(3),n.sc("disabled",!t.isEditable),n.Cb(4),n.sc("disabled",!t.isEditable))},directives:[u.w,g.a,g.p,g.s,b.t,b.r,g.c,b.u,g.v],styles:[".item-center[_ngcontent-%COMP%]{text-align:center;vertical-align:middle}.highlight-deletion[_ngcontent-%COMP%]{background-color:#fea3a3}.margin-top-10px[_ngcontent-%COMP%]{margin-top:10px}"]}),e})(),oe=(()=>{class e{constructor(){this.isEditable=!1,this.text="",this.elementDeleted=new n.n,this.textChange=new n.n}onConstsumOptionEntered(e){this.textChange.emit(e)}deleteConstsumOption(){this.elementDeleted.emit()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Kb({type:e,selectors:[["tm-constsum-options-field"]],inputs:{isEditable:"isEditable",text:"text"},outputs:{elementDeleted:"elementDeleted",textChange:"textChange"},decls:6,vars:3,consts:[[1,"input-group"],["type","text",1,"form-control",3,"disabled","ngModel","ngModelChange"],[1,"input-group-btn"],["type","button","tabindex","-1",1,"btn","btn-danger","input-group-addon",2,"cursor","initial",3,"disabled","click"],["aria-hidden","true"]],template:function(e,t){1&e&&(n.Wb(0,"div",0),n.Wb(1,"input",1),n.ic("ngModelChange",(function(e){return t.onConstsumOptionEntered(e.trim())})),n.Vb(),n.Wb(2,"span",2),n.Wb(3,"button",3),n.ic("click",(function(){return t.deleteConstsumOption()})),n.Wb(4,"span",4),n.Qc(5,"\xd7"),n.Vb(),n.Vb(),n.Vb(),n.Vb()),2&e&&(n.Cb(1),n.sc("disabled",!t.isEditable)("ngModel",t.text),n.Cb(2),n.sc("disabled",!t.isEditable))},directives:[g.c,g.p,g.s],styles:[".input-group-addon[_ngcontent-%COMP%]{cursor:move;resize:both;padding:.375rem .75rem;margin-bottom:0;font-weight:400;line-height:1.5;color:#495057;text-align:center;background-color:#e9ecef;border:1px solid #ced4da}"]}),e})();function re(e,t){if(1&e){const e=n.Xb();n.Wb(0,"div",22),n.Wb(1,"div",23),n.Wb(2,"span",24),n.Qc(3,"\u2195 "),n.Vb(),n.Vb(),n.Wb(4,"div",25),n.Wb(5,"tm-constsum-options-field",26),n.ic("elementDeleted",(function(){n.Fc(e);const i=t.index;return n.kc().onConstsumOptionDeleted(i)}))("textChange",(function(i){n.Fc(e);const s=t.index;return n.kc().onConstsumOptionEntered(i,s)})),n.Vb(),n.Vb(),n.Vb()}if(2&e){const e=t.$implicit,i=n.kc();n.Cb(5),n.sc("isEditable",i.isEditable)("text",e)}}let ce=(()=>{class e extends C{constructor(e){super(Object(f.a)()),this.statusMessageService=e,this.FeedbackConstantSumDistributePointsType=s.b}increaseNumberOfConstsumOptions(){const e=this.model.constSumOptions.slice();e.push(""),this.triggerModelChangeBatch({numOfConstSumOptions:this.model.numOfConstSumOptions+1,constSumOptions:e})}onConstsumOptionDropped(e){if(!this.isEditable)return;const t=this.model.constSumOptions.slice();Object(k.e)(t,e.previousIndex,e.currentIndex),this.triggerModelChange("constSumOptions",t)}trackConstsumOption(e){return e.toString()}onConstsumOptionDeleted(e){if(this.model.constSumOptions.length<=2)return void this.statusMessageService.showErrorToast("There must be at least one option.");const t=this.model.constSumOptions.slice();t.splice(e,1),this.triggerModelChangeBatch({numOfConstSumOptions:this.model.numOfConstSumOptions-1,constSumOptions:t})}onConstsumOptionEntered(e,t){const i=this.model.constSumOptions.slice();i[t]=e,this.triggerModelChange("constSumOptions",i)}onForceUnevenDistribution(e){this.triggerModelChangeBatch({forceUnevenDistribution:e,distributePointsFor:e?s.b.DISTRIBUTE_ALL_UNEVENLY:s.b.NONE})}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(M.a))},e.\u0275cmp=n.Kb({type:e,selectors:[["tm-constsum-options-question-edit-details-form"]],features:[n.zb],decls:39,vars:20,consts:[[1,"row"],[1,"col-sm-6"],["id","options-section","cdkDropList","",1,"col-sm-9",3,"cdkDropListDisabled","cdkDropListDropped"],["class","row margin-bottom-20px padding-left-12px","cdkDrag","","cdkDragLockAxis","y",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-sm-9"],["id","btn-add-option","name","button","ngDefaultControl","",1,"btn","btn-primary",3,"disabled","click"],[1,"fas","fa-plus"],[1,"col-12"],[1,"col-11","offset-1","margin-top-10px"],[1,"form-check"],[1,"form-check-label"],["id","total-points-radio","type","radio",1,"form-check-input",3,"ngModel","value","disabled","ngModelChange"],["id","total-points","type","number","min","1","step","1",1,"form-control",3,"ngModel","disabled","ngModelChange"],["ngbTooltip","Respondents will have to distribute the total points specified here among the options, e.g. if you specify 100 points here and there are 3 options, respondents will have to distribute 100 points among 3 options.",1,"ngb-tooltip-class"],["id","per-option-points-radio","type","radio",1,"form-check-input",3,"ngModel","value","disabled","ngModelChange"],["id","per-option-points","type","number","min","1","step","1",1,"form-control",3,"ngModel","disabled","ngModelChange"],["ngbTooltip","The number of points to distribute will vary based on the number of options, e.g. if you specify 100 points here and there are 3 options, the total number of points to distribute among 3 options will be 300 (i.e. 100 x 3).",1,"ngb-tooltip-class"],[1,"col-12","padding-left-33px","margin-top-10px"],["id","uneven-distribution-checkbox","type","checkbox",1,"form-check-input",3,"ngModel","disabled","ngModelChange"],["id","uneven-distribution-dropdown",1,"form-control",3,"ngModel","disabled","ngModelChange"],[3,"value"],["ngbTooltip","This determines whether a giver can distribute the same number of points to multiple recipients",1,"ngb-tooltip-class"],["cdkDrag","","cdkDragLockAxis","y",1,"row","margin-bottom-20px","padding-left-12px"],["cdkDragHandle",""],[1,"input-group-addon"],[1,"flex-grow-1"],[3,"isEditable","text","elementDeleted","textChange"]],template:function(e,t){1&e&&(n.Wb(0,"div",0),n.Rb(1,"br"),n.Wb(2,"div",1),n.Wb(3,"div",0),n.Wb(4,"div",2),n.ic("cdkDropListDropped",(function(e){return t.onConstsumOptionDropped(e)})),n.Oc(5,re,6,2,"div",3),n.Vb(),n.Vb(),n.Wb(6,"div",0),n.Wb(7,"div",4),n.Wb(8,"button",5),n.ic("click",(function(){return t.increaseNumberOfConstsumOptions()})),n.Rb(9,"i",6),n.Qc(10," add more options "),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Wb(11,"div",1),n.Wb(12,"div",0),n.Wb(13,"div",7),n.Wb(14,"b"),n.Qc(15,"Total Points to distribute:"),n.Vb(),n.Vb(),n.Wb(16,"div",8),n.Wb(17,"div",9),n.Wb(18,"label",10),n.Wb(19,"input",11),n.ic("ngModelChange",(function(e){return t.triggerModelChange("pointsPerOption",e)})),n.Vb(),n.Wb(20,"input",12),n.ic("ngModelChange",(function(e){return t.triggerModelChange("points",e)})),n.Vb(),n.Wb(21,"b",13),n.Qc(22,"in total"),n.Vb(),n.Vb(),n.Vb(),n.Wb(23,"div",9),n.Wb(24,"label",10),n.Wb(25,"input",14),n.ic("ngModelChange",(function(e){return t.triggerModelChange("pointsPerOption",e)})),n.Vb(),n.Wb(26,"input",15),n.ic("ngModelChange",(function(e){return t.triggerModelChange("points",e)})),n.Vb(),n.Wb(27,"b",16),n.Qc(28,"X (number of options)"),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Wb(29,"div",17),n.Wb(30,"label",10),n.Wb(31,"input",18),n.ic("ngModelChange",(function(e){return t.onForceUnevenDistribution(e)})),n.Vb(),n.Wb(32,"select",19),n.ic("ngModelChange",(function(e){return t.triggerModelChange("distributePointsFor",e)})),n.Wb(33,"option",20),n.Qc(34," Every option "),n.Vb(),n.Wb(35,"option",20),n.Qc(36," At least some options "),n.Vb(),n.Vb(),n.Wb(37,"b",21),n.Qc(38,"to receive a different number of points"),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Vb()),2&e&&(n.Cb(4),n.sc("cdkDropListDisabled",!t.isEditable),n.Cb(1),n.sc("ngForOf",t.model.constSumOptions)("ngForTrackBy",t.trackConstsumOption),n.Cb(3),n.sc("disabled",!t.isEditable),n.Cb(11),n.sc("ngModel",t.model.pointsPerOption)("value",!1)("disabled",!t.isEditable),n.Cb(1),n.sc("ngModel",t.model.pointsPerOption?"":t.model.points)("disabled",!t.isEditable||t.model.pointsPerOption),n.Cb(5),n.sc("ngModel",t.model.pointsPerOption)("value",!0)("disabled",!t.isEditable),n.Cb(1),n.sc("ngModel",t.model.pointsPerOption?t.model.points:"")("disabled",!t.isEditable||!t.model.pointsPerOption),n.Cb(5),n.sc("ngModel",t.model.forceUnevenDistribution)("disabled",!t.isEditable),n.Cb(1),n.sc("ngModel",t.model.distributePointsFor)("disabled",!t.isEditable||t.model.distributePointsFor===t.FeedbackConstantSumDistributePointsType.NONE),n.Cb(1),n.sc("value",t.FeedbackConstantSumDistributePointsType.DISTRIBUTE_ALL_UNEVENLY),n.Cb(2),n.sc("value",t.FeedbackConstantSumDistributePointsType.DISTRIBUTE_SOME_UNEVENLY))},directives:[k.c,b.t,g.c,g.x,g.p,g.s,g.v,u.w,g.a,g.B,g.u,g.E,k.a,k.b,oe],styles:[".margin-top-10px[_ngcontent-%COMP%]{margin-top:10px}.margin-bottom-20px[_ngcontent-%COMP%]{margin-bottom:20px}.padding-left-12px[_ngcontent-%COMP%]{padding-left:12px}.row[_ngcontent-%COMP%]{-ms-flex-align:center;align-items:center}.input-group-addon[_ngcontent-%COMP%]{cursor:move;resize:both;padding:.375rem .75rem;margin-bottom:0;font-weight:400;line-height:1.5;color:#495057;text-align:center;background-color:#e9ecef;border:1px solid #ced4da}",".cdk-drop-list-dragging[_ngcontent-%COMP%]   .cdk-drag[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .3s cubic-bezier(0,0,.2,1)}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}"]}),e})(),ae=(()=>{class e extends C{constructor(){super(Object(f.b)()),this.FeedbackConstantSumDistributePointsType=s.b}onForceUnevenDistribution(e){this.triggerModelChangeBatch({forceUnevenDistribution:e,distributePointsFor:e?s.b.DISTRIBUTE_ALL_UNEVENLY:s.b.NONE})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Kb({type:e,selectors:[["tm-constsum-recipients-question-edit-details-form"]],features:[n.zb],decls:33,vars:16,consts:[[1,"row"],[1,"col-12"],[1,"col-11","offset-half","margin-top-10px"],[1,"form-check"],[1,"form-row","form-check-label"],[1,"col-sm-3"],["id","total-points-radio","type","radio",1,"form-check-input",3,"ngModel","value","disabled","ngModelChange"],["id","total-points","type","number","min","1","step","1",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"col-sm-9","text-left"],["ngbTooltip","Respondents will have to distribute the total points specified here among the recipients, e.g. if you specify 100 points here and there are 3 recipients, respondents will have to distribute 100 points among 3 recipients.",1,"ngb-tooltip-class"],[1,"form-check-label","form-row"],["id","per-option-points-radio","type","radio",1,"form-check-input",3,"ngModel","value","disabled","ngModelChange"],["id","per-option-points","type","number","min","1","step","1",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"col-sm-9"],["ngbTooltip","The number of points to distribute will vary based on the number of recipients, e.g. if you specify 100 points here and there are 3 recipients, the total number of points to distribute among 3 recipients will be 300 (i.e. 100 x 3).",1,"ngb-tooltip-class"],[1,"form-row","form-check-label","col-sm-12","padding-left-33px","margin-top-10px"],["id","uneven-distribution-checkbox","type","checkbox",1,"form-check-input",3,"ngModel","disabled","ngModelChange"],["id","uneven-distribution-dropdown",1,"form-control",3,"ngModel","disabled","ngModelChange"],[3,"value"],["ngbTooltip","This determines whether a giver can distribute the same number of points to multiple recipients",1,"ngb-tooltip-class"]],template:function(e,t){1&e&&(n.Wb(0,"div",0),n.Rb(1,"br"),n.Wb(2,"div",1),n.Wb(3,"b"),n.Qc(4,"Total Points to distribute:"),n.Vb(),n.Vb(),n.Wb(5,"div",2),n.Wb(6,"div",3),n.Wb(7,"label",4),n.Wb(8,"div",5),n.Wb(9,"input",6),n.ic("ngModelChange",(function(e){return t.triggerModelChange("pointsPerOption",e)})),n.Vb(),n.Wb(10,"input",7),n.ic("ngModelChange",(function(e){return t.triggerModelChange("points",e)})),n.Vb(),n.Vb(),n.Wb(11,"div",8),n.Wb(12,"b",9),n.Qc(13,"in total"),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Wb(14,"div",3),n.Wb(15,"label",10),n.Wb(16,"div",5),n.Wb(17,"input",11),n.ic("ngModelChange",(function(e){return t.triggerModelChange("pointsPerOption",e)})),n.Vb(),n.Wb(18,"input",12),n.ic("ngModelChange",(function(e){return t.triggerModelChange("points",e)})),n.Vb(),n.Vb(),n.Wb(19,"div",13),n.Wb(20,"b",14),n.Qc(21,"X (number of recipients)"),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Wb(22,"label",15),n.Wb(23,"div",5),n.Wb(24,"input",16),n.ic("ngModelChange",(function(e){return t.onForceUnevenDistribution(e)})),n.Vb(),n.Wb(25,"select",17),n.ic("ngModelChange",(function(e){return t.triggerModelChange("distributePointsFor",e)})),n.Wb(26,"option",18),n.Qc(27," Every option "),n.Vb(),n.Wb(28,"option",18),n.Qc(29," At least some options "),n.Vb(),n.Vb(),n.Vb(),n.Wb(30,"div",13),n.Wb(31,"b",19),n.Qc(32,"to receive a different number of points"),n.Vb(),n.Vb(),n.Vb(),n.Vb()),2&e&&(n.Cb(9),n.sc("ngModel",t.model.pointsPerOption)("value",!1)("disabled",!t.isEditable),n.Cb(1),n.sc("ngModel",t.model.pointsPerOption?"":t.model.points)("disabled",!t.isEditable||t.model.pointsPerOption),n.Cb(7),n.sc("ngModel",t.model.pointsPerOption)("value",!0)("disabled",!t.isEditable),n.Cb(1),n.sc("ngModel",t.model.pointsPerOption?t.model.points:"")("disabled",!t.isEditable||!t.model.pointsPerOption),n.Cb(6),n.sc("ngModel",t.model.forceUnevenDistribution)("disabled",!t.isEditable),n.Cb(1),n.sc("ngModel",t.model.distributePointsFor)("disabled",!t.isEditable||t.model.distributePointsFor===t.FeedbackConstantSumDistributePointsType.NONE),n.Cb(1),n.sc("value",t.FeedbackConstantSumDistributePointsType.DISTRIBUTE_ALL_UNEVENLY),n.Cb(2),n.sc("value",t.FeedbackConstantSumDistributePointsType.DISTRIBUTE_SOME_UNEVENLY))},directives:[g.x,g.c,g.p,g.s,g.v,u.w,g.a,g.B,g.u,g.E],styles:[".margin-top-10px[_ngcontent-%COMP%]{margin-top:10px}.padding-left-33px[_ngcontent-%COMP%]{padding-left:33px}.form-row[_ngcontent-%COMP%]{-ms-flex-align:center;align-items:center}.offset-half[_ngcontent-%COMP%]{margin-left:4.16667%}"]}),e})();var le=i("RMfs"),de=i("UGSt");let he=(()=>{class e{transform(e){switch(e){case s.c.SELF:return"Feedback session creator (i.e., me)";case s.c.STUDENTS:return"Students in this course";case s.c.INSTRUCTORS:return"Instructors in this course";case s.c.TEAMS:return"Teams in this course";default:return"Unknown"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=n.Pb({name:"giverTypeDescription",type:e,pure:!0}),e})(),be=(()=>{class e{transform(e){switch(e){case s.c.SELF:return"Giver (Self feedback)";case s.c.STUDENTS:return"Other students in the course";case s.c.INSTRUCTORS:return"Instructors in the course";case s.c.TEAMS:return"Other teams in the course";case s.c.OWN_TEAM:return"Giver's team";case s.c.OWN_TEAM_MEMBERS:return"Giver's team members";case s.c.OWN_TEAM_MEMBERS_INCLUDING_SELF:return"Giver's team members and Giver";case s.c.NONE:return"Nobody specific (For general class feedback)";default:return"Unknown"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=n.Pb({name:"recipientTypeDescription",type:e,pure:!0}),e})(),ge=(()=>{class e{transform(e){switch(e){case o.a.SHOW_RESPONSE:return"Can see answer";case o.a.SHOW_RECIPIENT_NAME:return"Can see recipient's name";case o.a.SHOW_GIVER_NAME:return"Can see giver's name";default:return"Unknown"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=n.Pb({name:"visibilityControlName",type:e,pure:!0}),e})(),ue=(()=>{class e{transform(e){switch(e){case s.g.RECIPIENT:return"Control what feedback recipient(s) can view";case s.g.INSTRUCTORS:return"Control what instructors can view";case s.g.GIVER_TEAM_MEMBERS:return"Control what team members of feedback giver can view";case s.g.RECIPIENT_TEAM_MEMBERS:return"Control what team members of feedback recipients can view";case s.g.STUDENTS:return"Control what other students can view";default:return"Unknown"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=n.Pb({name:"visibilityTypeDescription",type:e,pure:!0}),e})(),pe=(()=>{class e{transform(e){switch(e){case s.g.RECIPIENT:return"Recipient(s)";case s.g.INSTRUCTORS:return"Instructors";case s.g.GIVER_TEAM_MEMBERS:return"Giver's Team Members";case s.g.RECIPIENT_TEAM_MEMBERS:return"Recipient's Team Members";case s.g.STUDENTS:return"Other students";default:return"Unknown"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=n.Pb({name:"visibilityTypeName",type:e,pure:!0}),e})();var me=i("QxDs"),fe=i("l12v");function Ce(e,t){if(1&e&&(n.Wb(0,"span",9),n.Qc(1),n.Vb()),2&e){const e=n.kc();n.Cb(1),n.Rc(e.model.questionNumber)}}function _e(e,t){if(1&e&&(n.Wb(0,"option",12),n.Qc(1),n.Vb()),2&e){const e=t.$implicit;n.sc("ngValue",e+1),n.Cb(1),n.Rc(e+1)}}function ve(e,t){if(1&e){const e=n.Xb();n.Wb(0,"select",10),n.ic("ngModelChange",(function(t){return n.Fc(e),n.kc().triggerModelChange("questionNumber",t)}))("click",(function(t){return n.Fc(e),t.stopPropagation()})),n.Oc(1,_e,2,2,"option",11),n.Vb()}if(2&e){const e=n.kc();n.sc("ngModel",e.model.questionNumber),n.Cb(1),n.sc("ngForOf",e.range(e.numOfQuestions))}}function ke(e,t){if(1&e&&(n.Ub(0),n.Rb(1,"br"),n.Wb(2,"div",13),n.Qc(3),n.Vb(),n.Tb()),2&e){const e=n.kc();n.Cb(3),n.Rc(e.model.questionBrief)}}function Me(e,t){if(1&e){const e=n.Xb();n.Wb(0,"button",21),n.ic("click",(function(t){return n.Fc(e),n.kc(2).triggerModelChangeBatch({isEditable:!0,isCollapsed:!1}),t.stopPropagation()})),n.Rb(1,"i",22),n.Qc(2," Edit "),n.Vb()}if(2&e){const e=n.kc(2);n.sc("disabled",e.model.isSaving)}}function Ee(e,t){1&e&&n.Rb(0,"tm-ajax-loading")}function Oe(e,t){if(1&e){const e=n.Xb();n.Wb(0,"button",23),n.ic("click",(function(t){return n.Fc(e),n.kc(2).saveQuestionHandler(),t.stopPropagation()})),n.Oc(1,Ee,1,0,"tm-ajax-loading",7),n.Rb(2,"i",24),n.Qc(3," Save "),n.Vb()}if(2&e){const e=n.kc(2);n.sc("disabled",e.model.isSaving),n.Cb(1),n.sc("ngIf",e.model.isSaving)}}function ye(e,t){if(1&e){const e=n.Xb();n.Wb(0,"button",25),n.ic("click",(function(t){return n.Fc(e),n.kc(2).discardChangesHandler(!1),t.stopPropagation()})),n.Rb(1,"i",26),n.Qc(2," Cancel "),n.Vb()}if(2&e){const e=n.kc(2);n.sc("disabled",e.model.isSaving)}}function xe(e,t){if(1&e){const e=n.Xb();n.Wb(0,"div"),n.Oc(1,Me,3,1,"button",14),n.Oc(2,Oe,4,2,"button",15),n.Oc(3,ye,3,1,"button",16),n.Wb(4,"button",17),n.ic("click",(function(t){return n.Fc(e),n.kc().deleteCurrentQuestionHandler(),t.stopPropagation()})),n.Rb(5,"i",18),n.Qc(6," Delete "),n.Vb(),n.Wb(7,"button",19),n.ic("click",(function(t){return n.Fc(e),n.kc().duplicateCurrentQuestionHandler(),t.stopPropagation()})),n.Rb(8,"i",20),n.Qc(9," Duplicate "),n.Vb(),n.Vb()}if(2&e){const e=n.kc();n.Cb(1),n.sc("ngIf",!e.model.isEditable),n.Cb(1),n.sc("ngIf",e.model.isEditable),n.Cb(1),n.sc("ngIf",e.model.isEditable),n.Cb(1),n.sc("disabled",e.model.isSaving),n.Cb(3),n.sc("disabled",e.model.isSaving)}}function we(e,t){if(1&e){const e=n.Xb();n.Wb(0,"div"),n.Wb(1,"button",25),n.ic("click",(function(t){return n.Fc(e),n.kc().discardChangesHandler(!0),t.stopPropagation()})),n.Rb(2,"i",26),n.Qc(3," Cancel "),n.Vb(),n.Vb()}if(2&e){const e=n.kc();n.Cb(1),n.sc("disabled",e.model.isSaving)}}function Se(e,t){if(1&e){const e=n.Xb();n.Wb(0,"tm-text-question-edit-details-form",63),n.ic("detailsChange",(function(t){return n.Fc(e),n.kc(2).triggerModelChange("questionDetails",t)})),n.Vb()}if(2&e){const e=n.kc(2);n.sc("details",e.model.questionDetails)("isEditable",e.model.isEditable)}}function Te(e,t){if(1&e){const e=n.Xb();n.Wb(0,"tm-contribution-question-edit-details-form",63),n.ic("detailsChange",(function(t){return n.Fc(e),n.kc(2).triggerModelChange("questionDetails",t)})),n.Vb()}if(2&e){const e=n.kc(2);n.sc("details",e.model.questionDetails)("isEditable",e.model.isEditable)}}function De(e,t){if(1&e){const e=n.Xb();n.Wb(0,"tm-mcq-question-edit-details-form",63),n.ic("detailsChange",(function(t){return n.Fc(e),n.kc(2).triggerModelChange("questionDetails",t)})),n.Vb()}if(2&e){const e=n.kc(2);n.sc("details",e.model.questionDetails)("isEditable",e.model.isEditable)}}function We(e,t){if(1&e){const e=n.Xb();n.Wb(0,"tm-msq-question-edit-details-form",63),n.ic("detailsChange",(function(t){return n.Fc(e),n.kc(2).triggerModelChange("questionDetails",t)})),n.Vb()}if(2&e){const e=n.kc(2);n.sc("details",e.model.questionDetails)("isEditable",e.model.isEditable)}}function Ve(e,t){if(1&e){const e=n.Xb();n.Wb(0,"tm-num-scale-question-edit-details-form",63),n.ic("detailsChange",(function(t){return n.Fc(e),n.kc(2).triggerModelChange("questionDetails",t)})),n.Vb()}if(2&e){const e=n.kc(2);n.sc("details",e.model.questionDetails)("isEditable",e.model.isEditable)}}function Re(e,t){if(1&e){const e=n.Xb();n.Wb(0,"tm-rank-options-question-edit-details-form",63),n.ic("detailsChange",(function(t){return n.Fc(e),n.kc(2).triggerModelChange("questionDetails",t)})),n.Vb()}if(2&e){const e=n.kc(2);n.sc("details",e.model.questionDetails)("isEditable",e.model.isEditable)}}function Pe(e,t){if(1&e){const e=n.Xb();n.Wb(0,"tm-rank-recipients-question-edit-details-form",63),n.ic("detailsChange",(function(t){return n.Fc(e),n.kc(2).triggerModelChange("questionDetails",t)})),n.Vb()}if(2&e){const e=n.kc(2);n.sc("details",e.model.questionDetails)("isEditable",e.model.isEditable)}}function Ie(e,t){if(1&e){const e=n.Xb();n.Wb(0,"tm-rubric-question-edit-details-form",63),n.ic("detailsChange",(function(t){return n.Fc(e),n.kc(2).triggerModelChange("questionDetails",t)})),n.Vb()}if(2&e){const e=n.kc(2);n.sc("details",e.model.questionDetails)("isEditable",e.model.isEditable)}}function Fe(e,t){if(1&e){const e=n.Xb();n.Wb(0,"tm-constsum-options-question-edit-details-form",63),n.ic("detailsChange",(function(t){return n.Fc(e),n.kc(2).triggerModelChange("questionDetails",t)})),n.Vb()}if(2&e){const e=n.kc(2);n.sc("details",e.model.questionDetails)("isEditable",e.model.isEditable)}}function qe(e,t){if(1&e){const e=n.Xb();n.Wb(0,"tm-constsum-recipients-question-edit-details-form",63),n.ic("detailsChange",(function(t){return n.Fc(e),n.kc(2).triggerModelChange("questionDetails",t)})),n.Vb()}if(2&e){const e=n.kc(2);n.sc("details",e.model.questionDetails)("isEditable",e.model.isEditable)}}function Ne(e,t){if(1&e&&(n.Wb(0,"span"),n.Qc(1),n.lc(2,"giverTypeDescription"),n.Rb(3,"i",64),n.Qc(4),n.lc(5,"recipientTypeDescription"),n.Vb()),2&e){const e=n.kc(2);n.Cb(1),n.Sc(" ",n.mc(2,2,e.model.giverType)," will give feedback on "),n.Cb(3),n.Sc(" ",n.mc(5,4,e.model.recipientType)," ")}}function Qe(e,t){1&e&&(n.Wb(0,"span"),n.Qc(1,"Custom feedback path"),n.Vb())}function Ae(e,t){if(1&e){const e=n.Xb();n.Wb(0,"li",48),n.ic("click",(function(){n.Fc(e);const i=t.$implicit,s=n.kc().$implicit;n.kc();const o=n.Cc(36);return n.kc().changeGiverRecipientType(s.key,i),o.close()})),n.Qc(1),n.lc(2,"recipientTypeDescription"),n.Vb()}if(2&e){const e=t.$implicit;n.Cb(1),n.Rc(n.mc(2,1,e))}}function Be(e,t){if(1&e){const e=n.Xb();n.Wb(0,"li",65),n.Wb(1,"div",66,67),n.ic("mouseenter",(function(){return n.Fc(e),n.Cc(2).open()}))("mouseleave",(function(){return n.Fc(e),n.Cc(2).close()})),n.Rb(3,"span",68),n.Qc(4),n.lc(5,"giverTypeDescription"),n.Rb(6,"i",69),n.Wb(7,"ul",70),n.Oc(8,Ae,3,3,"li",56),n.Vb(),n.Vb(),n.Vb()}if(2&e){const e=t.$implicit;n.Cb(4),n.Sc(" ",n.mc(5,2,e.key)," will give feedback on ... "),n.Cb(4),n.sc("ngForOf",e.value)}}function Le(e,t){if(1&e&&(n.Wb(0,"option",12),n.Qc(1),n.lc(2,"giverTypeDescription"),n.Vb()),2&e){const e=t.$implicit;n.sc("ngValue",e.key),n.Cb(1),n.Rc(n.mc(2,2,e.key))}}function Ue(e,t){if(1&e&&(n.Wb(0,"option",12),n.Qc(1),n.lc(2,"recipientTypeDescription"),n.Vb()),2&e){const e=t.$implicit;n.sc("ngValue",e),n.Cb(1),n.Rc(n.mc(2,2,e))}}function je(e,t){if(1&e){const e=n.Xb();n.Wb(0,"div",71),n.Wb(1,"div",72),n.Wb(2,"div",29),n.Wb(3,"div",30),n.Wb(4,"strong"),n.Qc(5,"Who will give the feedback:"),n.Vb(),n.Vb(),n.Vb(),n.Wb(6,"div",29),n.Wb(7,"div",30),n.Wb(8,"select",73),n.ic("ngModelChange",(function(t){n.Fc(e);const i=n.kc(2);return i.changeGiverRecipientType(t,i.model.recipientType)})),n.Oc(9,Le,3,4,"option",11),n.lc(10,"keyvalue"),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Wb(11,"div",72),n.Wb(12,"div",29),n.Wb(13,"div",30),n.Wb(14,"strong"),n.Qc(15,"Who the feedback is about:"),n.Vb(),n.Vb(),n.Vb(),n.Wb(16,"div",29),n.Wb(17,"div",30),n.Wb(18,"select",74),n.ic("ngModelChange",(function(t){n.Fc(e);const i=n.kc(2);return i.changeGiverRecipientType(i.model.giverType,t)})),n.Oc(19,Ue,3,4,"option",11),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Vb()}if(2&e){const e=n.kc(2);n.Cb(8),n.sc("ngModel",e.model.giverType)("disabled",!e.model.isEditable),n.Cb(1),n.sc("ngForOf",n.mc(10,6,e.allowedFeedbackPaths)),n.Cb(9),n.sc("ngModel",e.model.recipientType)("disabled",!e.model.isEditable),n.Cb(1),n.sc("ngForOf",e.allowedFeedbackPaths.get(e.model.giverType))}}function Ge(e,t){if(1&e){const e=n.Xb();n.Wb(0,"div",75),n.Wb(1,"div",76),n.Qc(2),n.lc(3,"lowercase"),n.Vb(),n.Wb(4,"div",32),n.Wb(5,"div",77),n.Wb(6,"div",78),n.Wb(7,"div",79),n.Wb(8,"input",80),n.ic("ngModelChange",(function(t){return n.Fc(e),n.kc(2).triggerModelChange("numberOfEntitiesToGiveFeedbackToSetting",t)})),n.Vb(),n.Vb(),n.Vb(),n.Wb(9,"input",81),n.ic("ngModelChange",(function(t){return n.Fc(e),n.kc(2).triggerModelChange("customNumberOfEntitiesToGiveFeedbackTo",t)})),n.Vb(),n.Vb(),n.Vb(),n.Wb(10,"div",32),n.Wb(11,"div",82),n.Wb(12,"label",83),n.Wb(13,"input",84),n.ic("ngModelChange",(function(t){return n.Fc(e),n.kc(2).triggerModelChange("numberOfEntitiesToGiveFeedbackToSetting",t)})),n.Vb(),n.Qc(14," Unlimited "),n.Vb(),n.Vb(),n.Vb(),n.Vb()}if(2&e){const e=n.kc(2);n.Cb(2),n.Sc(" The maximum number of ",n.mc(3,11,e.model.recipientType)," each respondent should give feedback to: "),n.Cb(6),n.sc("name",e.model.feedbackQuestionId+"numOfRecipients")("ngModel",e.model.numberOfEntitiesToGiveFeedbackToSetting)("value",e.NumberOfEntitiesToGiveFeedbackToSetting.CUSTOM)("disabled",!e.model.isEditable),n.Cb(1),n.sc("ngModel",e.model.customNumberOfEntitiesToGiveFeedbackTo)("disabled",e.model.numberOfEntitiesToGiveFeedbackToSetting!=e.NumberOfEntitiesToGiveFeedbackToSetting.CUSTOM||!e.model.isEditable),n.Cb(4),n.sc("name",e.model.feedbackQuestionId+"numOfRecipients")("ngModel",e.model.numberOfEntitiesToGiveFeedbackToSetting)("value",e.NumberOfEntitiesToGiveFeedbackToSetting.UNLIMITED)("disabled",!e.model.isEditable)}}function ze(e,t){1&e&&(n.Wb(0,"div"),n.Wb(1,"h5"),n.Qc(2,"Changing the visibility after collecting responses is not recommended."),n.Vb(),n.Wb(3,"p"),n.Qc(4,"Reason: The existing responses were submitted under the 'promise' of a certain visibility and changing the visibility later 'breaks' that promise."),n.Vb(),n.Vb())}function He(e,t){if(1&e&&(n.Wb(0,"span"),n.Qc(1),n.Vb()),2&e){const e=n.kc(2);n.Cb(1),n.Sc(" ",e.model.commonVisibilitySettingName," ")}}function Xe(e,t){1&e&&(n.Wb(0,"span"),n.Qc(1,"Custom visibility options"),n.Vb())}function $e(e,t){if(1&e){const e=n.Xb();n.Wb(0,"li",48),n.ic("click",(function(){n.Fc(e);const i=t.$implicit;return n.kc(2).applyCommonVisibilitySettings(i)})),n.Qc(1),n.Vb()}if(2&e){const e=t.$implicit;n.Cb(1),n.Rc(e.name)}}function Ke(e,t){1&e&&n.Rb(0,"li",47)}function Ye(e,t){if(1&e){const e=n.Xb();n.Wb(0,"li",48),n.ic("click",(function(){return n.Fc(e),n.kc(2).triggerModelChange("isUsingOtherVisibilitySetting",!0)})),n.Qc(1,"Custom visibility options..."),n.Vb()}}function Ze(e,t){if(1&e&&(n.Wb(0,"th",89),n.Qc(1),n.lc(2,"visibilityControlName"),n.Vb()),2&e){const e=t.$implicit;n.Cb(1),n.Rc(n.mc(2,1,e))}}function Je(e,t){if(1&e){const e=n.Xb();n.Wb(0,"td",92),n.Wb(1,"input",93),n.ic("click",(function(i){n.Fc(e);const s=t.$implicit,o=n.kc(2).$implicit;return n.kc(3).modifyVisibilityControl(i.target.checked,o,s)})),n.Vb(),n.Vb()}if(2&e){const e=t.$implicit,i=n.kc(2).$implicit,s=n.kc(3);n.Cb(1),n.sc("checked",s.visibilityStateMachine.isVisible(i,e))("disabled",!s.visibilityStateMachine.isCellEditable(i,e)||!s.model.isEditable)}}function et(e,t){if(1&e&&(n.Wb(0,"tr"),n.Wb(1,"td"),n.Wb(2,"span",90),n.lc(3,"visibilityTypeDescription"),n.Qc(4),n.lc(5,"visibilityTypeName"),n.Vb(),n.Vb(),n.Oc(6,Je,2,2,"td",91),n.lc(7,"enumToArray"),n.Vb()),2&e){const e=n.kc().$implicit,t=n.kc(3);n.Cb(2),n.sc("ngbTooltip",n.mc(3,3,e)),n.Cb(2),n.Rc(n.mc(5,5,e)),n.Cb(2),n.sc("ngForOf",n.mc(7,7,t.VisibilityControl))}}function tt(e,t){if(1&e&&(n.Ub(0),n.Oc(1,et,8,9,"tr",7),n.Tb()),2&e){const e=t.$implicit,i=n.kc(3);n.Cb(1),n.sc("ngIf",i.visibilityStateMachine.isVisibilityTypeApplicable(e))}}function it(e,t){if(1&e&&(n.Wb(0,"table",85),n.Wb(1,"thead"),n.Wb(2,"tr"),n.Wb(3,"th",86),n.Qc(4,"User/Group"),n.Vb(),n.Oc(5,Ze,3,3,"th",87),n.lc(6,"enumToArray"),n.Vb(),n.Vb(),n.Wb(7,"tbody",88),n.Oc(8,tt,2,1,"ng-container",62),n.lc(9,"enumToArray"),n.Vb(),n.Vb()),2&e){const e=n.kc(2);n.Cb(5),n.sc("ngForOf",n.mc(6,2,e.VisibilityControl)),n.Cb(3),n.sc("ngForOf",n.mc(9,4,e.FeedbackVisibilityType))}}function nt(e,t){1&e&&(n.Wb(0,"li"),n.Qc(1,"You can see your own feedback in the results page later on."),n.Vb())}function st(e,t){if(1&e&&(n.Wb(0,"li"),n.Qc(1),n.lc(2,"visibilityEntityName"),n.lc(3,"visibilityCapability"),n.Vb()),2&e){const e=n.kc().$implicit,t=n.kc(2);n.Cb(1),n.Tc(" ",n.pc(2,2,e,t.model.recipientType,t.model.numberOfEntitiesToGiveFeedbackToSetting,t.model.customNumberOfEntitiesToGiveFeedbackTo)," ",n.mc(3,7,t.visibilityStateMachine.getVisibilityControlUnderVisibilityType(e))," ")}}function ot(e,t){if(1&e&&(n.Ub(0),n.Oc(1,st,4,9,"li",7),n.Tb()),2&e){const e=t.$implicit,i=n.kc(2);n.Cb(1),n.sc("ngIf",i.visibilityStateMachine.isVisibilityTypeApplicable(e)&&i.visibilityStateMachine.hasAnyVisibilityControl(e))}}function rt(e,t){1&e&&(n.Wb(0,"li"),n.Qc(1,"No-one can see your responses"),n.Vb())}function ct(e,t){if(1&e){const e=n.Xb();n.Wb(0,"button",98),n.ic("click",(function(){return n.Fc(e),n.kc(3).discardChangesHandler(!1)})),n.Rb(1,"i",26),n.Qc(2," Cancel "),n.Vb()}if(2&e){const e=n.kc(3);n.sc("disabled",e.model.isSaving)}}function at(e,t){1&e&&n.Rb(0,"tm-ajax-loading")}function lt(e,t){1&e&&(n.Wb(0,"span"),n.Rb(1,"i",24),n.Qc(2," Save Changes"),n.Vb())}function dt(e,t){1&e&&(n.Wb(0,"span",99),n.Rb(1,"i",24),n.Qc(2," Save Question"),n.Vb())}function ht(e,t){if(1&e){const e=n.Xb();n.Wb(0,"div",71),n.Wb(1,"div",94),n.Oc(2,ct,3,1,"button",95),n.Wb(3,"button",96),n.ic("click",(function(){return n.Fc(e),n.kc(2).saveQuestionHandler()})),n.Oc(4,at,1,0,"tm-ajax-loading",7),n.Oc(5,lt,3,0,"span",7),n.Oc(6,dt,3,0,"span",97),n.Vb(),n.Vb(),n.Vb()}if(2&e){const e=n.kc(2);n.Cb(2),n.sc("ngIf",e.model.isEditable),n.Cb(1),n.sc("disabled",!e.model.isEditable||e.model.isSaving),n.Cb(1),n.sc("ngIf",e.model.isSaving),n.Cb(1),n.sc("ngIf",e.formMode===e.QuestionEditFormMode.EDIT),n.Cb(1),n.sc("ngIf",e.formMode===e.QuestionEditFormMode.ADD)}}const bt=function(e,t){return{"background-color-light-green":e,"alert alert-danger":t}},gt=function(e){return{"visibility-title":e}};function ut(e,t){if(1&e){const e=n.Xb();n.Wb(0,"div"),n.Wb(1,"div",27),n.Wb(2,"div",28),n.Wb(3,"div",29),n.Wb(4,"div",30),n.Wb(5,"div",31),n.Wb(6,"div",32),n.Wb(7,"div",33),n.Qc(8,"Question"),n.Vb(),n.Vb(),n.Wb(9,"div",34),n.Wb(10,"textarea",35),n.ic("ngModelChange",(function(t){return n.Fc(e),n.kc().triggerModelChange("questionBrief",t)})),n.Vb(),n.Vb(),n.Vb(),n.Wb(11,"div",31),n.Wb(12,"div",32),n.Wb(13,"div",33),n.Qc(14,"[Optional]"),n.Rb(15,"br"),n.Qc(16,"Description"),n.Vb(),n.Vb(),n.Wb(17,"div",34),n.Wb(18,"tm-rich-text-editor",36),n.ic("richTextChange",(function(t){return n.Fc(e),n.kc().triggerModelChange("questionDescription",t)})),n.Vb(),n.Vb(),n.Vb(),n.Wb(19,"div",37),n.Oc(20,Se,1,2,"tm-text-question-edit-details-form",38),n.Oc(21,Te,1,2,"tm-contribution-question-edit-details-form",38),n.Oc(22,De,1,2,"tm-mcq-question-edit-details-form",38),n.Oc(23,We,1,2,"tm-msq-question-edit-details-form",38),n.Oc(24,Ve,1,2,"tm-num-scale-question-edit-details-form",38),n.Oc(25,Re,1,2,"tm-rank-options-question-edit-details-form",38),n.Oc(26,Pe,1,2,"tm-rank-recipients-question-edit-details-form",38),n.Oc(27,Ie,1,2,"tm-rubric-question-edit-details-form",38),n.Oc(28,Fe,1,2,"tm-constsum-options-question-edit-details-form",38),n.Oc(29,qe,1,2,"tm-constsum-recipients-question-edit-details-form",38),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Wb(30,"div",39),n.Wb(31,"div"),n.Wb(32,"b",40),n.Qc(33,"Feedback Path"),n.Vb(),n.Qc(34," (Who is giving feedback about whom?) "),n.Vb(),n.Wb(35,"div",41,42),n.Wb(37,"button",43),n.Oc(38,Ne,6,6,"span",7),n.Oc(39,Qe,2,0,"span",7),n.Vb(),n.Wb(40,"ul",44),n.Wb(41,"li",45),n.Qc(42,"Common feedback path combinations"),n.Vb(),n.Oc(43,Be,9,4,"li",46),n.lc(44,"keyvalue"),n.Rb(45,"li",47),n.Wb(46,"li",48),n.ic("click",(function(){n.Fc(e);const t=n.Cc(36);return n.kc().triggerModelChange("isUsingOtherFeedbackPath",!0),t.close()})),n.Qc(47,"Custom feedback path..."),n.Vb(),n.Vb(),n.Vb(),n.Oc(48,je,20,8,"div",49),n.Oc(49,Ge,15,13,"div",50),n.Vb(),n.Wb(50,"div",51),n.Wb(51,"div"),n.Oc(52,ze,5,0,"div",7),n.Wb(53,"b",52),n.Qc(54,"Visibility"),n.Vb(),n.Qc(55," (Who can see the responses?) "),n.Vb(),n.Wb(56,"div",53),n.Wb(57,"button",54),n.Oc(58,He,2,1,"span",7),n.Oc(59,Xe,2,0,"span",7),n.Vb(),n.Wb(60,"ul",55),n.Wb(61,"li",45),n.Qc(62,"Common visibility options"),n.Vb(),n.Oc(63,$e,2,1,"li",56),n.Oc(64,Ke,1,0,"li",57),n.Oc(65,Ye,2,0,"li",58),n.Vb(),n.Vb(),n.Oc(66,it,10,6,"table",59),n.Wb(67,"div",60),n.Qc(68," This is the visibility hint as seen by the feedback giver: "),n.Wb(69,"ul",61),n.Oc(70,nt,2,0,"li",7),n.Oc(71,ot,2,1,"ng-container",62),n.lc(72,"enumToArray"),n.Oc(73,rt,2,0,"li",7),n.Vb(),n.Vb(),n.Vb(),n.Oc(74,ht,7,5,"div",49),n.Vb(),n.Vb()}if(2&e){const e=n.kc();n.sc("@collapseAnim",void 0),n.Cb(10),n.sc("ngModel",e.model.questionBrief)("disabled",!e.model.isEditable),n.Cb(8),n.sc("richText",e.model.questionDescription)("isDisabled",!e.model.isEditable),n.Cb(2),n.sc("ngIf",e.model.questionType===e.FeedbackQuestionType.TEXT),n.Cb(1),n.sc("ngIf",e.model.questionType===e.FeedbackQuestionType.CONTRIB),n.Cb(1),n.sc("ngIf",e.model.questionType===e.FeedbackQuestionType.MCQ),n.Cb(1),n.sc("ngIf",e.model.questionType===e.FeedbackQuestionType.MSQ),n.Cb(1),n.sc("ngIf",e.model.questionType===e.FeedbackQuestionType.NUMSCALE),n.Cb(1),n.sc("ngIf",e.model.questionType===e.FeedbackQuestionType.RANK_OPTIONS),n.Cb(1),n.sc("ngIf",e.model.questionType===e.FeedbackQuestionType.RANK_RECIPIENTS),n.Cb(1),n.sc("ngIf",e.model.questionType===e.FeedbackQuestionType.RUBRIC),n.Cb(1),n.sc("ngIf",e.model.questionType===e.FeedbackQuestionType.CONSTSUM_OPTIONS),n.Cb(1),n.sc("ngIf",e.model.questionType===e.FeedbackQuestionType.CONSTSUM_RECIPIENTS),n.Cb(8),n.sc("disabled",!e.model.isEditable||1===e.commonFeedbackPaths.size),n.Cb(1),n.sc("ngIf",!e.model.isUsingOtherFeedbackPath),n.Cb(1),n.sc("ngIf",e.model.isUsingOtherFeedbackPath),n.Cb(4),n.sc("ngForOf",n.mc(44,35,e.commonFeedbackPaths)),n.Cb(5),n.sc("ngIf",e.model.isUsingOtherFeedbackPath),n.Cb(1),n.sc("ngIf",e.model.recipientType===e.FeedbackParticipantType.STUDENTS||e.model.recipientType===e.FeedbackParticipantType.TEAMS||e.model.recipientType===e.FeedbackParticipantType.INSTRUCTORS),n.Cb(1),n.sc("ngClass",n.xc(39,bt,!e.model.isQuestionHasResponses,e.model.isQuestionHasResponses)),n.Cb(2),n.sc("ngIf",e.model.isQuestionHasResponses),n.Cb(1),n.sc("ngClass",n.wc(42,gt,!e.model.isQuestionHasResponses)),n.Cb(4),n.sc("disabled",!e.model.isEditable),n.Cb(1),n.sc("ngIf",!e.model.isUsingOtherVisibilitySetting),n.Cb(1),n.sc("ngIf",e.model.isUsingOtherVisibilitySetting),n.Cb(4),n.sc("ngForOf",e.commonFeedbackVisibilitySettings),n.Cb(1),n.sc("ngIf",e.isCustomFeedbackVisibilitySettingAllowed),n.Cb(1),n.sc("ngIf",e.isCustomFeedbackVisibilitySettingAllowed),n.Cb(1),n.sc("ngIf",e.model.isUsingOtherVisibilitySetting),n.Cb(4),n.sc("ngIf",e.model.recipientType===e.FeedbackParticipantType.SELF),n.Cb(1),n.sc("ngForOf",n.mc(72,37,e.FeedbackVisibilityType)),n.Cb(2),n.sc("ngIf",!e.visibilityStateMachine.hasAnyVisibilityControlForAll()),n.Cb(1),n.sc("ngIf",!e.isDisplayOnly)}}const pt=new Set(["giverType","recipientType","isUsingOtherFeedbackPath","numberOfEntitiesToGiveFeedbackToSetting","customNumberOfEntitiesToGiveFeedbackTo"]),mt=new Set(["isUsingOtherVisibilitySetting","showResponsesTo","showGiverNameTo","showRecipientNameTo","commonVisibilitySettingName"]),ft=new Set(["questionBrief","questionDescription","questionDetails","questionNumber"]);let Ct=(()=>{class e{constructor(e,t){this.feedbackQuestionsService=e,this.simpleModalService=t,this.FeedbackQuestionType=s.d,this.QuestionEditFormMode=a.a,this.FeedbackParticipantType=s.c,this.NumberOfEntitiesToGiveFeedbackToSetting=s.m,this.VisibilityControl=o.a,this.FeedbackVisibilityType=s.g,this.numOfQuestions=0,this.formMode=a.a.EDIT,this.isDisplayOnly=!1,this.model={feedbackQuestionId:"",questionNumber:0,questionBrief:"",questionDescription:"",isQuestionHasResponses:!1,questionType:s.d.TEXT,questionDetails:{questionType:s.d.TEXT,questionText:""},giverType:s.c.STUDENTS,recipientType:s.c.STUDENTS,numberOfEntitiesToGiveFeedbackToSetting:s.m.UNLIMITED,customNumberOfEntitiesToGiveFeedbackTo:1,showResponsesTo:[],showGiverNameTo:[],showRecipientNameTo:[],commonVisibilitySettingName:"",isUsingOtherFeedbackPath:!1,isUsingOtherVisibilitySetting:!1,isEditable:!1,isSaving:!1,isCollapsed:!1,isVisibilityChanged:!1,isFeedbackPathChanged:!1,isQuestionDetailsChanged:!1},this.formModelChange=new n.n,this.saveExistingQuestionEvent=new n.n,this.deleteCurrentQuestionEvent=new n.n,this.duplicateCurrentQuestionEvent=new n.n,this.discardExistingQuestionChangesEvent=new n.n,this.discardNewQuestionEvent=new n.n,this.createNewQuestionEvent=new n.n,this.commonFeedbackPaths=new Map,this.allowedFeedbackPaths=new Map,this.commonFeedbackVisibilitySettings=[],this.visibilityStateMachine=this.feedbackQuestionsService.getNewVisibilityStateMachine(this.model.giverType,this.model.recipientType)}set formModel(e){this.model=e,this.commonFeedbackPaths=this.feedbackQuestionsService.getCommonFeedbackPaths(e.questionType),this.allowedFeedbackPaths=this.feedbackQuestionsService.getAllowedFeedbackPaths(e.questionType),this.visibilityStateMachine=this.feedbackQuestionsService.getNewVisibilityStateMachine(e.giverType,e.recipientType),this.commonFeedbackVisibilitySettings=this.feedbackQuestionsService.getCommonFeedbackVisibilitySettings(this.visibilityStateMachine,e.questionType);const t={SHOW_RESPONSE:e.showResponsesTo,SHOW_GIVER_NAME:e.showGiverNameTo,SHOW_RECIPIENT_NAME:e.showRecipientNameTo};if(this.visibilityStateMachine.applyVisibilitySettings(t),e.isUsingOtherFeedbackPath||(this.model.isUsingOtherFeedbackPath=!0,this.commonFeedbackPaths.has(e.giverType)&&this.commonFeedbackPaths.get(e.giverType).includes(e.recipientType)&&(this.model.isUsingOtherFeedbackPath=!1)),!e.commonVisibilitySettingName&&!e.isUsingOtherVisibilitySetting){this.model.isUsingOtherVisibilitySetting=!0;for(const e of this.commonFeedbackVisibilitySettings)if(this.isSameSet(t.SHOW_RESPONSE,e.visibilitySettings.SHOW_RESPONSE)&&this.isSameSet(t.SHOW_GIVER_NAME,e.visibilitySettings.SHOW_GIVER_NAME)&&this.isSameSet(t.SHOW_RECIPIENT_NAME,e.visibilitySettings.SHOW_RECIPIENT_NAME)){this.model.commonVisibilitySettingName=e.name,this.model.isUsingOtherVisibilitySetting=!1;break}}}get isCustomFeedbackVisibilitySettingAllowed(){return this.feedbackQuestionsService.isCustomFeedbackVisibilitySettingAllowed(this.model.questionType)}isSameSet(e,t){return e.length===t.length&&e.every(e=>t.includes(e))}ngOnInit(){}triggerModelChange(e,t){this.formModelChange.emit(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.model),{[e]:t}),!this.model.isVisibilityChanged&&mt.has(e)&&{isVisibilityChanged:!0}),!this.model.isFeedbackPathChanged&&pt.has(e)&&{isFeedbackPathChanged:!0}),!this.model.isQuestionDetailsChanged&&ft.has(e)&&{isQuestionDetailsChanged:!0}))}triggerModelChangeBatch(e){this.formModelChange.emit(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.model),e),!this.model.isVisibilityChanged&&Object.keys(e).some(e=>mt.has(e))&&{isVisibilityChanged:!0}),!this.model.isFeedbackPathChanged&&Object.keys(e).some(e=>pt.has(e))&&{isFeedbackPathChanged:!0}),!this.model.isQuestionDetailsChanged&&Object.keys(e).some(e=>ft.has(e))&&{isQuestionDetailsChanged:!0}))}changeGiverRecipientType(e,t){const i=this.allowedFeedbackPaths.get(e);let n=t;-1===i.indexOf(t)&&(n=i[0]),this.model.giverType===e&&this.model.recipientType===n?this.model.isUsingOtherFeedbackPath&&this.triggerModelChangeBatch({isUsingOtherFeedbackPath:!1}):this.triggerModelChangeBatch({giverType:e,recipientType:n,commonVisibilitySettingName:"Please select a visibility option",isUsingOtherFeedbackPath:!1,isUsingOtherVisibilitySetting:!1,showResponsesTo:[],showGiverNameTo:[],showRecipientNameTo:[]})}applyCommonVisibilitySettings(e){this.triggerModelChangeBatch({showResponsesTo:e.visibilitySettings.SHOW_RESPONSE,showGiverNameTo:e.visibilitySettings.SHOW_GIVER_NAME,showRecipientNameTo:e.visibilitySettings.SHOW_RECIPIENT_NAME,commonVisibilitySettingName:e.name,isUsingOtherVisibilitySetting:!1})}modifyVisibilityControl(e,t,i){e?this.visibilityStateMachine.allowToSee(t,i):this.visibilityStateMachine.disallowToSee(t,i),this.triggerModelChangeBatch({showResponsesTo:this.visibilityStateMachine.getVisibilityTypesUnderVisibilityControl(o.a.SHOW_RESPONSE),showGiverNameTo:this.visibilityStateMachine.getVisibilityTypesUnderVisibilityControl(o.a.SHOW_GIVER_NAME),showRecipientNameTo:this.visibilityStateMachine.getVisibilityTypesUnderVisibilityControl(o.a.SHOW_RECIPIENT_NAME)})}range(e){const t=[];for(let i=0;i<e;i+=1)t.push(i);return t}discardChangesHandler(e){this.model.isVisibilityChanged||this.model.isFeedbackPathChanged||this.model.isQuestionDetailsChanged?this.simpleModalService.openConfirmationModal(`Discard unsaved ${e?"question":"edits"}?`,r.a.WARNING,"Warning: Any unsaved changes will be lost").result.then(()=>{this.discardChanges()},()=>{}):this.discardChanges()}discardChanges(){this.formMode===a.a.EDIT&&this.discardExistingQuestionChangesEvent.emit(),this.formMode===a.a.ADD&&this.discardNewQuestionEvent.emit()}saveQuestionHandler(){if(this.formMode===a.a.EDIT){const e=this.model.isQuestionDetailsChanged||this.model.isVisibilityChanged||this.model.isFeedbackPathChanged;this.model.isQuestionHasResponses&&e?this.model.isFeedbackPathChanged?this.simpleModalService.openConfirmationModal("Save the question?",r.a.DANGER,"\n            <p>You seem to have changed the feedback path settings of this question. Please note that changing the\n            feedback path will cause <b>all existing responses to be deleted.</b> Proceed?</p>\n        ").result.then(()=>{this.saveExistingQuestionEvent.emit()},()=>{}):this.model.isQuestionDetailsChanged?this.simpleModalService.openConfirmationModal("Save the question?",r.a.DANGER,"\n            <p>Editing question settings in a way that potentially affects the validity of existing responses <b> may\n            cause all the existing responses for this question to be deleted.</b> Proceed?</p>\n        ").result.then(()=>{this.saveExistingQuestionEvent.emit()},()=>{}):this.model.isVisibilityChanged&&this.simpleModalService.openConfirmationModal("Save the question?",r.a.WARNING,"\n            <p>You seem to have changed the visibility settings of this question. Please note that <b>the existing\n            responses will remain but their visibility will be changed as per the new visibility settings.</b>\n            Proceed?</p>\n        ").result.then(()=>{this.saveExistingQuestionEvent.emit()},()=>{}):this.saveExistingQuestionEvent.emit()}this.formMode===a.a.ADD&&this.createNewQuestionEvent.emit()}duplicateCurrentQuestionHandler(){this.duplicateCurrentQuestionEvent.emit()}deleteCurrentQuestionHandler(){this.deleteCurrentQuestionEvent.emit()}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(l.a),n.Qb(d.a))},e.\u0275cmp=n.Kb({type:e,selectors:[["tm-question-edit-form"]],inputs:{formModel:"formModel",numOfQuestions:"numOfQuestions",formMode:"formMode",isDisplayOnly:"isDisplayOnly"},outputs:{formModelChange:"formModelChange",saveExistingQuestionEvent:"saveExistingQuestionEvent",deleteCurrentQuestionEvent:"deleteCurrentQuestionEvent",duplicateCurrentQuestionEvent:"duplicateCurrentQuestionEvent",discardExistingQuestionChangesEvent:"discardExistingQuestionChangesEvent",discardNewQuestionEvent:"discardNewQuestionEvent",createNewQuestionEvent:"createNewQuestionEvent"},decls:16,vars:11,consts:[[1,"card",3,"id"],[1,"card-header","bg-primary","text-white","cursor-pointer",3,"click"],[1,"collapse-caret"],[3,"isExpanded"],["id","question-header"],["id","question-number",4,"ngIf"],["id","question-number-dropdown","class","form-control question-number-select",3,"ngModel","ngModelChange","click",4,"ngIf"],[4,"ngIf"],[1,"card-header-btn-toolbar"],["id","question-number"],["id","question-number-dropdown",1,"form-control","question-number-select",3,"ngModel","ngModelChange","click"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],[1,"collapse-qn-description"],["id","btn-edit-question","type","button","class","btn btn-primary btn-sm",3,"disabled","click",4,"ngIf"],["id","btn-save-question","type","button","class","btn btn-primary btn-sm",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-primary btn-sm",3,"disabled","click",4,"ngIf"],["id","btn-delete-question","type","button",1,"btn","btn-primary","btn-sm",3,"disabled","click"],[1,"fas","fa-trash"],["id","btn-duplicate-question","type","button","container","body","ngbTooltip","Make a copy of the existing question and add to the current feedback session.","container","body",1,"btn","btn-primary","btn-sm",3,"disabled","click"],[1,"far","fa-copy"],["id","btn-edit-question","type","button",1,"btn","btn-primary","btn-sm",3,"disabled","click"],[1,"fas","fa-pencil-alt"],["id","btn-save-question","type","button",1,"btn","btn-primary","btn-sm",3,"disabled","click"],[1,"fas","fa-check"],["type","button",1,"btn","btn-primary","btn-sm",3,"disabled","click"],[1,"fas","fa-ban"],[1,"card-body"],[1,"background-color-light-blue"],[1,"row"],[1,"col-12"],[1,"row","padding-15px","text-left"],[1,"col-md-2"],[1,"question-basic-info"],[1,"col-md-10"],["id","question-brief","placeholder",'A concise version of the question e.g. "How well did the team member communicate?"',1,"form-control",3,"ngModel","disabled","ngModelChange"],["minHeightInPx","100","placeholderText",'More details about the question e.g. "In answering the question, do consider communications made informally within the team, and formal communications with the instructors and tutors."',3,"richText","isDisabled","richTextChange"],[1,"padding-15px"],[3,"details","isEditable","detailsChange",4,"ngIf"],[1,"background-color-light-green","margin-top-15px","padding-15px"],[1,"feedback-path-title"],["ngbDropdown","","autoClose","outside",1,"margin-top-15px"],["mainMenu","ngbDropdown"],["id","btn-feedback-path","ngbDropdownToggle","",1,"btn","btn-light","white-space-normal",3,"disabled"],["id","feedback-path-dropdown","ngbDropdownMenu",""],[1,"dropdown-header"],["class","dropdown-item",4,"ngFor","ngForOf"],[1,"dropdown-divider"],[1,"dropdown-item",3,"click"],["class","row margin-top-15px",4,"ngIf"],["class","row margin-top-15px align-items-center",4,"ngIf"],[1,"margin-top-15px","padding-15px",3,"ngClass"],[3,"ngClass"],["ngbDropdown","",1,"margin-top-15px"],["id","btn-question-visibility","ngbDropdownToggle","",1,"btn","btn-light","white-space-normal",3,"disabled"],["id","question-visibility-dropdown","ngbDropdownMenu",""],["class","dropdown-item",3,"click",4,"ngFor","ngForOf"],["class","dropdown-divider",4,"ngIf"],["class","dropdown-item",3,"click",4,"ngIf"],["class","table margin-top-15px background-color-white table-striped",4,"ngIf"],[1,"margin-top-15px","visibility-message"],[1,"text-muted","background-color-warning"],[4,"ngFor","ngForOf"],[3,"details","isEditable","detailsChange"],[1,"fas","fa-arrow-right"],[1,"dropdown-item"],["ngbDropdown","","placement","right",3,"mouseenter","mouseleave"],["subMenu","ngbDropdown"],["ngbDropdownAnchor","",1,"float-right","invisible"],[1,"fas","fa-caret-right"],["ngbDropdownMenu",""],[1,"row","margin-top-15px"],[1,"col-6"],["id","giver-type",1,"form-control",3,"ngModel","disabled","ngModelChange"],["id","receiver-type",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"row","margin-top-15px","align-items-center"],[1,"offset-1","col-md-4","text-md-right"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],["id","custom-recipients","type","radio",3,"name","ngModel","value","disabled","ngModelChange"],["id","custom-recipients-number","type","number","min","1",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"form-check"],[1,"form-check-label"],["id","unlimited-recipients","type","radio",1,"form-check-input",3,"name","ngModel","value","disabled","ngModelChange"],[1,"table","margin-top-15px","background-color-white","table-striped"],["scope","col",1,"text-left"],["scope","col","class","text-center",4,"ngFor","ngForOf"],["id","custom-visibility-table"],["scope","col",1,"text-center"],["container","body",1,"ngb-tooltip-class",3,"ngbTooltip"],["class","text-center",4,"ngFor","ngForOf"],[1,"text-center"],["type","checkbox",3,"checked","disabled","click"],[1,"col-12","text-right"],["type","button","class","btn btn-light btn-margin-right",3,"disabled","click",4,"ngIf"],[1,"btn","btn-success",3,"disabled","click"],["id","btn-save-new",4,"ngIf"],["type","button",1,"btn","btn-light","btn-margin-right",3,"disabled","click"],["id","btn-save-new"]],template:function(e,t){1&e&&(n.Wb(0,"div",0),n.Wb(1,"div",1),n.ic("click",(function(){return t.triggerModelChange("isCollapsed",!t.model.isCollapsed)})),n.Wb(2,"div",2),n.Rb(3,"tm-panel-chevron",3),n.Vb(),n.Wb(4,"div",4),n.Wb(5,"strong"),n.Qc(6,"Question "),n.Oc(7,Ce,2,1,"span",5),n.Vb(),n.Oc(8,ve,2,2,"select",6),n.Qc(9),n.lc(10,"questionTypeName"),n.Oc(11,ke,4,1,"ng-container",7),n.Vb(),n.Wb(12,"div",8),n.Oc(13,xe,10,5,"div",7),n.Oc(14,we,4,1,"div",7),n.Vb(),n.Vb(),n.Oc(15,ut,75,44,"div",7),n.Vb()),2&e&&(n.uc("id","question-form-",t.model.questionNumber,""),n.Cb(3),n.sc("isExpanded",!t.model.isCollapsed),n.Cb(4),n.sc("ngIf",!t.model.isEditable),n.Cb(1),n.sc("ngIf",t.model.isEditable),n.Cb(1),n.Sc(" ",n.mc(10,9,t.model.questionType)," "),n.Cb(2),n.sc("ngIf",t.model.isCollapsed),n.Cb(2),n.sc("ngIf",t.formMode===t.QuestionEditFormMode.EDIT),n.Cb(1),n.sc("ngIf",t.formMode===t.QuestionEditFormMode.ADD),n.Cb(1),n.sc("ngIf",!t.model.isCollapsed))},directives:[h.a,b.u,g.B,g.p,g.s,b.t,g.u,g.E,u.w,p.a,g.c,m.a,u.g,u.k,u.i,b.r,_,v,R,j,H,K,Y,se,ce,ae,u.h,g.x,g.v],pipes:[le.a,b.m,de.a,he,be,b.q,ge,ue,pe,me.a,fe.a],styles:[".question-number-select[_ngcontent-%COMP%]{height:32px;width:auto;display:inline;margin-left:6px;margin-right:5px}.background-color-light-blue[_ngcontent-%COMP%]{background-color:#eaeff5}.padding-15px[_ngcontent-%COMP%]{padding:15px}.question-basic-info[_ngcontent-%COMP%]{padding-left:15px;font-weight:700}.padding-left-15px[_ngcontent-%COMP%]{padding-left:15px}.background-color-light-green[_ngcontent-%COMP%]{background-color:#e0eeee}.margin-top-15px[_ngcontent-%COMP%]{margin-top:15px}.feedback-path-title[_ngcontent-%COMP%], .visibility-title[_ngcontent-%COMP%]{color:#2aabd2}.background-color-white[_ngcontent-%COMP%]{background-color:#fff}.visibility-message[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{margin-top:5px;padding:5px 25px;margin-bottom:0}.visibility-message[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{cursor:default}.background-color-warning[_ngcontent-%COMP%]{background-color:#fcf8e3}.dropdown-item[_ngcontent-%COMP%]{cursor:pointer}.collapse-caret[_ngcontent-%COMP%]{margin-right:10px}.collapse-qn-description[_ngcontent-%COMP%]{font-weight:300}.white-space-normal[_ngcontent-%COMP%]{white-space:normal}"],data:{animation:[c.a]}}),e})()},l12v:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("fXoL");let s=(()=>{class e{transform(e){let t="can see your response";return e.SHOW_RECIPIENT_NAME?(t+=", the name of the recipient",t+=e.SHOW_GIVER_NAME?", and your name":", but not your name"):t+=e.SHOW_GIVER_NAME?", and your name, but not the name of the recipient":", but not the name of the recipient, or your name",t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=n.Pb({name:"visibilityCapability",type:e,pure:!0}),e})()},mrSG:function(e,t,i){"use strict";function n(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(i[n[s]]=e[n[s]])}return i}i.d(t,"a",(function(){return n}))}}]);