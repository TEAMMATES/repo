(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{"4mYk":function(s,e,t){"use strict";t.d(e,"a",(function(){return o}));var i=t("fXoL"),n=t("A3DQ");let o=(()=>{class s{constructor(s){this.timezoneService=s}transform(s,e){return this.timezoneService.formatToString(s,e,"ddd, DD MMM YYYY, HH:mm A z")}}return s.\u0275fac=function(e){return new(e||s)(i.Qb(n.b))},s.\u0275pipe=i.Pb({name:"formatDateDetail",type:s,pure:!0}),s})()},Babz:function(s,e,t){"use strict";t.d(e,"a",(function(){return a}));var i=t("fXoL"),n=t("ofXK");function o(s,e){if(1&s){const s=i.Xb();i.Wb(0,"div",2),i.Wb(1,"p",3),i.Qc(2),i.Vb(),i.Wb(3,"button",4),i.ic("click",(function(){return i.Fc(s),i.kc().retryEvent.emit()})),i.Rb(4,"i",5),i.Qc(5,"\xa0Retry"),i.Vb(),i.Vb()}if(2&s){const s=i.kc();i.Cb(2),i.Rc(s.message)}}function r(s,e){1&s&&i.qc(0)}const c=["*"];let a=(()=>{class s{constructor(){this.message="",this.shouldShowRetry=!1,this.retryEvent=new i.n}ngOnInit(){}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=i.Kb({type:s,selectors:[["tm-loading-retry"]],inputs:{message:"message",shouldShowRetry:"shouldShowRetry"},outputs:{retryEvent:"retryEvent"},ngContentSelectors:c,decls:3,vars:2,consts:[["class","text-center",4,"ngIf","ngIfElse"],["content",""],[1,"text-center"],[1,"text-muted","m-1"],[1,"btn","btn-primary",3,"click"],["aria-hidden","true",1,"fas","fa-redo"]],template:function(s,e){if(1&s&&(i.rc(),i.Oc(0,o,6,1,"div",0),i.Oc(1,r,1,0,"ng-template",null,1,i.Pc)),2&s){const s=i.Cc(2);i.sc("ngIf",e.shouldShowRetry)("ngIfElse",s)}},directives:[n.u],styles:[""]}),s})()},YvKL:function(s,e,t){"use strict";t.r(e),t.d(e,"StudentHomePageModule",(function(){return X}));var i=t("ofXK"),n=t("tyNb"),o=t("1kSV"),r=t("mYbV"),c=t("aSpy"),a=t("SEFB"),b=t("TOej"),u=t("fXoL");let d=(()=>{class s{}return s.\u0275mod=u.Ob({type:s}),s.\u0275inj=u.Nb({factory:function(e){return new(e||s)},imports:[[i.c]]}),s})();var l=t("nYR2"),m=t("R8lv"),f=t("p6cw"),h=t("vKUq"),S=t("Uqoa"),g=t("MbNv"),p=t("A3DQ"),y=t("I8MS"),k=t("Babz"),C=t("Lcal"),v=t("W872");let w=(()=>{class s{transform(s,e,t){return s&&t?"Submitted":s&&!t?"Pending":e?"Awaiting":"Closed"}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275pipe=u.Pb({name:"sessionSubmissionStatus",type:s,pure:!0}),s})(),V=(()=>{class s{transform(s){return s?"Published":"Not Published"}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275pipe=u.Pb({name:"sessionResponseStatus",type:s,pure:!0}),s})();var W=t("4mYk");function O(s,e){1&s&&u.Rb(0,"div")}function I(s,e){1&s&&(u.Wb(0,"div"),u.Qc(1," You are not enrolled in any courses. Please refer to the "),u.Wb(2,"a",4),u.Qc(3,"help page"),u.Vb(),u.Qc(4," if you need more information. "),u.Vb())}function P(s,e){if(1&s){const s=u.Xb();u.Wb(0,"div",7),u.Wb(1,"div",8),u.Wb(2,"div",9),u.Wb(3,"strong",10),u.Qc(4," Sort By: "),u.Vb(),u.Wb(5,"div",11),u.Wb(6,"button",12),u.ic("click",(function(){u.Fc(s);const e=u.kc(2);return e.sortCoursesBy(e.SortBy.COURSE_ID)})),u.Qc(7,"Course ID"),u.Vb(),u.Wb(8,"button",13),u.ic("click",(function(){u.Fc(s);const e=u.kc(2);return e.sortCoursesBy(e.SortBy.COURSE_NAME)})),u.Qc(9,"Course Name"),u.Vb(),u.Vb(),u.Vb(),u.Vb(),u.Vb()}if(2&s){const s=u.kc(2);u.Cb(6),u.sc("disabled",s.sortBy===s.SortBy.COURSE_ID),u.Cb(2),u.sc("disabled",s.sortBy===s.SortBy.COURSE_NAME)}}const T=function(s){return{courseid:s}};function Q(s,e){if(1&s&&(u.Wb(0,"div",18),u.Wb(1,"strong"),u.Qc(2),u.Vb(),u.Wb(3,"div",19),u.Wb(4,"a",20),u.Qc(5," View team "),u.Vb(),u.Vb(),u.Vb()),2&s){const s=e.ngIf,t=u.kc().index;u.Cb(2),u.Tc("[",s.courseId,"]: ",s.courseName,""),u.Cb(2),u.uc("id","view-team-btn-",t,""),u.sc("queryParams",u.wc(4,T,s.courseId))}}function E(s,e){if(1&s&&(u.Wb(0,"td"),u.Qc(1),u.lc(2,"formatDateDetail"),u.Vb()),2&s){const s=u.kc().$implicit;u.Cb(1),u.Rc(u.nc(2,1,s.session.submissionEndTimestamp,s.session.timeZone))}}function F(s,e){if(1&s&&(u.Wb(0,"a",27),u.Qc(1," Start Submission "),u.Vb()),2&s){const s=u.kc().index;u.uc("id","disabled-start-submit-btn-",s,"")}}const R=function(s,e){return{courseid:s,fsname:e}};function L(s,e){if(1&s&&(u.Wb(0,"a",28),u.Qc(1," Start Submission "),u.Vb()),2&s){const s=u.kc(),e=s.$implicit;u.uc("id","start-submit-btn-",s.index,""),u.sc("queryParams",u.xc(2,R,e.session.courseId,e.session.feedbackSessionName))}}function N(s,e){if(1&s&&(u.Wb(0,"a",28),u.Qc(1," Edit Submission "),u.Vb()),2&s){const s=u.kc(),e=s.$implicit;u.uc("id","edit-submit-btn-",s.index,""),u.sc("queryParams",u.xc(2,R,e.session.courseId,e.session.feedbackSessionName))}}function B(s,e){if(1&s&&(u.Wb(0,"a",28),u.Qc(1," View Submission "),u.Vb()),2&s){const s=u.kc(),e=s.$implicit;u.uc("id","view-submit-btn-",s.index,""),u.sc("queryParams",u.xc(2,R,e.session.courseId,e.session.feedbackSessionName))}}const A=function(s){return{disabled:s}};function x(s,e){if(1&s&&(u.Wb(0,"tr"),u.Ub(1),u.Wb(2,"td"),u.Qc(3),u.Vb(),u.Oc(4,E,3,4,"td",22),u.Wb(5,"td"),u.Wb(6,"span",23),u.Qc(7),u.lc(8,"sessionSubmissionStatus"),u.Vb(),u.Vb(),u.Wb(9,"td"),u.Wb(10,"span",23),u.Qc(11),u.lc(12,"sessionResponseStatus"),u.Vb(),u.Vb(),u.Wb(13,"td"),u.Wb(14,"a",24),u.Qc(15," View Responses "),u.Vb(),u.Oc(16,F,2,1,"a",25),u.Oc(17,L,2,5,"a",26),u.Oc(18,N,2,5,"a",26),u.Oc(19,B,2,5,"a",26),u.Vb(),u.Tb(),u.Vb()),2&s){const s=e.$implicit,t=e.index,i=u.kc(4);u.Cb(3),u.Rc(s.session.feedbackSessionName),u.Cb(1),u.sc("ngIf",s.session.submissionEndTimestamp),u.Cb(2),u.sc("ngbTooltip",i.getSubmissionStatusTooltip(s)),u.Cb(1),u.Sc(" ",u.oc(8,13,s.isOpened,s.isWaitingToOpen,s.isSubmitted)," "),u.Cb(3),u.sc("ngbTooltip",i.getResponseStatusTooltip(s.isPublished)),u.Cb(1),u.Sc(" ",u.mc(12,17,s.isPublished)," "),u.Cb(3),u.uc("id","view-responses-btn-",t,""),u.sc("ngClass",u.wc(19,A,!s.isPublished))("queryParams",u.xc(21,R,s.session.courseId,s.session.feedbackSessionName)),u.Cb(2),u.sc("ngIf",s.isWaitingToOpen),u.Cb(1),u.sc("ngIf",s.isOpened&&!s.isSubmitted),u.Cb(1),u.sc("ngIf",s.isOpened&&s.isSubmitted),u.Cb(1),u.sc("ngIf",!s.isOpened&&!s.isWaitingToOpen)}}function D(s,e){if(1&s&&(u.Wb(0,"table",21),u.Wb(1,"thead"),u.Wb(2,"tr"),u.Wb(3,"th"),u.Qc(4,"Session Name"),u.Vb(),u.Wb(5,"th"),u.Qc(6,"Deadline"),u.Vb(),u.Wb(7,"th"),u.Qc(8,"Submissions"),u.Vb(),u.Wb(9,"th"),u.Qc(10,"Responses"),u.Vb(),u.Wb(11,"th"),u.Qc(12,"Action(s)"),u.Vb(),u.Vb(),u.Vb(),u.Wb(13,"tbody"),u.Oc(14,x,20,24,"tr",6),u.Vb(),u.Vb()),2&s){const s=u.kc().$implicit;u.Cb(14),u.sc("ngForOf",s.feedbackSessions)}}function M(s,e){1&s&&(u.Wb(0,"table",21),u.Wb(1,"tbody"),u.Wb(2,"tr"),u.Wb(3,"th",29),u.Qc(4," Currently, there are no open evaluation/feedback sessions in this course. When a session is open for submission you will be notified. "),u.Vb(),u.Vb(),u.Vb(),u.Vb())}function q(s,e){if(1&s&&(u.Ub(0),u.Wb(1,"div",14),u.Oc(2,Q,6,6,"div",15),u.Wb(3,"div",16),u.Oc(4,D,15,1,"table",17),u.Oc(5,M,5,0,"table",17),u.Vb(),u.Vb(),u.Tb()),2&s){const s=e.$implicit;u.Cb(2),u.sc("ngIf",s.course),u.Cb(2),u.sc("ngIf",s.feedbackSessions&&s.feedbackSessions.length),u.Cb(1),u.sc("ngIf",!(s.feedbackSessions&&s.feedbackSessions.length))}}function Y(s,e){if(1&s&&(u.Oc(0,P,10,2,"div",5),u.Oc(1,q,6,3,"ng-container",6)),2&s){const s=u.kc();u.sc("ngIf",s.courses.length),u.Cb(1),u.sc("ngForOf",s.courses)}}const U=[{path:"",component:(()=>{class s{constructor(s,e,t,i,n,o){this.route=s,this.courseService=e,this.statusMessageService=t,this.feedbackSessionsService=i,this.timezoneService=n,this.tableComparatorService=o,this.SortBy=f.a,this.studentFeedbackSessionStatusPublished="The responses for the session have been published and can now be viewed.",this.studentFeedbackSessionStatusNotPublished="The responses for the session have not yet been published and cannot be viewed.",this.studentFeedbackSessionStatusAwaiting="The session is not open for submission at this time. It is expected to open later.",this.studentFeedbackSessionStatusPending="The feedback session is yet to be completed by you.",this.studentFeedbackSessionStatusSubmitted="You have submitted your feedback for this session.",this.studentFeedbackSessionStatusClosed=" The session is now closed for submissions.",this.courses=[],this.isCoursesLoading=!1,this.hasCoursesLoadingFailed=!1,this.sortBy=f.a.NONE,this.timezoneService.getTzVersion()}ngOnInit(){this.route.queryParams.subscribe(()=>{this.loadStudentCourses()})}loadStudentCourses(){this.hasCoursesLoadingFailed=!1,this.isCoursesLoading=!0,this.courses=[],this.courseService.getAllCoursesAsStudent().subscribe(s=>{s.courses.length||(this.isCoursesLoading=!1);for(const e of s.courses)this.feedbackSessionsService.getFeedbackSessionsForStudent(e.courseId).pipe(Object(l.a)(()=>this.isCoursesLoading=!1)).subscribe(s=>{const t=this.sortFeedbackSessions(s),i=[];for(const n of t){const s=n.submissionStatus===m.f.OPEN,t=n.submissionStatus===m.f.VISIBLE_NOT_OPEN,o=n.publishStatus===m.e.PUBLISHED;this.feedbackSessionsService.hasStudentResponseForFeedbackSession(e.courseId,n.feedbackSessionName).subscribe(e=>{i.push(Object.assign({},{isOpened:s,isWaitingToOpen:t,isPublished:o,isSubmitted:e.hasResponses,session:n}))},s=>{this.hasCoursesLoadingFailed=!0,this.statusMessageService.showErrorToast(s.error.message)})}this.courses.push(Object.assign({},{course:e,feedbackSessions:i})),this.courses.sort((s,e)=>s.course.courseId>e.course.courseId?1:-1)},s=>{this.hasCoursesLoadingFailed=!0,this.statusMessageService.showErrorToast(s.error.message)})},s=>{this.hasCoursesLoadingFailed=!0,this.statusMessageService.showErrorToast(s.error.message)})}getSubmissionStatusTooltip(s){let e="";return e+=s.isWaitingToOpen?this.studentFeedbackSessionStatusAwaiting:s.isSubmitted?this.studentFeedbackSessionStatusSubmitted:this.studentFeedbackSessionStatusPending,s.isOpened||s.isWaitingToOpen||(e+=this.studentFeedbackSessionStatusClosed),e}getResponseStatusTooltip(s){return s?this.studentFeedbackSessionStatusPublished:this.studentFeedbackSessionStatusNotPublished}sortFeedbackSessions(s){return s.feedbackSessions.map(s=>Object.assign({},s)).sort((s,e)=>s.createdAtTimestamp>e.createdAtTimestamp||s.createdAtTimestamp===e.createdAtTimestamp&&s.submissionEndTimestamp>e.submissionEndTimestamp?1:-1)}sortCoursesBy(s){this.sortBy=s,this.courses.sort(this.sortPanelsBy(s))}sortPanelsBy(s){return(e,t)=>{let i,n;switch(s){case f.a.COURSE_NAME:i=e.course.courseName,n=t.course.courseName;break;case f.a.COURSE_ID:i=e.course.courseId,n=t.course.courseId;break;default:i="",n=""}return this.tableComparatorService.compare(s,f.b.ASC,i,n)}}}return s.\u0275fac=function(e){return new(e||s)(u.Qb(n.a),u.Qb(h.a),u.Qb(S.a),u.Qb(g.a),u.Qb(p.b),u.Qb(y.a))},s.\u0275cmp=u.Kb({type:s,selectors:[["tm-student-home-page"]],decls:5,vars:5,consts:[[3,"shouldShowRetry","message","retryEvent"],[4,"tmIsLoading"],[4,"ngIf","ngIfElse"],["coursesContainer",""],["tmRouterLink","/web/student/help"],["class","row mb-2",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"row","mb-2"],[1,"col-12"],[1,"float-right"],[1,"d-inline"],[1,"btn-group"],["id","sort-course-id-btn",1,"btn","btn-light",3,"disabled","click"],["id","sort-course-name-btn",1,"btn","btn-light",3,"disabled","click"],[1,"card","bg-light","top-padded"],["class","card-header bg-primary text-white",4,"ngIf"],[1,"table-responsive"],["class","table table-striped table-bordered margin-0",4,"ngIf"],[1,"card-header","bg-primary","text-white"],[1,"card-header-btn-toolbar"],["tmRouterLink","/web/student/course",1,"btn","btn-primary","btn-sm","button",3,"queryParams","id"],[1,"table","table-striped","table-bordered","margin-0"],[4,"ngIf"],[3,"ngbTooltip"],["tmRouterLink","/web/student/sessions/result",1,"btn","btn-light","btn-sm","btn-margin-right",3,"ngClass","queryParams","id"],["class","btn btn-light btn-sm disabled",3,"id",4,"ngIf"],["tmRouterLink","/web/student/sessions/submission","class","btn btn-light btn-sm",3,"queryParams","id",4,"ngIf"],[1,"btn","btn-light","btn-sm","disabled",3,"id"],["tmRouterLink","/web/student/sessions/submission",1,"btn","btn-light","btn-sm",3,"queryParams","id"],[1,"align-center","white"]],template:function(s,e){if(1&s&&(u.Wb(0,"tm-loading-retry",0),u.ic("retryEvent",(function(){return e.loadStudentCourses()})),u.Oc(1,O,1,0,"div",1),u.Oc(2,I,5,0,"div",2),u.Oc(3,Y,2,2,"ng-template",null,3,u.Pc),u.Vb()),2&s){const s=u.Cc(4);u.sc("shouldShowRetry",e.hasCoursesLoadingFailed)("message","Failed to load courses"),u.Cb(1),u.sc("tmIsLoading",e.isCoursesLoading),u.Cb(1),u.sc("ngIf",!e.isCoursesLoading&&0==e.courses.length)("ngIfElse",s)}},directives:[k.a,C.a,i.u,v.a,i.t,o.w,i.r],pipes:[w,V,W.a],styles:[".margin-0[_ngcontent-%COMP%]{margin:0}"]}),s})()}];let X=(()=>{class s{}return s.\u0275mod=u.Ob({type:s}),s.\u0275inj=u.Nb({factory:function(e){return new(e||s)},imports:[[i.c,n.h.forChild(U),o.y,d,a.a,c.a,r.a,b.a]]}),s})()},mYbV:function(s,e,t){"use strict";t.d(e,"a",(function(){return o}));var i=t("ofXK"),n=t("fXoL");let o=(()=>{class s{}return s.\u0275mod=n.Ob({type:s}),s.\u0275inj=n.Nb({factory:function(e){return new(e||s)},imports:[[i.c]]}),s})()}}]);