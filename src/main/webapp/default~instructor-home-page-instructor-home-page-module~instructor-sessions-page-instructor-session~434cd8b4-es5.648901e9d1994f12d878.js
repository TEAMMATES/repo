function _inherits(e,s){if("function"!=typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(s&&s.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),s&&_setPrototypeOf(e,s)}function _setPrototypeOf(e,s){return(_setPrototypeOf=Object.setPrototypeOf||function(e,s){return e.__proto__=s,e})(e,s)}function _createSuper(e){var s=_isNativeReflectConstruct();return function(){var n,t=_getPrototypeOf(e);if(s){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(t,arguments,i)}else n=t.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,s){return!s||"object"!=typeof s&&"function"!=typeof s?_assertThisInitialized(e):s}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _classCallCheck(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,s){for(var n=0;n<s.length;n++){var t=s[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _createClass(e,s,n){return s&&_defineProperties(e.prototype,s),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"4mYk":function(e,s,n){"use strict";n.d(s,"a",(function(){return o}));var t=n("fXoL"),i=n("A3DQ"),o=function(){var e=function(){function e(s){_classCallCheck(this,e),this.timezoneService=s}return _createClass(e,[{key:"transform",value:function(e,s){return this.timezoneService.formatToString(e,s,"ddd, DD MMM YYYY, HH:mm A z")}}]),e}();return e.\u0275fac=function(s){return new(s||e)(t.Qb(i.b))},e.\u0275pipe=t.Pb({name:"formatDateDetail",type:e,pure:!0}),e}()},BKNR:function(e,s,n){"use strict";n.d(s,"a",(function(){return t})),n.d(s,"b",(function(){return i}));var t=function(e){return e[e.COURSE_ID=0]="COURSE_ID",e[e.START_DATE=1]="START_DATE",e[e.END_DATE=2]="END_DATE",e}({}),i=function(e){return e[e.BLUE=0]="BLUE",e[e.WHITE=1]="WHITE",e}({})},FYy5:function(e,s,n){"use strict";n.d(s,"a",(function(){return o}));var t=n("R8lv"),i=n("fXoL"),o=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e){switch(e){case t.f.NOT_VISIBLE:case t.f.VISIBLE_NOT_OPEN:return"Awaiting";case t.f.OPEN:case t.f.GRACE_PERIOD:return"Open";case t.f.CLOSED:return"Closed";default:return"Unknown"}}}]),e}();return e.\u0275fac=function(s){return new(s||e)},e.\u0275pipe=i.Pb({name:"submissionStatusName",type:e,pure:!0}),e}()},H5dr:function(e,s,n){"use strict";n.d(s,"a",(function(){return te}));var t,i,o=n("fXoL"),c=n("R8lv"),r=n("p6cw"),a=n("84gB"),u=n("/Tzu"),l=n("BKNR"),b=n("1kSV"),d=n("eQqG"),f=n("ofXK"),S=n("W872"),m=n("Wsbs"),p=((t=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e){var s="The feedback session has been created";switch(e){case c.f.VISIBLE_NOT_OPEN:case c.f.OPEN:case c.f.GRACE_PERIOD:case c.f.CLOSED:s+=", is visible"}switch(e){case c.f.VISIBLE_NOT_OPEN:s+=", and is waiting to open";break;case c.f.OPEN:s+=", and is open for submissions";break;case c.f.CLOSED:s+=", and has ended"}return s+="."}}]),e}()).\u0275fac=function(e){return new(e||t)},t.\u0275pipe=o.Pb({name:"submissionStatusTooltip",type:t,pure:!0}),t),h=n("FYy5"),v=((i=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e){switch(e){case c.e.PUBLISHED:return"The responses for this session are visible.";case c.e.NOT_PUBLISHED:return"The responses for this session are not visible.";default:return"Unknown"}}}]),e}()).\u0275fac=function(e){return new(e||i)},i.\u0275pipe=o.Pb({name:"publishStatusTooltip",type:i,pure:!0}),i),k=n("pTm8"),R=n("4mYk"),g=n("WPPJ");function T(e,s){1&e&&o.Rb(0,"i",17)}function w(e,s){1&e&&o.Rb(0,"i",18)}function I(e,s){if(1&e){var n=o.Xb();o.Wb(0,"th",16),o.ic("click",(function(){o.Fc(n);var e=o.kc(2);return e.sortSessionsTableRowModels(e.SortBy.COURSE_ID)})),o.Qc(1," Course ID "),o.Wb(2,"span",8),o.Rb(3,"i",9),o.Oc(4,T,1,0,"i",10),o.Oc(5,w,1,0,"i",11),o.Vb(),o.Vb()}if(2&e){var t=o.kc(2);o.Cb(4),o.sc("ngIf",t.sessionsTableRowModelsSortBy===t.SortBy.COURSE_ID&&t.sessionsTableRowModelsSortOrder===t.SortOrder.DESC),o.Cb(1),o.sc("ngIf",t.sessionsTableRowModelsSortBy===t.SortBy.COURSE_ID&&t.sessionsTableRowModelsSortOrder===t.SortOrder.ASC)}}function C(e,s){1&e&&o.Rb(0,"i",17)}function E(e,s){1&e&&o.Rb(0,"i",18)}function y(e,s){1&e&&o.Rb(0,"i",17)}function O(e,s){1&e&&o.Rb(0,"i",18)}function M(e,s){if(1&e){var n=o.Xb();o.Wb(0,"th",19),o.ic("click",(function(){o.Fc(n);var e=o.kc(2);return e.sortSessionsTableRowModels(e.SortBy.SESSION_START_DATE)})),o.Qc(1," Start Date "),o.Wb(2,"span",8),o.Rb(3,"i",9),o.Oc(4,y,1,0,"i",10),o.Oc(5,O,1,0,"i",11),o.Vb(),o.Vb()}if(2&e){var t=o.kc(2);o.Cb(4),o.sc("ngIf",t.sessionsTableRowModelsSortBy===t.SortBy.SESSION_START_DATE&&t.sessionsTableRowModelsSortOrder===t.SortOrder.DESC),o.Cb(1),o.sc("ngIf",t.sessionsTableRowModelsSortBy===t.SortBy.SESSION_START_DATE&&t.sessionsTableRowModelsSortOrder===t.SortOrder.ASC)}}function _(e,s){1&e&&o.Rb(0,"i",17)}function P(e,s){1&e&&o.Rb(0,"i",18)}function N(e,s){if(1&e){var n=o.Xb();o.Wb(0,"th",19),o.ic("click",(function(){o.Fc(n);var e=o.kc(2);return e.sortSessionsTableRowModels(e.SortBy.SESSION_END_DATE)})),o.Qc(1," End Date "),o.Wb(2,"span",8),o.Rb(3,"i",9),o.Oc(4,_,1,0,"i",10),o.Oc(5,P,1,0,"i",11),o.Vb(),o.Vb()}if(2&e){var t=o.kc(2);o.Cb(4),o.sc("ngIf",t.sessionsTableRowModelsSortBy===t.SortBy.SESSION_END_DATE&&t.sessionsTableRowModelsSortOrder===t.SortOrder.DESC),o.Cb(1),o.sc("ngIf",t.sessionsTableRowModelsSortBy===t.SortBy.SESSION_END_DATE&&t.sessionsTableRowModelsSortOrder===t.SortOrder.ASC)}}function L(e,s){if(1&e&&(o.Wb(0,"td"),o.Qc(1),o.Vb()),2&e){var n=o.kc().$implicit;o.Cb(1),o.Rc(n.feedbackSession.courseId)}}function V(e,s){if(1&e&&(o.Wb(0,"td"),o.Wb(1,"span",21),o.lc(2,"formatDateDetail"),o.Qc(3),o.lc(4,"formatDateBrief"),o.Vb(),o.Vb()),2&e){var n=o.kc().$implicit;o.Cb(1),o.sc("ngbTooltip",o.nc(2,2,n.feedbackSession.submissionStartTimestamp,n.feedbackSession.timeZone)),o.Cb(2),o.Rc(o.nc(4,5,n.feedbackSession.submissionStartTimestamp,n.feedbackSession.timeZone))}}function D(e,s){if(1&e&&(o.Wb(0,"td"),o.Wb(1,"span",21),o.lc(2,"formatDateDetail"),o.Qc(3),o.lc(4,"formatDateBrief"),o.Vb(),o.Vb()),2&e){var n=o.kc().$implicit;o.Cb(1),o.sc("ngbTooltip",o.nc(2,2,n.feedbackSession.submissionEndTimestamp,n.feedbackSession.timeZone)),o.Cb(2),o.Rc(o.nc(4,5,n.feedbackSession.submissionEndTimestamp,n.feedbackSession.timeZone))}}function W(e,s){if(1&e){var n=o.Xb();o.Wb(0,"a",42),o.ic("click",(function(e){o.Fc(n);var s=o.kc().index;return o.kc(2).loadResponseRateEvent.emit(s),e.preventDefault()})),o.Qc(1,"Show"),o.Vb()}if(2&e){var t=o.kc().index;o.uc("id","show-response-rate-",t,"")}}function B(e,s){if(1&e&&(o.Wb(0,"div",43),o.Qc(1),o.Vb()),2&e){var n=o.kc(),t=n.$implicit;o.uc("id","response-rate-",n.index,""),o.Cb(1),o.Rc(t.responseRate)}}function A(e,s){1&e&&o.Rb(0,"tm-ajax-loading",44),2&e&&o.sc("useBlueSpinner",!0)}function F(e,s){1&e&&o.Sb(0)}var Q=function(e,s){return{courseid:e,fsname:s,editingMode:!0}};function x(e,s){if(1&e&&(o.Wb(0,"a",45),o.Oc(1,F,1,0,"ng-container",46),o.Vb()),2&e){var n=o.kc().$implicit,t=o.Cc(23);o.sc("queryParams",o.xc(2,Q,n.feedbackSession.courseId,n.feedbackSession.feedbackSessionName)),o.Cb(1),o.sc("ngTemplateOutlet",t)}}function j(e,s){if(1&e){var n=o.Xb();o.Wb(0,"button",47),o.ic("click",(function(){o.Fc(n);var e=o.kc().index;return o.kc(2).editSessionEvent.emit(e)})),o.Qc(1," Edit "),o.Vb()}if(2&e){var t=o.kc().$implicit;o.sc("disabled",!t.instructorPrivilege.canModifySession)}}function U(e,s){1&e&&o.Sb(0)}var X=function(e,s){return{courseid:e,fsname:s}};function H(e,s){if(1&e&&(o.Wb(0,"a",48),o.Oc(1,U,1,0,"ng-container",46),o.Vb()),2&e){var n=o.kc().$implicit,t=o.Cc(30);o.sc("queryParams",o.xc(2,X,n.feedbackSession.courseId,n.feedbackSession.feedbackSessionName)),o.Cb(1),o.sc("ngTemplateOutlet",t)}}function q(e,s){if(1&e){var n=o.Xb();o.Wb(0,"button",49),o.ic("click",(function(){o.Fc(n);var e=o.kc().index;return o.kc(2).submitSessionAsInstructorEvent.emit(e)})),o.Qc(1,"Submit"),o.Vb()}if(2&e){var t=o.kc().$implicit,i=o.kc(2);o.sc("disabled",t.feedbackSession.submissionStatus!==i.FeedbackSessionSubmissionStatus.OPEN||!t.instructorPrivilege.canSubmitSessionInSections)}}function $(e,s){if(1&e){var n=o.Xb();o.Wb(0,"button",50),o.ic("click",(function(){o.Fc(n);var e=o.kc().index;return o.kc(2).unpublishSession(e)})),o.Qc(1,"Unpublish Results"),o.Vb()}if(2&e){var t=o.kc(),i=t.$implicit;o.uc("id","btn-unpublish-",t.index,""),o.sc("disabled",!i.instructorPrivilege.canModifySession)}}var z=function(e,s){return[e,s]};function Y(e,s){if(1&e){var n=o.Xb();o.Wb(0,"button",51),o.ic("click",(function(){o.Fc(n);var e=o.kc().index;return o.kc(2).publishSession(e)})),o.Qc(1,"Publish Results"),o.Vb()}if(2&e){var t=o.kc(),i=t.index,c=t.$implicit,r=o.kc(2);o.uc("id","btn-publish-",i,""),o.sc("disabled",o.xc(2,z,r.FeedbackSessionSubmissionStatus.NOT_VISIBLE,r.FeedbackSessionSubmissionStatus.VISIBLE_NOT_OPEN).includes(c.feedbackSession.submissionStatus)||c.feedbackSession.publishStatus===r.FeedbackSessionPublishStatus.PUBLISHED||!c.instructorPrivilege.canModifySession)}}function G(e,s){if(1&e){var n=o.Xb();o.Wb(0,"button",52),o.ic("click",(function(){o.Fc(n);var e=o.kc().index;return o.kc(2).remindResultsLinkToStudent(e)})),o.Qc(1,"Resend link to view results"),o.Vb()}if(2&e){var t=o.kc().index;o.uc("id","btn-resend-",t,"")}}var K=function(e){return{disabled:e}};function J(e,s){if(1&e){var n=o.Xb();o.Wb(0,"tr"),o.Oc(1,L,2,1,"td",20),o.Wb(2,"td"),o.Qc(3),o.Vb(),o.Oc(4,V,5,8,"td",20),o.Oc(5,D,5,8,"td",20),o.Wb(6,"td"),o.Wb(7,"span",21),o.lc(8,"submissionStatusTooltip"),o.Qc(9),o.lc(10,"submissionStatusName"),o.Vb(),o.Vb(),o.Wb(11,"td"),o.Wb(12,"span",21),o.lc(13,"publishStatusTooltip"),o.Qc(14),o.lc(15,"publishStatusName"),o.Vb(),o.Vb(),o.Wb(16,"td"),o.Oc(17,W,2,1,"a",22),o.Oc(18,B,2,2,"div",23),o.Oc(19,A,1,1,"tm-ajax-loading",24),o.Vb(),o.Wb(20,"td",25),o.Oc(21,x,2,5,"a",26),o.Oc(22,j,2,1,"ng-template",null,27,o.Pc),o.Wb(24,"button",28),o.ic("click",(function(){o.Fc(n);var e=s.index;return o.kc(2).moveSessionToRecycleBin(e)})),o.Qc(25,"Delete"),o.Vb(),o.Wb(26,"button",29),o.ic("click",(function(){o.Fc(n);var e=s.index;return o.kc(2).copySession(e)})),o.Qc(27,"Copy"),o.Vb(),o.Oc(28,H,2,5,"a",30),o.Oc(29,q,2,1,"ng-template",null,31,o.Pc),o.Wb(31,"div",32),o.Wb(32,"button",33),o.Qc(33,"Results"),o.Vb(),o.Wb(34,"div",34),o.Wb(35,"a",35),o.ic("click",(function(){o.Fc(n);var e=s.index;return o.kc(2).viewSessionResultEvent.emit(e)})),o.Qc(36,"View Results"),o.Vb(),o.Oc(37,$,2,2,"button",36),o.Oc(38,Y,2,5,"ng-template",null,37,o.Pc),o.Oc(40,G,2,1,"button",38),o.Wb(41,"button",39),o.ic("click",(function(){o.Fc(n);var e=s.index;return o.kc(2).downloadSessionResults(e)})),o.Qc(42,"Download Results"),o.Vb(),o.Vb(),o.Vb(),o.Wb(43,"div",40),o.Wb(44,"button",41),o.ic("click",(function(){o.Fc(n);var e=s.index;return o.kc(2).sendRemindersToStudents(e)})),o.Qc(45,"Remind"),o.Vb(),o.Vb(),o.Vb(),o.Vb()}if(2&e){var t=s.$implicit,i=s.index,c=o.Cc(23),r=o.Cc(30),a=o.Cc(39),u=o.kc(2);o.Cb(1),o.sc("ngIf",u.columnsToShow.includes(u.SessionsTableColumn.COURSE_ID)),o.Cb(2),o.Rc(t.feedbackSession.feedbackSessionName),o.Cb(1),o.sc("ngIf",u.columnsToShow.includes(u.SessionsTableColumn.START_DATE)),o.Cb(1),o.sc("ngIf",u.columnsToShow.includes(u.SessionsTableColumn.END_DATE)),o.Cb(2),o.sc("ngbTooltip",o.mc(8,28,t.feedbackSession.submissionStatus)),o.Cb(2),o.Rc(o.mc(10,30,t.feedbackSession.submissionStatus)),o.Cb(3),o.sc("ngbTooltip",o.mc(13,32,t.feedbackSession.publishStatus)),o.Cb(2),o.Rc(o.mc(15,34,t.feedbackSession.publishStatus)),o.Cb(3),o.sc("ngIf",0===t.responseRate.length&&!t.isLoadingResponseRate),o.Cb(1),o.sc("ngIf",0!==t.responseRate.length),o.Cb(1),o.sc("ngIf",t.isLoadingResponseRate),o.Cb(2),o.sc("ngIf",t.instructorPrivilege.canModifySession)("ngIfElse",c),o.Cb(3),o.uc("id","btn-soft-delete-",i,""),o.sc("disabled",!t.instructorPrivilege.canModifySession),o.Cb(2),o.uc("id","btn-copy-",i,""),o.Cb(2),o.sc("ngIf",t.feedbackSession.submissionStatus===u.FeedbackSessionSubmissionStatus.OPEN&&t.instructorPrivilege.canSubmitSessionInSections)("ngIfElse",r),o.Cb(4),o.uc("id","btn-results-",i,""),o.Cb(3),o.sc("ngClass",o.wc(36,K,!t.instructorPrivilege.canViewSessionInSections))("queryParams",o.xc(38,X,t.feedbackSession.courseId,t.feedbackSession.feedbackSessionName)),o.Cb(2),o.sc("ngIf",!o.xc(41,z,u.FeedbackSessionSubmissionStatus.NOT_VISIBLE,u.FeedbackSessionSubmissionStatus.VISIBLE_NOT_OPEN).includes(t.feedbackSession.submissionStatus)&&t.feedbackSession.publishStatus===u.FeedbackSessionPublishStatus.PUBLISHED)("ngIfElse",a),o.Cb(3),o.sc("ngIf",t.feedbackSession.publishStatus===u.FeedbackSessionPublishStatus.PUBLISHED),o.Cb(1),o.uc("id","btn-download-",i,""),o.sc("disabled",!t.instructorPrivilege.canViewSessionInSections),o.Cb(3),o.uc("id","btn-remind-",i,""),o.sc("disabled",t.feedbackSession.submissionStatus!==u.FeedbackSessionSubmissionStatus.OPEN||!t.instructorPrivilege.canModifySession)}}var Z=function(e){return{"bg-primary text-white":e}};function ee(e,s){if(1&e){var n=o.Xb();o.Wb(0,"div",2),o.Wb(1,"div",3),o.Wb(2,"table",4),o.Wb(3,"thead"),o.Wb(4,"tr",5),o.Oc(5,I,6,2,"th",6),o.Wb(6,"th",7),o.ic("click",(function(){o.Fc(n);var e=o.kc();return e.sortSessionsTableRowModels(e.SortBy.SESSION_NAME)})),o.Qc(7," Session Name "),o.Wb(8,"span",8),o.Rb(9,"i",9),o.Oc(10,C,1,0,"i",10),o.Oc(11,E,1,0,"i",11),o.Vb(),o.Vb(),o.Oc(12,M,6,2,"th",12),o.Oc(13,N,6,2,"th",12),o.Wb(14,"th"),o.Qc(15,"Submissions"),o.Vb(),o.Wb(16,"th"),o.Qc(17,"Responses"),o.Vb(),o.Wb(18,"th",13),o.Wb(19,"span"),o.Qc(20,"Response Rate"),o.Vb(),o.Vb(),o.Wb(21,"th",14),o.Qc(22,"Action(s)"),o.Vb(),o.Vb(),o.Vb(),o.Wb(23,"tbody"),o.Oc(24,J,46,44,"tr",15),o.Vb(),o.Vb(),o.Vb(),o.Vb()}if(2&e){var t=o.kc();o.Cb(4),o.sc("ngClass",o.wc(7,Z,t.headerColorScheme===t.SessionsTableHeaderColorScheme.BLUE)),o.Cb(1),o.sc("ngIf",t.columnsToShow.includes(t.SessionsTableColumn.COURSE_ID)),o.Cb(5),o.sc("ngIf",t.sessionsTableRowModelsSortBy===t.SortBy.SESSION_NAME&&t.sessionsTableRowModelsSortOrder===t.SortOrder.DESC),o.Cb(1),o.sc("ngIf",t.sessionsTableRowModelsSortBy===t.SortBy.SESSION_NAME&&t.sessionsTableRowModelsSortOrder===t.SortOrder.ASC),o.Cb(1),o.sc("ngIf",t.columnsToShow.includes(t.SessionsTableColumn.START_DATE)),o.Cb(1),o.sc("ngIf",t.columnsToShow.includes(t.SessionsTableColumn.END_DATE)),o.Cb(11),o.sc("ngForOf",t.sessionsTableRowModels)}}function se(e,s){1&e&&(o.Wb(0,"div",53),o.Qc(1," There are no feedback sessions in this course. "),o.Vb())}var ne,te=((ne=function(){function e(s,n){_classCallCheck(this,e),this.ngbModal=s,this.simpleModalService=n,this.SortBy=r.a,this.SortOrder=r.b,this.SessionsTableColumn=l.a,this.FeedbackSessionSubmissionStatus=c.f,this.FeedbackSessionPublishStatus=c.e,this.SessionsTableHeaderColorScheme=l.b,this.sessionsTableRowModels=[],this.courseCandidates=[],this.columnsToShow=[l.a.COURSE_ID],this.sessionsTableRowModelsSortBy=r.a.NONE,this.sessionsTableRowModelsSortOrder=r.b.ASC,this.headerColorScheme=l.b.BLUE,this.sortSessionsTableRowModelsEvent=new o.n,this.loadResponseRateEvent=new o.n,this.editSessionEvent=new o.n,this.moveSessionToRecycleBinEvent=new o.n,this.copySessionEvent=new o.n,this.submitSessionAsInstructorEvent=new o.n,this.viewSessionResultEvent=new o.n,this.publishSessionEvent=new o.n,this.unpublishSessionEvent=new o.n,this.sendRemindersToStudentsEvent=new o.n,this.resendResultsLinkToStudentsEvent=new o.n,this.downloadSessionResultsEvent=new o.n}return _createClass(e,[{key:"sortSessionsTableRowModels",value:function(e){this.sortSessionsTableRowModelsEvent.emit(e)}},{key:"moveSessionToRecycleBin",value:function(e){var s=this;this.simpleModalService.openConfirmationModal("Delete session <strong>".concat(this.sessionsTableRowModels[e].feedbackSession.feedbackSessionName,"</strong>?"),u.a.WARNING,'Session will be moved to the recycle bin. This action can be reverted by going to the "Sessions" tab and restoring the desired session(s).').result.then((function(){s.moveSessionToRecycleBinEvent.emit(e)}),(function(){}))}},{key:"copySession",value:function(e){var s=this,n=this.ngbModal.open(a.a),t=this.sessionsTableRowModels[e];n.componentInstance.newFeedbackSessionName=t.feedbackSession.feedbackSessionName,n.componentInstance.courseCandidates=this.courseCandidates,n.componentInstance.sessionToCopyCourseId=t.feedbackSession.courseId,n.result.then((function(n){s.copySessionEvent.emit(Object.assign(Object.assign({},n),{sessionToCopyRowIndex:e}))}),(function(){}))}},{key:"publishSession",value:function(e){var s=this;this.simpleModalService.openConfirmationModal("Publish session <strong>".concat(this.sessionsTableRowModels[e].feedbackSession.feedbackSessionName,"</strong>?"),u.a.WARNING,"An email will be sent to students to inform them that the responses are ready for viewing.").result.then((function(){s.publishSessionEvent.emit(e)}),(function(){}))}},{key:"unpublishSession",value:function(e){var s=this;this.simpleModalService.openConfirmationModal("Unpublish session <strong>".concat(this.sessionsTableRowModels[e].feedbackSession.feedbackSessionName,"</strong>?"),u.a.WARNING,"An email will be sent to students to inform them that the session has been unpublished\n        and the session responses will no longer be viewable by students.").result.then((function(){s.unpublishSessionEvent.emit(e)}),(function(){}))}},{key:"remindResultsLinkToStudent",value:function(e){this.resendResultsLinkToStudentsEvent.emit(e)}},{key:"sendRemindersToStudents",value:function(e){this.sendRemindersToStudentsEvent.emit(e)}},{key:"downloadSessionResults",value:function(e){this.downloadSessionResultsEvent.emit(e)}},{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||ne)(o.Qb(b.m),o.Qb(d.a))},ne.\u0275cmp=o.Kb({type:ne,selectors:[["tm-sessions-table"]],inputs:{sessionsTableRowModels:"sessionsTableRowModels",courseCandidates:"courseCandidates",columnsToShow:"columnsToShow",sessionsTableRowModelsSortBy:"sessionsTableRowModelsSortBy",sessionsTableRowModelsSortOrder:"sessionsTableRowModelsSortOrder",headerColorScheme:"headerColorScheme"},outputs:{sortSessionsTableRowModelsEvent:"sortSessionsTableRowModelsEvent",loadResponseRateEvent:"loadResponseRateEvent",editSessionEvent:"editSessionEvent",moveSessionToRecycleBinEvent:"moveSessionToRecycleBinEvent",copySessionEvent:"copySessionEvent",submitSessionAsInstructorEvent:"submitSessionAsInstructorEvent",viewSessionResultEvent:"viewSessionResultEvent",publishSessionEvent:"publishSessionEvent",unpublishSessionEvent:"unpublishSessionEvent",sendRemindersToStudentsEvent:"sendRemindersToStudentsEvent",resendResultsLinkToStudentsEvent:"resendResultsLinkToStudentsEvent",downloadSessionResultsEvent:"downloadSessionResultsEvent"},decls:3,vars:2,consts:[["class","row",4,"ngIf","ngIfElse"],["noSessionMessage",""],[1,"row"],[1,"col-12"],["id","sessions-table",1,"table","table-responsive-lg","table-striped","table-bordered","margin-bottom-0"],[3,"ngClass"],["id","sort-course-id","class","sortable-header",3,"click",4,"ngIf"],["id","sort-session-name",1,"sortable-header",3,"click"],[1,"fa-stack"],[1,"fas","fa-sort"],["class","fas fa-sort-down",4,"ngIf"],["class","fas fa-sort-up",4,"ngIf"],["class","sortable-header",3,"click",4,"ngIf"],["ngbTooltip","Number of students submitted / Class size","container","body",1,"ngb-tooltip-class"],[1,"text-center"],[4,"ngFor","ngForOf"],["id","sort-course-id",1,"sortable-header",3,"click"],[1,"fas","fa-sort-down"],[1,"fas","fa-sort-up"],[1,"sortable-header",3,"click"],[4,"ngIf"],[1,"ngb-tooltip-class",3,"ngbTooltip"],["href","#",3,"id","click",4,"ngIf"],[3,"id",4,"ngIf"],[3,"useBlueSpinner",4,"ngIf"],[1,"actions-cell"],["tmRouterLink","/web/instructor/sessions/edit",3,"queryParams",4,"ngIf","ngIfElse"],["editSessionBtn",""],["type","button",1,"btn","btn-light","btn-sm",3,"id","disabled","click"],["type","button","ngbTooltip","Copy feedback session details",1,"btn","btn-light","btn-sm",3,"id","click"],["tmRouterLink","/web/instructor/sessions/submission",3,"queryParams",4,"ngIf","ngIfElse"],["submitBtn",""],["ngbDropdown","",1,"d-inline-block"],["ngbDropdownToggle","",1,"btn","btn-light","btn-sm",3,"id"],["ngbDropdownMenu",""],["tmRouterLink","/web/instructor/sessions/result",1,"btn","dropdown-item","clickable",3,"ngClass","queryParams","click"],["class","btn dropdown-item clickable","ngbTooltip","Make responses no longer visible","placement","left","container","body",3,"id","disabled","click",4,"ngIf","ngIfElse"],["publishButton",""],["class","btn dropdown-item clickable",3,"id","click",4,"ngIf"],[1,"btn","dropdown-item","clickable",3,"id","disabled","click"],["ngbDropdown","","ngbTooltip","Send e-mails to remind students and instructors who have not submitted their feedbacks to do so",1,"d-inline-block"],[1,"btn","btn-light","btn-sm",3,"id","disabled","click"],["href","#",3,"id","click"],[3,"id"],[3,"useBlueSpinner"],["tmRouterLink","/web/instructor/sessions/edit",3,"queryParams"],[4,"ngTemplateOutlet"],["type","button",1,"btn","btn-light","btn-sm",3,"disabled","click"],["tmRouterLink","/web/instructor/sessions/submission",3,"queryParams"],["type","button","ngbTooltip","Start submitting feedback",1,"btn","btn-light","btn-sm",3,"disabled","click"],["ngbTooltip","Make responses no longer visible","placement","left","container","body",1,"btn","dropdown-item","clickable",3,"id","disabled","click"],["ngbTooltip","Make session responses available for viewing","placement","left","container","body",1,"btn","dropdown-item","clickable",3,"id","disabled","click"],[1,"btn","dropdown-item","clickable",3,"id","click"],[1,"no-session-message"]],template:function(e,s){if(1&e&&(o.Oc(0,ee,25,9,"div",0),o.Oc(1,se,2,0,"ng-template",null,1,o.Pc)),2&e){var n=o.Cc(2);o.sc("ngIf",s.sessionsTableRowModels.length>0)("ngIfElse",n)}},directives:[f.u,f.r,b.w,f.t,b.g,b.k,b.i,S.a,m.a,f.B],pipes:[p,h.a,v,k.a,R.a,g.a],styles:[".no-session-message[_ngcontent-%COMP%]{padding:10px;text-align:center}@media (min-width:1200px){.actions-cell[_ngcontent-%COMP%]{min-width:410px}}.actions-cell[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.dropdown-item){margin-left:var(--btn-margin)}.clickable[_ngcontent-%COMP%], .sortable-header[_ngcontent-%COMP%]{cursor:pointer}.margin-bottom-0[_ngcontent-%COMP%]{margin-bottom:0}"]}),ne)},Mdjh:function(e,s,n){"use strict";n.d(s,"a",(function(){return t}));var t={canModifyCourse:!1,canModifySession:!1,canModifyStudent:!1,canSubmitSessionInSections:!1,canModifyInstructor:!1,canViewStudentInSections:!1,canModifySessionCommentsInSections:!1,canViewSessionInSections:!1}},TQ0J:function(e,s,n){"use strict";n.d(s,"a",(function(){return m}));var t=n("cp0P"),i=n("nYR2"),o=n("9jjE"),c=n("fXoL"),r=n("1kSV"),a=n("ofXK"),u=n("A4oe");function l(e,s){if(1&e){var n=c.Xb();c.Wb(0,"div",10),c.Wb(1,"tm-respondent-list-info-table",11),c.ic("studentListInfoTableRowModelsChange",(function(e){return c.Fc(n),c.kc().studentListInfoTableRowModels=e}))("instructorListInfoTableRowModelsChange",(function(e){return c.Fc(n),c.kc().instructorListInfoTableRowModels=e})),c.Vb(),c.Vb()}if(2&e){var t=c.kc();c.Cb(1),c.sc("studentListInfoTableRowModels",t.studentListInfoTableRowModels)("shouldDisplayHasSubmittedSessionColumn",!1)("instructorListInfoTableRowModels",t.instructorListInfoTableRowModels)}}function b(e,s){1&e&&(c.Wb(0,"h4",12),c.Qc(1," There are no participants to email. "),c.Vb())}var d,f=((d=function(){function e(s){_classCallCheck(this,e),this.activeModal=s,this.courseId="",this.feedbackSessionName="",this.studentListInfoTableRowModels=[],this.instructorListInfoTableRowModels=[]}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"collateRespondentsToSendHandler",value:function(){var e=this.studentListInfoTableRowModels.map((function(e){return Object.assign({},e)})).filter((function(e){return e.isSelected})),s=this.instructorListInfoTableRowModels.map((function(e){return Object.assign({},e)})).filter((function(e){return e.isSelected}));return e.concat(s)}}]),e}()).\u0275fac=function(e){return new(e||d)(c.Qb(r.a))},d.\u0275cmp=c.Kb({type:d,selectors:[["tm-resend-results-link-to-respondent-modal"]],decls:16,vars:2,consts:[[1,"modal-header"],[1,"modal-title"],["type","button",1,"close",3,"click"],[1,"fas","fa-times"],[1,"modal-body"],["class","table-responsive",4,"ngIf","ngIfElse"],["noRespondentsToRemind",""],[1,"modal-footer"],["type","button",1,"btn",3,"click"],["id","btn-confirm-resend-results","type","button",1,"btn","btn-primary",3,"click"],[1,"table-responsive"],[3,"studentListInfoTableRowModels","shouldDisplayHasSubmittedSessionColumn","instructorListInfoTableRowModels","studentListInfoTableRowModelsChange","instructorListInfoTableRowModelsChange"],[1,"p-2","bg-info","text-white"]],template:function(e,s){if(1&e&&(c.Wb(0,"div",0),c.Wb(1,"h4",1),c.Qc(2," Resend Published Email "),c.Wb(3,"small"),c.Qc(4,"(Select the student(s) or instructor(s) you want to resend the published email to)"),c.Vb(),c.Vb(),c.Wb(5,"button",2),c.ic("click",(function(){return s.activeModal.dismiss()})),c.Rb(6,"i",3),c.Vb(),c.Vb(),c.Wb(7,"div",4),c.Oc(8,l,2,3,"div",5),c.Oc(9,b,2,0,"ng-template",null,6,c.Pc),c.Vb(),c.Wb(11,"div",7),c.Wb(12,"button",8),c.ic("click",(function(){return s.activeModal.dismiss()})),c.Qc(13,"Cancel"),c.Vb(),c.Wb(14,"button",9),c.ic("click",(function(){return s.activeModal.close(s.collateRespondentsToSendHandler())})),c.Qc(15,"Send"),c.Vb(),c.Vb()),2&e){var n=c.Cc(10);c.Cb(8),c.sc("ngIf",s.studentListInfoTableRowModels.length>0)("ngIfElse",n)}},directives:[a.u,u.a],styles:[".clickable[_ngcontent-%COMP%]{cursor:pointer}"]}),d),S=n("5hkX"),m=function(e){_inherits(n,e);var s=_createSuper(n);function n(e,t,i,o,c,r,a,u,l,b,d){var f;return _classCallCheck(this,n),(f=s.call(this,e,t,i,o,c,r,a,u,l,b)).studentService=d,f.isSendReminderLoading=!1,f}return _createClass(n,[{key:"resendResultsLinkToRespondentsEventHandler",value:function(e){var s=this;this.isSendReminderLoading=!0;var n=e.feedbackSession.courseId,c=e.feedbackSession.feedbackSessionName;Object(t.a)([this.studentService.getStudentsFromCourse({courseId:n}),this.instructorService.loadInstructors({courseId:n,intent:o.b.FULL_DETAIL})]).pipe(Object(i.a)((function(){return s.isSendReminderLoading=!1}))).subscribe((function(e){var t=e[0].students,o=e[1].instructors,r=s.ngbModal.open(f);r.componentInstance.courseId=n,r.componentInstance.feedbackSessionName=c,r.componentInstance.studentListInfoTableRowModels=t.map((function(e){return{email:e.email,name:e.name,teamName:e.teamName,sectionName:e.sectionName,hasSubmittedSession:!1,isSelected:!1}})),r.componentInstance.instructorListInfoTableRowModels=o.map((function(e){return{email:e.email,name:e.name,hasSubmittedSession:!1,isSelected:!1}})),r.result.then((function(e){s.isSendReminderLoading=!0,s.feedbackSessionsService.remindResultsLinkToRespondents(n,c,{usersToRemind:e.map((function(e){return e.email}))}).pipe(Object(i.a)((function(){return s.isSendReminderLoading=!1}))).subscribe((function(){s.statusMessageService.showSuccessToast("Session published notification emails have been resent to those students and instructors. Please allow up to 1 hour for all the notification emails to be sent out.")}),(function(e){s.statusMessageService.showErrorToast(e.error.message)}))}),(function(){}))}),(function(e){s.statusMessageService.showErrorToast(e.error.message)}))}},{key:"sendRemindersToRespondentsEventHandler",value:function(e){var s=this;this.isSendReminderLoading=!0;var n=e.feedbackSession.courseId,c=e.feedbackSession.feedbackSessionName;Object(t.a)([this.studentService.getStudentsFromCourse({courseId:n}),this.feedbackSessionsService.getFeedbackSessionSubmittedGiverSet({courseId:n,feedbackSessionName:c}),this.instructorService.loadInstructors({courseId:n,intent:o.b.FULL_DETAIL})]).pipe(Object(i.a)((function(){return s.isSendReminderLoading=!1}))).subscribe((function(e){var t=e[0].students,o=new Set(e[1].giverIdentifiers),r=e[2].instructors,a=s.ngbModal.open(S.a);a.componentInstance.courseId=n,a.componentInstance.feedbackSessionName=c,a.componentInstance.studentListInfoTableRowModels=t.map((function(e){return{email:e.email,name:e.name,teamName:e.teamName,sectionName:e.sectionName,hasSubmittedSession:o.has(e.email),isSelected:!1}})),a.componentInstance.instructorListInfoTableRowModels=r.map((function(e){return{email:e.email,name:e.name,hasSubmittedSession:o.has(e.email),isSelected:!1}})),a.result.then((function(e){s.isSendReminderLoading=!0,s.feedbackSessionsService.remindFeedbackSessionSubmissionForRespondents(n,c,{usersToRemind:e.map((function(e){return e.email}))}).pipe(Object(i.a)((function(){return s.isSendReminderLoading=!1}))).subscribe((function(){s.statusMessageService.showSuccessToast("Reminder e-mails have been sent out to those students and instructors. Please allow up to 1 hour for all the notification emails to be sent out.")}),(function(e){s.statusMessageService.showErrorToast(e.error.message)}))}),(function(){}))}),(function(e){s.statusMessageService.showErrorToast(e.error.message)}))}}]),n}(n("BBzn").a)},WPPJ:function(e,s,n){"use strict";n.d(s,"a",(function(){return o}));var t=n("fXoL"),i=n("A3DQ"),o=function(){var e=function(){function e(s){_classCallCheck(this,e),this.timezoneService=s}return _createClass(e,[{key:"transform",value:function(e,s){return this.timezoneService.formatToString(e,s,"D MMM h:mm A")}}]),e}();return e.\u0275fac=function(s){return new(s||e)(t.Qb(i.b))},e.\u0275pipe=t.Pb({name:"formatDateBrief",type:e,pure:!0}),e}()},"iqw+":function(e,s,n){"use strict";n.d(s,"a",(function(){return o}));var t=n("ofXK"),i=n("fXoL"),o=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=i.Ob({type:e}),e.\u0275inj=i.Nb({factory:function(s){return new(s||e)},imports:[[t.c]]}),e}()},vHwn:function(e,s,n){"use strict";n.d(s,"a",(function(){return f}));var t=n("ofXK"),i=n("3Pt+"),o=n("tyNb"),c=n("1kSV"),r=n("n6pr"),a=n("iqw+"),u=n("1GcU"),l=n("SEFB"),b=n("TOej"),d=n("fXoL"),f=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=d.Ob({type:e}),e.\u0275inj=d.Nb({factory:function(s){return new(s||e)},imports:[[t.c,r.a,a.a,l.a,c.j,c.y,i.j,u.a,o.h,b.a]]}),e}()}}]);