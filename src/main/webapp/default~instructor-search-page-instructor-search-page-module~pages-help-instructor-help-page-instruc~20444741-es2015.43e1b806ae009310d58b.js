(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"0zMG":function(t,e,n){"use strict";n.d(e,"a",(function(){return H}));var s=n("fXoL"),r=n("R8lv"),o=n("p6cw"),i=n("/Tzu"),a=n("Uqoa"),c=n("vKUq"),d=n("eQqG"),u=n("ofXK"),b=n("ERjh"),l=n("1kSV"),m=n("W872"),S=n("VKKU"),h=n("6NZ/");function f(t,e){1&t&&s.Rb(0,"i",13)}function g(t,e){1&t&&s.Rb(0,"i",14)}function p(t,e){if(1&t){const t=s.Xb();s.Wb(0,"th",4),s.ic("click",(function(){s.Fc(t);const e=s.kc();return e.sortStudentList(e.SortBy.SECTION_NAME)})),s.Qc(1," Section "),s.Wb(2,"span",5),s.Rb(3,"i",6),s.Oc(4,f,1,0,"i",7),s.Oc(5,g,1,0,"i",8),s.Vb(),s.Vb()}if(2&t){const t=s.kc();s.Cb(4),s.sc("ngIf",t.tableSortBy===t.SortBy.SECTION_NAME&&t.tableSortOrder===t.SortOrder.DESC),s.Cb(1),s.sc("ngIf",t.tableSortBy===t.SortBy.SECTION_NAME&&t.tableSortOrder===t.SortOrder.ASC)}}function y(t,e){1&t&&s.Rb(0,"i",13)}function E(t,e){1&t&&s.Rb(0,"i",14)}function O(t,e){1&t&&s.Rb(0,"i",13)}function C(t,e){1&t&&s.Rb(0,"i",14)}function v(t,e){1&t&&s.Rb(0,"i",13)}function T(t,e){1&t&&s.Rb(0,"i",14)}function N(t,e){1&t&&s.Rb(0,"i",13)}function A(t,e){1&t&&s.Rb(0,"i",14)}function B(t,e){if(1&t&&(s.Wb(0,"td"),s.Qc(1),s.Vb()),2&t){const t=s.kc().$implicit;s.Cb(1),s.Rc(t.student.sectionName)}}const M=function(t){return{"disabled mouse-hover-only":t}};function w(t,e){if(1&t&&(s.Wb(0,"a",22),s.Qc(1),s.Vb()),2&t){const t=e.isEnabled,n=e.tooltip,r=e.name,o=e.tmRouterLink,i=e.queryParams;s.sc("id",e.id)("ngClass",s.wc(6,M,!t))("ngbTooltip",t?n:"You do not have the permissions to access this feature")("tmRouterLink",o)("queryParams",i),s.Cb(1),s.Sc(" ",r,"")}}function V(t,e){1&t&&s.Sb(0)}function k(t,e){1&t&&s.Sb(0)}function I(t,e){if(1&t){const t=s.Xb();s.Ub(0),s.Wb(1,"button",23),s.ic("click",(function(){s.Fc(t);const e=s.kc(2).$implicit;return s.kc().openRemindModal(e)})),s.Qc(2,"Send Invite"),s.Vb(),s.Tb()}if(2&t){const t=s.kc(2).$implicit,e=s.kc();s.Cb(1),s.sc("ngClass",s.wc(3,M,!t.isAllowedToModifyStudent||!e.isActionButtonsEnabled))("disabled",!e.isActionButtonsEnabled)("ngbTooltip",t.isAllowedToModifyStudent&&e.isActionButtonsEnabled?"Email an invitation to the student requesting him/her to join the course using his/her Google Account. Note: Students can use TEAMMATES without 'joining', but a joined student can access extra features e.g. set up a user profile":"You do not have the permissions to access this feature")}}function W(t,e){if(1&t&&(s.Ub(0),s.Oc(1,I,3,5,"ng-container",17),s.Tb()),2&t){const t=s.kc().$implicit,e=s.kc();s.Cb(1),s.sc("ngIf",t.student.joinState===e.JoinState.NOT_JOINED)}}function R(t,e){1&t&&s.Sb(0)}const P=function(t,e){return{courseid:t,studentemail:e}},_=function(t,e){return{id:"btn-view-details",isEnabled:t,tooltip:"View the details of the student",name:"View",tmRouterLink:"/web/instructor/courses/student/details",queryParams:e}},F=function(t,e,n){return{id:"btn-edit-details",isEnabled:t,tooltip:e,name:"Edit",tmRouterLink:"/web/instructor/courses/student/edit",queryParams:n}},L=function(t,e){return{id:"btn-view-records",isEnabled:t,tooltip:"View all data about this student",name:"All Records",tmRouterLink:"/web/instructor/students/records",queryParams:e}};function Q(t,e){if(1&t){const t=s.Xb();s.Wb(0,"tr",15),s.Wb(1,"td"),s.Rb(2,"tm-view-photo-popover",16),s.lc(3,"formatPhotoUrl"),s.Vb(),s.Oc(4,B,2,1,"td",17),s.Wb(5,"td"),s.Qc(6),s.Vb(),s.Wb(7,"td"),s.Qc(8),s.Vb(),s.Wb(9,"td"),s.Qc(10),s.lc(11,"joinState"),s.Vb(),s.Wb(12,"td"),s.Qc(13),s.Vb(),s.Wb(14,"td",18),s.Oc(15,w,2,8,"ng-template",null,19,s.Pc),s.Oc(17,V,1,0,"ng-container",20),s.Oc(18,k,1,0,"ng-container",20),s.Oc(19,W,2,1,"ng-container",17),s.Wb(20,"button",21),s.ic("click",(function(){s.Fc(t);const n=e.$implicit;return s.kc().openDeleteModal(n)})),s.Qc(21,"Delete"),s.Vb(),s.Oc(22,R,1,0,"ng-container",20),s.Vb(),s.Vb()}if(2&t){const t=e.$implicit,n=s.Cc(16),r=s.kc();s.sc("hidden",r.isStudentToHide(t.student.email)),s.Cb(2),s.sc("photoUrl",s.nc(3,18,t.student.email,r.courseId))("useViewPhotoBtn",!0),s.Cb(2),s.sc("ngIf",r.hasSection()),s.Cb(2),s.Rc(t.student.teamName),s.Cb(2),s.Rc(t.student.name),s.Cb(2),s.Rc(s.mc(11,21,t.student.joinState)),s.Cb(3),s.Rc(t.student.email),s.Cb(4),s.sc("ngTemplateOutlet",n)("ngTemplateOutletContext",s.xc(26,_,t.isAllowedToViewStudentInSection&&r.isActionButtonsEnabled,s.xc(23,P,r.courseId,t.student.email))),s.Cb(1),s.sc("ngTemplateOutlet",n)("ngTemplateOutletContext",s.yc(32,F,t.isAllowedToModifyStudent&&r.isActionButtonsEnabled,"Use this to edit the details of this student. To edit multiple students in one go, you can use the enroll page: Simply enroll students using the updated data and existing data will be updated accordingly",s.xc(29,P,r.courseId,t.student.email))),s.Cb(1),s.sc("ngIf",r.enableRemindButton),s.Cb(1),s.sc("ngClass",s.wc(36,M,!t.isAllowedToModifyStudent||!r.isActionButtonsEnabled))("ngbTooltip",t.isAllowedToModifyStudent&&r.isActionButtonsEnabled?"Delete the student and the corresponding submissions from the course":"You do not have the permissions to access this feature")("disabled",!r.isActionButtonsEnabled),s.Cb(2),s.sc("ngTemplateOutlet",n)("ngTemplateOutletContext",s.xc(41,L,r.isActionButtonsEnabled,s.xc(38,P,r.courseId,t.student.email)))}}const D=function(t,e){return{"thead-gray":t,"alert-primary font-weight-bold":e}};let H=(()=>{class t{constructor(t,e,n){this.statusMessageService=t,this.courseService=e,this.simpleModalService=n,this.courseId="",this.useGrayHeading=!0,this.listOfStudentsToHide=[],this.isHideTableHead=!1,this.enableRemindButton=!1,this.isActionButtonsEnabled=!0,this.students=[],this.tableSortBy=o.a.NONE,this.tableSortOrder=o.b.ASC,this.removeStudentFromCourseEvent=new s.n,this.sortStudentListEvent=new s.n,this.SortBy=o.a,this.SortOrder=o.b,this.JoinState=r.j}ngOnInit(){}hasSection(){return this.students.some(t=>"None"!==t.student.sectionName)}trackByFn(t,e){return e.student.email}openRemindModal(t){this.simpleModalService.openConfirmationModal("Send join request?",i.a.INFO,`Usually, there is no need to use this feature because TEAMMATES sends an automatic invite to students\n          at the opening time of each session. Send a join request to <strong>${t.student.email}</strong> anyway?`).result.then(()=>{this.remindStudentFromCourse(t.student.email)},()=>{})}openDeleteModal(t){this.simpleModalService.openConfirmationModal(`Delete student <strong>${t.student.name}</strong>?`,i.a.DANGER,`Are you sure you want to remove <strong>${t.student.name}</strong> from the course <strong>${this.courseId}?</strong>`).result.then(()=>{this.removeStudentFromCourse(t.student.email)},()=>{})}remindStudentFromCourse(t){this.courseService.remindStudentForJoin(this.courseId,t).subscribe(t=>{this.statusMessageService.showSuccessToast(t.message)},t=>{this.statusMessageService.showErrorToast(t.error.message)})}removeStudentFromCourse(t){this.removeStudentFromCourseEvent.emit(t)}isStudentToHide(t){return this.listOfStudentsToHide.indexOf(t)>-1}sortStudentList(t){this.sortStudentListEvent.emit(t)}}return t.\u0275fac=function(e){return new(e||t)(s.Qb(a.a),s.Qb(c.a),s.Qb(d.a))},t.\u0275cmp=s.Kb({type:t,selectors:[["tm-student-list"]],inputs:{courseId:"courseId",useGrayHeading:"useGrayHeading",listOfStudentsToHide:"listOfStudentsToHide",isHideTableHead:"isHideTableHead",enableRemindButton:"enableRemindButton",isActionButtonsEnabled:"isActionButtonsEnabled",students:"students",tableSortBy:"tableSortBy",tableSortOrder:"tableSortOrder"},outputs:{removeStudentFromCourseEvent:"removeStudentFromCourseEvent",sortStudentListEvent:"sortStudentListEvent"},decls:35,vars:16,consts:[[1,"table-responsive"],[1,"table","table-bordered","table-striped","m-0"],[3,"ngClass","hidden"],["class","sortable-header",3,"click",4,"ngIf"],[1,"sortable-header",3,"click"],[1,"fa-stack"],[1,"fas","fa-sort"],["class","fas fa-sort-down",4,"ngIf"],["class","fas fa-sort-up",4,"ngIf"],["id","sort-by-name",1,"sortable-header",3,"click"],["id","sort-by-status",1,"sortable-header",3,"click"],[1,"align-center"],["s","",3,"hidden",4,"ngFor","ngForOf","ngForTrackBy"],[1,"fas","fa-sort-down"],[1,"fas","fa-sort-up"],["s","",3,"hidden"],[3,"photoUrl","useViewPhotoBtn"],[4,"ngIf"],[1,"no-print","align-center"],["actionButton",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["id","btn-delete",1,"btn","btn-light","btn-sm","btn-margin-right",3,"ngClass","ngbTooltip","disabled","click"],["target","_blank","rel","noopener noreferrer",1,"btn","btn-light","btn-sm","btn-margin-right",3,"id","ngClass","ngbTooltip","tmRouterLink","queryParams"],["id","btn-send-invite",1,"btn","btn-light","btn-sm","btn-margin-right",3,"ngClass","disabled","ngbTooltip","click"]],template:function(t,e){1&t&&(s.Wb(0,"div",0),s.Wb(1,"table",1),s.Wb(2,"thead",2),s.Wb(3,"tr"),s.Wb(4,"th"),s.Qc(5,"Photo"),s.Vb(),s.Oc(6,p,6,2,"th",3),s.Wb(7,"th",4),s.ic("click",(function(){return e.sortStudentList(e.SortBy.TEAM_NAME)})),s.Qc(8," Team "),s.Wb(9,"span",5),s.Rb(10,"i",6),s.Oc(11,y,1,0,"i",7),s.Oc(12,E,1,0,"i",8),s.Vb(),s.Vb(),s.Wb(13,"th",9),s.ic("click",(function(){return e.sortStudentList(e.SortBy.RESPONDENT_NAME)})),s.Qc(14," Student Name "),s.Wb(15,"span",5),s.Rb(16,"i",6),s.Oc(17,O,1,0,"i",7),s.Oc(18,C,1,0,"i",8),s.Vb(),s.Vb(),s.Wb(19,"th",10),s.ic("click",(function(){return e.sortStudentList(e.SortBy.JOIN_STATUS)})),s.Qc(20," Status "),s.Wb(21,"span",5),s.Rb(22,"i",6),s.Oc(23,v,1,0,"i",7),s.Oc(24,T,1,0,"i",8),s.Vb(),s.Vb(),s.Wb(25,"th",4),s.ic("click",(function(){return e.sortStudentList(e.SortBy.RESPONDENT_EMAIL)})),s.Qc(26," Email "),s.Wb(27,"span",5),s.Rb(28,"i",6),s.Oc(29,N,1,0,"i",7),s.Oc(30,A,1,0,"i",8),s.Vb(),s.Vb(),s.Wb(31,"th",11),s.Qc(32,"Action(s)"),s.Vb(),s.Vb(),s.Vb(),s.Wb(33,"tbody"),s.Oc(34,Q,23,44,"tr",12),s.Vb(),s.Vb(),s.Vb()),2&t&&(s.Cb(2),s.sc("ngClass",s.xc(13,D,e.useGrayHeading,!e.useGrayHeading))("hidden",e.isHideTableHead),s.Cb(4),s.sc("ngIf",e.hasSection()),s.Cb(5),s.sc("ngIf",e.tableSortBy===e.SortBy.TEAM_NAME&&e.tableSortOrder===e.SortOrder.DESC),s.Cb(1),s.sc("ngIf",e.tableSortBy===e.SortBy.TEAM_NAME&&e.tableSortOrder===e.SortOrder.ASC),s.Cb(5),s.sc("ngIf",e.tableSortBy===e.SortBy.RESPONDENT_NAME&&e.tableSortOrder===e.SortOrder.DESC),s.Cb(1),s.sc("ngIf",e.tableSortBy===e.SortBy.RESPONDENT_NAME&&e.tableSortOrder===e.SortOrder.ASC),s.Cb(5),s.sc("ngIf",e.tableSortBy===e.SortBy.JOIN_STATUS&&e.tableSortOrder===e.SortOrder.DESC),s.Cb(1),s.sc("ngIf",e.tableSortBy===e.SortBy.JOIN_STATUS&&e.tableSortOrder===e.SortOrder.ASC),s.Cb(5),s.sc("ngIf",e.tableSortBy===e.SortBy.RESPONDENT_EMAIL&&e.tableSortOrder===e.SortOrder.DESC),s.Cb(1),s.sc("ngIf",e.tableSortBy===e.SortBy.RESPONDENT_EMAIL&&e.tableSortOrder===e.SortOrder.ASC),s.Cb(4),s.sc("ngForOf",e.students)("ngForTrackBy",e.trackByFn))},directives:[u.r,u.u,u.t,b.a,u.B,l.w,m.a],pipes:[S.a,h.a],styles:[".align-center[_ngcontent-%COMP%]{text-align:center}.table[_ngcontent-%COMP%]   .thead-gray[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#495057;background-color:#dadada}.mouse-hover-only[_ngcontent-%COMP%]{pointer-events:auto!important}.mouse-hover-only[_ngcontent-%COMP%]:active{pointer-events:none!important}.sortable-header[_ngcontent-%COMP%]{cursor:pointer}"]}),t})()},KVTi:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var s=n("fXoL"),r=n("3Pt+");let o=(()=>{class t{constructor(){this.searchParams={searchKey:""},this.searched=new s.n,this.searchParamsChange=new s.n}ngOnInit(){}search(){this.searched.emit()}triggerSearchParamsChangeEvent(t,e){this.searchParamsChange.emit(Object.assign({},this.searchParams,{[t]:e}))}onSearchKeyChange(t){this.triggerSearchParamsChangeEvent("searchKey",t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Kb({type:t,selectors:[["tm-instructor-search-bar"]],inputs:{searchParams:"searchParams"},outputs:{searched:"searched",searchParamsChange:"searchParamsChange"},decls:21,vars:2,consts:[[1,"card","bg-light","mb-4"],[1,"card-body"],[1,"text-muted"],[1,"form-group"],[1,"input-group"],["type","text","id","search-keyword","placeholder","Your search keyword",1,"form-control",3,"ngModel","ngModelChange","keyup.enter"],[1,"input-group-append"],["id","btn-search",1,"btn","btn-primary",3,"disabled","click"]],template:function(t,e){1&t&&(s.Wb(0,"div",0),s.Wb(1,"div",1),s.Wb(2,"div",2),s.Qc(3," You can search for students from all your courses here. "),s.Vb(),s.Wb(4,"div",2),s.Qc(5," Search Tips:"),s.Rb(6,"br"),s.Wb(7,"ul"),s.Wb(8,"li"),s.Qc(9,"Put more keywords to search for more precise results."),s.Vb(),s.Wb(10,"li"),s.Qc(11,"Put quotation marks around words "),s.Wb(12,"b"),s.Qc(13,'"[any word]"'),s.Vb(),s.Qc(14," to search for an exact phrase in an exact order."),s.Vb(),s.Vb(),s.Vb(),s.Wb(15,"div",3),s.Wb(16,"div",4),s.Wb(17,"input",5),s.ic("ngModelChange",(function(t){return e.onSearchKeyChange(t)}))("keyup.enter",(function(){return e.search()})),s.Vb(),s.Wb(18,"div",6),s.Wb(19,"button",7),s.ic("click",(function(){return e.search()})),s.Qc(20,"Search"),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb()),2&t&&(s.Cb(17),s.sc("ngModel",e.searchParams.searchKey),s.Cb(2),s.sc("disabled",""===e.searchParams.searchKey))},directives:[r.c,r.p,r.s],styles:[".invalid-field[_ngcontent-%COMP%]{padding-top:5px;color:#b50000}"]}),t})()},n94H:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var s=n("ofXK"),r=n("tyNb"),o=n("1kSV"),i=n("SEFB"),a=n("TOej"),c=n("fXoL");let d=(()=>{class t{}return t.\u0275mod=c.Ob({type:t}),t.\u0275inj=c.Nb({factory:function(e){return new(e||t)},imports:[[s.c,o.y,r.h,i.a,a.a]]}),t})()},pDZj:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var s=n("fXoL"),r=n("p6cw"),o=n("6NZ/"),i=n("I8MS"),a=n("ofXK"),c=n("0zMG");function d(t,e){if(1&t){const t=s.Xb();s.Wb(0,"div",4),s.Wb(1,"div",5),s.Qc(2),s.Vb(),s.Wb(3,"div",6),s.Wb(4,"tm-student-list",7),s.ic("sortStudentListEvent",(function(n){s.Fc(t);const r=e.$implicit;return s.kc().sortStudentList(r.students,n)}))("removeStudentFromCourseEvent",(function(n){s.Fc(t);const r=e.$implicit;return s.kc().removeStudent(r.students,n)})),s.Vb(),s.Vb(),s.Vb()}if(2&t){const t=e.$implicit,n=s.kc();s.Cb(2),s.Sc("[",t.courseId,"]"),s.Cb(2),s.sc("courseId",t.courseId)("students",t.students)("useGrayHeading",!0)("enableRemindButton",!1)("isActionButtonsEnabled",n.isActionButtonsEnabled)("tableSortBy",n.studentSortBy)("tableSortOrder",n.studentSortOrder)}}let u=(()=>{class t{constructor(t){this.tableComparatorService=t,this.studentTables=[],this.isActionButtonsEnabled=!0,this.removeStudentFromCourseEvent=new s.n,this.studentSortBy=r.a.NONE,this.studentSortOrder=r.b.ASC}ngOnInit(){}sortStudentList(t,e){this.studentSortBy=e,this.studentSortOrder=this.studentSortOrder===r.b.DESC?r.b.ASC:r.b.DESC,t.sort(this.sortStudentBy(e,this.studentSortOrder))}sortStudentBy(t,e){const n=new o.a;return t===r.a.NONE?(t,n)=>this.tableComparatorService.compare(r.a.SECTION_NAME,e,t.student.sectionName,n.student.sectionName)||this.tableComparatorService.compare(r.a.TEAM_NAME,e,t.student.teamName,n.student.teamName)||this.tableComparatorService.compare(r.a.RESPONDENT_NAME,e,t.student.name,n.student.name):(s,o)=>{let i,a;switch(t){case r.a.SECTION_NAME:i=s.student.sectionName,a=o.student.sectionName;break;case r.a.RESPONDENT_NAME:i=s.student.name,a=o.student.name;break;case r.a.TEAM_NAME:i=s.student.teamName,a=o.student.teamName;break;case r.a.RESPONDENT_EMAIL:i=s.student.email,a=o.student.email;break;case r.a.JOIN_STATUS:i=n.transform(s.student.joinState),a=n.transform(o.student.joinState);break;default:i="",a=""}return this.tableComparatorService.compare(t,e,i,a)}}removeStudent(t,e){const n=t.find(t=>t.student.email===e);n&&this.removeStudentFromCourseEvent.emit(n)}}return t.\u0275fac=function(e){return new(e||t)(s.Qb(i.a))},t.\u0275cmp=s.Kb({type:t,selectors:[["tm-student-result-table"]],inputs:{studentTables:"studentTables",isActionButtonsEnabled:"isActionButtonsEnabled"},outputs:{removeStudentFromCourseEvent:"removeStudentFromCourseEvent"},decls:5,vars:1,consts:[[1,"card","border","border-primary","mb-4"],[1,"card-header","text-white","bg-primary","font-weight-bold"],[1,"card-body","p-3"],["class","card border border-light-blue mb-3 student-course-table",4,"ngFor","ngForOf"],[1,"card","border","border-light-blue","mb-3","student-course-table"],[1,"card-header","alert-primary","font-weight-bold"],[1,"card-body","p-0"],[3,"courseId","students","useGrayHeading","enableRemindButton","isActionButtonsEnabled","tableSortBy","tableSortOrder","sortStudentListEvent","removeStudentFromCourseEvent"]],template:function(t,e){1&t&&(s.Wb(0,"div",0),s.Wb(1,"div",1),s.Qc(2,"Students"),s.Vb(),s.Wb(3,"div",2),s.Oc(4,d,5,8,"div",3),s.Vb(),s.Vb()),2&t&&(s.Cb(4),s.sc("ngForOf",e.studentTables))},directives:[a.t,c.a],styles:[".border-light-blue[_ngcontent-%COMP%]{border-color:rgba(0,123,255,.2)!important}"]}),t})()},qw4y:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var s=n("ofXK"),r=n("3Pt+"),o=n("XWfC"),i=n("VZAO"),a=n("n94H"),c=n("fXoL");let d=(()=>{class t{}return t.\u0275mod=c.Ob({type:t}),t.\u0275inj=c.Nb({factory:function(e){return new(e||t)},imports:[[s.c,a.a,r.j,o.a,i.a]]}),t})()}}]);