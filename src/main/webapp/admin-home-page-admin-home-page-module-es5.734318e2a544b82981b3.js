function _createForOfIteratorHelper(t,n){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=_unsupportedIterableToArray(t))||n&&t&&"number"==typeof t.length){i&&(t=i);var r=0,e=function(){};return{s:e,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,c=!0,o=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return c=t.done,t},e:function(t){o=!0,s=t},f:function(){try{c||null==i.return||i.return()}finally{if(o)throw s}}}}function _unsupportedIterableToArray(t,n){if(t){if("string"==typeof t)return _arrayLikeToArray(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,n):void 0}}function _arrayLikeToArray(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,r=new Array(n);i<n;i++)r[i]=t[i];return r}function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,n,i){return n&&_defineProperties(t.prototype,n),i&&_defineProperties(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{Wsbs:function(t,n,i){"use strict";i.d(n,"a",(function(){return e}));var r=i("fXoL"),e=function(){var t=function(){function t(){_classCallCheck(this,t),this.useBlueSpinner=!1}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}();return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=r.Kb({type:t,selectors:[["tm-ajax-loading"]],inputs:{useBlueSpinner:"useBlueSpinner"},decls:2,vars:3,consts:[[1,"loading-container"],["role","status"]],template:function(t,n){1&t&&(r.Wb(0,"div",0),r.Rb(1,"div",1),r.Vb()),2&t&&(r.Cb(1),r.Fb("spinner-border spinner-border-sm text-",n.useBlueSpinner?"primary":"white",""))},styles:[".loading-container[_ngcontent-%COMP%]{display:inline;margin-right:10px}"]}),t}()},qt4E:function(t,n,i){"use strict";i.r(n),i.d(n,"AdminHomePageModule",(function(){return C}));var r=i("ofXK"),e=i("3Pt+"),s=i("tyNb"),c=i("n6pr"),o=i("nYR2"),a=i("fXoL"),u=i("PWrf"),d=i("Wsbs");function b(t,n){if(1&t){var i=a.Xb();a.Wb(0,"div",22),a.Wb(1,"button",23),a.ic("click",(function(){a.Fc(i);var t=a.kc().index;return a.kc(2).addInstructor(t)})),a.Qc(2,"Add Instructor"),a.Vb(),a.Wb(3,"button",24),a.ic("click",(function(){a.Fc(i);var t=a.kc().index;return a.kc(2).cancelInstructor(t)})),a.Qc(4,"Cancel"),a.Vb(),a.Vb()}if(2&t){var r=a.kc().index,e=a.kc(2);a.Cb(1),a.uc("id","add-instructor-",r,""),a.sc("disabled",e.activeRequests>0),a.Cb(2),a.uc("id","cancel-instructor-",r,"")}}function l(t,n){if(1&t&&(a.Wb(0,"span",25),a.Qc(1),a.Wb(2,"a",26),a.Qc(3,"join link"),a.Vb(),a.Qc(4,"] "),a.Vb()),2&t){var i=a.kc(),r=i.$implicit;a.uc("id","message-instructor-",i.index,""),a.Cb(1),a.Sc(' Instructor "',r.name,'" has been successfully created. ['),a.Cb(1),a.tc("href",r.joinLink,a.Ic)}}function f(t,n){if(1&t&&(a.Wb(0,"span",27),a.Qc(1),a.Vb()),2&t){var i=a.kc(),r=i.$implicit;a.uc("id","message-instructor-",i.index,""),a.Cb(1),a.Rc(r.message)}}function p(t,n){if(1&t&&(a.Wb(0,"tr"),a.Wb(1,"td"),a.Qc(2),a.Vb(),a.Wb(3,"td"),a.Qc(4),a.Vb(),a.Wb(5,"td"),a.Qc(6),a.Vb(),a.Wb(7,"td"),a.Oc(8,b,5,3,"div",18),a.Vb(),a.Wb(9,"td"),a.Qc(10),a.Vb(),a.Wb(11,"td",19),a.Oc(12,l,5,3,"span",20),a.Oc(13,f,2,2,"span",21),a.Vb(),a.Vb()),2&t){var i=n.$implicit;a.Cb(2),a.Rc(i.name),a.Cb(2),a.Rc(i.email),a.Cb(2),a.Rc(i.institution),a.Cb(2),a.sc("ngIf","PENDING"===i.status||"FAIL"===i.status),a.Cb(2),a.Rc(i.status),a.Cb(2),a.sc("ngIf","SUCCESS"===i.status),a.Cb(1),a.sc("ngIf","FAIL"===i.status)}}function g(t,n){1&t&&a.Rb(0,"tm-ajax-loading")}function m(t,n){if(1&t){var i=a.Xb();a.Wb(0,"div",0),a.Wb(1,"div",12),a.Wb(2,"strong"),a.Qc(3,"Result"),a.Vb(),a.Vb(),a.Wb(4,"div",1),a.Wb(5,"div",13),a.Wb(6,"table",14),a.Wb(7,"thead"),a.Wb(8,"tr"),a.Wb(9,"th"),a.Qc(10,"Name"),a.Vb(),a.Wb(11,"th"),a.Qc(12,"Email"),a.Vb(),a.Wb(13,"th"),a.Qc(14,"Institution"),a.Vb(),a.Wb(15,"th"),a.Qc(16,"Action"),a.Vb(),a.Wb(17,"th"),a.Qc(18,"Status"),a.Vb(),a.Wb(19,"th"),a.Qc(20,"Message"),a.Vb(),a.Vb(),a.Vb(),a.Wb(21,"tbody"),a.Oc(22,p,14,7,"tr",15),a.Vb(),a.Vb(),a.Wb(23,"button",16),a.ic("click",(function(){return a.Fc(i),a.kc().addAllInstructors()})),a.Oc(24,g,1,0,"tm-ajax-loading",17),a.Qc(25," Add All Instructors "),a.Vb(),a.Vb(),a.Vb(),a.Vb()}if(2&t){var r=a.kc();a.Cb(22),a.sc("ngForOf",r.instructorsConsolidated),a.Cb(1),a.sc("disabled",r.activeRequests>0||r.isAddingInstructors),a.Cb(1),a.sc("ngIf",r.isAddingInstructors)}}var h,v,I=[{path:"",component:(h=function(){function t(n){_classCallCheck(this,t),this.accountService=n,this.instructorDetails="",this.instructorName="",this.instructorEmail="",this.instructorInstitution="",this.instructorsConsolidated=[],this.activeRequests=0,this.isAddingInstructors=!1}return _createClass(t,[{key:"validateAndAddInstructorDetails",value:function(){var t,n=[],i=_createForOfIteratorHelper(this.instructorDetails.split(/\r?\n/));try{for(i.s();!(t=i.n()).done;){var r=t.value,e=r.split(/[|\t]/).map((function(t){return t.trim()}));e.length<3?n.push(r):e[0]&&e[1]&&e[2]?this.instructorsConsolidated.push({name:e[0],email:e[1],institution:e[2],status:"PENDING"}):n.push(r)}}catch(s){i.e(s)}finally{i.f()}this.instructorDetails=n.join("\r\n")}},{key:"validateAndAddInstructorDetail",value:function(){this.instructorName&&this.instructorEmail&&this.instructorInstitution&&(this.instructorsConsolidated.push({name:this.instructorName,email:this.instructorEmail,institution:this.instructorInstitution,status:"PENDING"}),this.instructorName="",this.instructorEmail="",this.instructorInstitution="")}},{key:"addInstructor",value:function(t){var n=this,i=this.instructorsConsolidated[t];"PENDING"!==i.status&&"FAIL"!==i.status||(this.activeRequests+=1,i.status="ADDING",this.isAddingInstructors=!0,this.accountService.createAccount({instructorEmail:i.email,instructorName:i.name,instructorInstitution:i.institution}).pipe(Object(o.a)((function(){return n.isAddingInstructors=!1}))).subscribe((function(t){i.status="SUCCESS",i.joinLink=t.joinLink,n.activeRequests-=1}),(function(t){i.status="FAIL",i.message=t.error.message,n.activeRequests-=1})))}},{key:"cancelInstructor",value:function(t){this.instructorsConsolidated.splice(t,1)}},{key:"addAllInstructors",value:function(){for(var t=0;t<this.instructorsConsolidated.length;t+=1)this.addInstructor(t)}}]),t}(),h.\u0275fac=function(t){return new(t||h)(a.Qb(u.a))},h.\u0275cmp=a.Kb({type:h,selectors:[["tm-admin-home-page"]],decls:33,vars:5,consts:[[1,"card","bg-light","top-padded"],[1,"card-body"],[1,"text-muted"],[1,"fas","fa-exclamation-circle"],["id","instructor-details-single-line",1,"form-control",3,"ngModel","ngModelChange"],[1,"top-padded"],["id","add-instructor-single-line",1,"btn","btn-primary",3,"click"],["type","text","id","instructor-name",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","instructor-email",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","instructor-institution",1,"form-control",3,"ngModel","ngModelChange"],["id","add-instructor",1,"btn","btn-primary",3,"click"],["class","card bg-light top-padded",4,"ngIf"],[1,"card-header","bg-primary","text-white"],[1,"table-responsive"],[1,"table","table-striped","table-hover"],[4,"ngFor","ngForOf"],["id","add-all-instructors",1,"btn","btn-primary","top-padded",3,"disabled","click"],[4,"ngIf"],["class","button-group",4,"ngIf"],[2,"width","500px"],[3,"id",4,"ngIf"],["class","message",3,"id",4,"ngIf"],[1,"button-group"],[1,"action-btn","btn","btn-sm","btn-primary","text-nowrap",2,"margin-right","10px",3,"id","disabled","click"],[1,"action-btn","btn","btn-sm","btn-danger",3,"id","click"],[3,"id"],[3,"href"],[1,"message",3,"id"]],template:function(t,n){1&t&&(a.Wb(0,"div",0),a.Wb(1,"div",1),a.Wb(2,"div"),a.Wb(3,"strong"),a.Qc(4,"Adding Multiple Instructors"),a.Vb(),a.Wb(5,"p",2),a.Rb(6,"i",3),a.Qc(7," Add Instructor Details in the format: Name | Email | Institution "),a.Vb(),a.Wb(8,"textarea",4),a.ic("ngModelChange",(function(t){return n.instructorDetails=t})),a.Vb(),a.Vb(),a.Wb(9,"div",5),a.Wb(10,"button",6),a.ic("click",(function(){return n.validateAndAddInstructorDetails()})),a.Qc(11,"Add Instructors"),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Wb(12,"div",0),a.Wb(13,"div",1),a.Wb(14,"div"),a.Wb(15,"strong"),a.Qc(16,"Adding a Single Instructor"),a.Vb(),a.Vb(),a.Wb(17,"div",5),a.Wb(18,"strong"),a.Qc(19,"Name:"),a.Vb(),a.Wb(20,"input",7),a.ic("ngModelChange",(function(t){return n.instructorName=t})),a.Vb(),a.Vb(),a.Wb(21,"div",5),a.Wb(22,"strong"),a.Qc(23,"Email: "),a.Vb(),a.Wb(24,"input",8),a.ic("ngModelChange",(function(t){return n.instructorEmail=t})),a.Vb(),a.Vb(),a.Wb(25,"div",5),a.Wb(26,"strong"),a.Qc(27,"Institution: "),a.Vb(),a.Wb(28,"input",9),a.ic("ngModelChange",(function(t){return n.instructorInstitution=t})),a.Vb(),a.Vb(),a.Wb(29,"div",5),a.Wb(30,"button",10),a.ic("click",(function(){return n.validateAndAddInstructorDetail()})),a.Qc(31,"Add Instructor"),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Oc(32,m,26,3,"div",11)),2&t&&(a.Cb(8),a.sc("ngModel",n.instructorDetails),a.Cb(12),a.sc("ngModel",n.instructorName),a.Cb(4),a.sc("ngModel",n.instructorEmail),a.Cb(4),a.sc("ngModel",n.instructorInstitution),a.Cb(4),a.sc("ngIf",n.instructorsConsolidated.length))},directives:[e.c,e.p,e.s,r.u,r.t,d.a],styles:[".top-padded[_ngcontent-%COMP%]{margin-top:20px}.button-group[_ngcontent-%COMP%]{display:-ms-flexbox;display:flex}.action-btn[_ngcontent-%COMP%]{margin:2px}.message[_ngcontent-%COMP%]{display:inline-block;width:inherit}"]}),h)}],C=((v=function t(){_classCallCheck(this,t)}).\u0275mod=a.Ob({type:v}),v.\u0275inj=a.Nb({factory:function(t){return new(t||v)},imports:[[r.c,e.j,s.h.forChild(I),c.a]]}),v)}}]);