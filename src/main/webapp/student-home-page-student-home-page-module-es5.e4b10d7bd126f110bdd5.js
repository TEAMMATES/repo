function _createForOfIteratorHelper(e,s){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=_unsupportedIterableToArray(e))||s&&e&&"number"==typeof e.length){t&&(e=t);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,a=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return o=e.done,e},e:function(e){a=!0,r=e},f:function(){try{o||null==t.return||t.return()}finally{if(a)throw r}}}}function _unsupportedIterableToArray(e,s){if(e){if("string"==typeof e)return _arrayLikeToArray(e,s);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,s):void 0}}function _arrayLikeToArray(e,s){(null==s||s>e.length)&&(s=e.length);for(var t=0,n=new Array(s);t<s;t++)n[t]=e[t];return n}function _classCallCheck(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,s){for(var t=0;t<s.length;t++){var n=s[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,s,t){return s&&_defineProperties(e.prototype,s),t&&_defineProperties(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{"4mYk":function(e,s,t){"use strict";t.d(s,"a",(function(){return r}));var n=t("fXoL"),i=t("A3DQ"),r=function(){var e=function(){function e(s){_classCallCheck(this,e),this.timezoneService=s}return _createClass(e,[{key:"transform",value:function(e,s){return this.timezoneService.formatToString(e,s,"ddd, DD MMM YYYY, HH:mm A z")}}]),e}();return e.\u0275fac=function(s){return new(s||e)(n.Qb(i.b))},e.\u0275pipe=n.Pb({name:"formatDateDetail",type:e,pure:!0}),e}()},Babz:function(e,s,t){"use strict";t.d(s,"a",(function(){return c}));var n=t("fXoL"),i=t("ofXK");function r(e,s){if(1&e){var t=n.Xb();n.Wb(0,"div",2),n.Wb(1,"p",3),n.Qc(2),n.Vb(),n.Wb(3,"button",4),n.ic("click",(function(){return n.Fc(t),n.kc().retryEvent.emit()})),n.Rb(4,"i",5),n.Qc(5,"\xa0Retry"),n.Vb(),n.Vb()}if(2&e){var i=n.kc();n.Cb(2),n.Rc(i.message)}}function o(e,s){1&e&&n.qc(0)}var a=["*"],c=function(){var e=function(){function e(){_classCallCheck(this,e),this.message="",this.shouldShowRetry=!1,this.retryEvent=new n.n}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(s){return new(s||e)},e.\u0275cmp=n.Kb({type:e,selectors:[["tm-loading-retry"]],inputs:{message:"message",shouldShowRetry:"shouldShowRetry"},outputs:{retryEvent:"retryEvent"},ngContentSelectors:a,decls:3,vars:2,consts:[["class","text-center",4,"ngIf","ngIfElse"],["content",""],[1,"text-center"],[1,"text-muted","m-1"],[1,"btn","btn-primary",3,"click"],["aria-hidden","true",1,"fas","fa-redo"]],template:function(e,s){if(1&e&&(n.rc(),n.Oc(0,r,6,1,"div",0),n.Oc(1,o,1,0,"ng-template",null,1,n.Pc)),2&e){var t=n.Cc(2);n.sc("ngIf",s.shouldShowRetry)("ngIfElse",t)}},directives:[i.u],styles:[""]}),e}()},YvKL:function(e,s,t){"use strict";t.r(s),t.d(s,"StudentHomePageModule",(function(){return H}));var n,i,r,o=t("ofXK"),a=t("tyNb"),c=t("1kSV"),u=t("mYbV"),b=t("aSpy"),d=t("SEFB"),l=t("TOej"),f=t("fXoL"),m=((n=function e(){_classCallCheck(this,e)}).\u0275mod=f.Ob({type:n}),n.\u0275inj=f.Nb({factory:function(e){return new(e||n)},imports:[[o.c]]}),n),h=t("nYR2"),p=t("R8lv"),S=t("p6cw"),g=t("vKUq"),v=t("Uqoa"),y=t("MbNv"),C=t("A3DQ"),k=t("I8MS"),w=t("Babz"),O=t("Lcal"),I=t("W872"),V=((r=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e,s,t){return e&&t?"Submitted":e&&!t?"Pending":s?"Awaiting":"Closed"}}]),e}()).\u0275fac=function(e){return new(e||r)},r.\u0275pipe=f.Pb({name:"sessionSubmissionStatus",type:r,pure:!0}),r),W=((i=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e){return e?"Published":"Not Published"}}]),e}()).\u0275fac=function(e){return new(e||i)},i.\u0275pipe=f.Pb({name:"sessionResponseStatus",type:i,pure:!0}),i),T=t("4mYk");function P(e,s){1&e&&f.Rb(0,"div")}function F(e,s){1&e&&(f.Wb(0,"div"),f.Qc(1," You are not enrolled in any courses. Please refer to the "),f.Wb(2,"a",4),f.Qc(3,"help page"),f.Vb(),f.Qc(4," if you need more information. "),f.Vb())}function E(e,s){if(1&e){var t=f.Xb();f.Wb(0,"div",7),f.Wb(1,"div",8),f.Wb(2,"div",9),f.Wb(3,"strong",10),f.Qc(4," Sort By: "),f.Vb(),f.Wb(5,"div",11),f.Wb(6,"button",12),f.ic("click",(function(){f.Fc(t);var e=f.kc(2);return e.sortCoursesBy(e.SortBy.COURSE_ID)})),f.Qc(7,"Course ID"),f.Vb(),f.Wb(8,"button",13),f.ic("click",(function(){f.Fc(t);var e=f.kc(2);return e.sortCoursesBy(e.SortBy.COURSE_NAME)})),f.Qc(9,"Course Name"),f.Vb(),f.Vb(),f.Vb(),f.Vb(),f.Vb()}if(2&e){var n=f.kc(2);f.Cb(6),f.sc("disabled",n.sortBy===n.SortBy.COURSE_ID),f.Cb(2),f.sc("disabled",n.sortBy===n.SortBy.COURSE_NAME)}}var _=function(e){return{courseid:e}};function Q(e,s){if(1&e&&(f.Wb(0,"div",18),f.Wb(1,"strong"),f.Qc(2),f.Vb(),f.Wb(3,"div",19),f.Wb(4,"a",20),f.Qc(5," View team "),f.Vb(),f.Vb(),f.Vb()),2&e){var t=s.ngIf,n=f.kc().index;f.Cb(2),f.Tc("[",t.courseId,"]: ",t.courseName,""),f.Cb(2),f.uc("id","view-team-btn-",n,""),f.sc("queryParams",f.wc(4,_,t.courseId))}}function R(e,s){if(1&e&&(f.Wb(0,"td"),f.Qc(1),f.lc(2,"formatDateDetail"),f.Vb()),2&e){var t=f.kc().$implicit;f.Cb(1),f.Rc(f.nc(2,1,t.session.submissionEndTimestamp,t.session.timeZone))}}function L(e,s){if(1&e&&(f.Wb(0,"a",27),f.Qc(1," Start Submission "),f.Vb()),2&e){var t=f.kc().index;f.uc("id","disabled-start-submit-btn-",t,"")}}var A=function(e,s){return{courseid:e,fsname:s}};function N(e,s){if(1&e&&(f.Wb(0,"a",28),f.Qc(1," Start Submission "),f.Vb()),2&e){var t=f.kc(),n=t.$implicit;f.uc("id","start-submit-btn-",t.index,""),f.sc("queryParams",f.xc(2,A,n.session.courseId,n.session.feedbackSessionName))}}function B(e,s){if(1&e&&(f.Wb(0,"a",28),f.Qc(1," Edit Submission "),f.Vb()),2&e){var t=f.kc(),n=t.$implicit;f.uc("id","edit-submit-btn-",t.index,""),f.sc("queryParams",f.xc(2,A,n.session.courseId,n.session.feedbackSessionName))}}function x(e,s){if(1&e&&(f.Wb(0,"a",28),f.Qc(1," View Submission "),f.Vb()),2&e){var t=f.kc(),n=t.$implicit;f.uc("id","view-submit-btn-",t.index,""),f.sc("queryParams",f.xc(2,A,n.session.courseId,n.session.feedbackSessionName))}}var M=function(e){return{disabled:e}};function D(e,s){if(1&e&&(f.Wb(0,"tr"),f.Ub(1),f.Wb(2,"td"),f.Qc(3),f.Vb(),f.Oc(4,R,3,4,"td",22),f.Wb(5,"td"),f.Wb(6,"span",23),f.Qc(7),f.lc(8,"sessionSubmissionStatus"),f.Vb(),f.Vb(),f.Wb(9,"td"),f.Wb(10,"span",23),f.Qc(11),f.lc(12,"sessionResponseStatus"),f.Vb(),f.Vb(),f.Wb(13,"td"),f.Wb(14,"a",24),f.Qc(15," View Responses "),f.Vb(),f.Oc(16,L,2,1,"a",25),f.Oc(17,N,2,5,"a",26),f.Oc(18,B,2,5,"a",26),f.Oc(19,x,2,5,"a",26),f.Vb(),f.Tb(),f.Vb()),2&e){var t=s.$implicit,n=s.index,i=f.kc(4);f.Cb(3),f.Rc(t.session.feedbackSessionName),f.Cb(1),f.sc("ngIf",t.session.submissionEndTimestamp),f.Cb(2),f.sc("ngbTooltip",i.getSubmissionStatusTooltip(t)),f.Cb(1),f.Sc(" ",f.oc(8,13,t.isOpened,t.isWaitingToOpen,t.isSubmitted)," "),f.Cb(3),f.sc("ngbTooltip",i.getResponseStatusTooltip(t.isPublished)),f.Cb(1),f.Sc(" ",f.mc(12,17,t.isPublished)," "),f.Cb(3),f.uc("id","view-responses-btn-",n,""),f.sc("ngClass",f.wc(19,M,!t.isPublished))("queryParams",f.xc(21,A,t.session.courseId,t.session.feedbackSessionName)),f.Cb(2),f.sc("ngIf",t.isWaitingToOpen),f.Cb(1),f.sc("ngIf",t.isOpened&&!t.isSubmitted),f.Cb(1),f.sc("ngIf",t.isOpened&&t.isSubmitted),f.Cb(1),f.sc("ngIf",!t.isOpened&&!t.isWaitingToOpen)}}function q(e,s){if(1&e&&(f.Wb(0,"table",21),f.Wb(1,"thead"),f.Wb(2,"tr"),f.Wb(3,"th"),f.Qc(4,"Session Name"),f.Vb(),f.Wb(5,"th"),f.Qc(6,"Deadline"),f.Vb(),f.Wb(7,"th"),f.Qc(8,"Submissions"),f.Vb(),f.Wb(9,"th"),f.Qc(10,"Responses"),f.Vb(),f.Wb(11,"th"),f.Qc(12,"Action(s)"),f.Vb(),f.Vb(),f.Vb(),f.Wb(13,"tbody"),f.Oc(14,D,20,24,"tr",6),f.Vb(),f.Vb()),2&e){var t=f.kc().$implicit;f.Cb(14),f.sc("ngForOf",t.feedbackSessions)}}function j(e,s){1&e&&(f.Wb(0,"table",21),f.Wb(1,"tbody"),f.Wb(2,"tr"),f.Wb(3,"th",29),f.Qc(4," Currently, there are no open evaluation/feedback sessions in this course. When a session is open for submission you will be notified. "),f.Vb(),f.Vb(),f.Vb(),f.Vb())}function U(e,s){if(1&e&&(f.Ub(0),f.Wb(1,"div",14),f.Oc(2,Q,6,6,"div",15),f.Wb(3,"div",16),f.Oc(4,q,15,1,"table",17),f.Oc(5,j,5,0,"table",17),f.Vb(),f.Vb(),f.Tb()),2&e){var t=s.$implicit;f.Cb(2),f.sc("ngIf",t.course),f.Cb(2),f.sc("ngIf",t.feedbackSessions&&t.feedbackSessions.length),f.Cb(1),f.sc("ngIf",!(t.feedbackSessions&&t.feedbackSessions.length))}}function Y(e,s){if(1&e&&(f.Oc(0,E,10,2,"div",5),f.Oc(1,U,6,3,"ng-container",6)),2&e){var t=f.kc();f.sc("ngIf",t.courses.length),f.Cb(1),f.sc("ngForOf",t.courses)}}var X,z,$=[{path:"",component:(X=function(){function e(s,t,n,i,r,o){_classCallCheck(this,e),this.route=s,this.courseService=t,this.statusMessageService=n,this.feedbackSessionsService=i,this.timezoneService=r,this.tableComparatorService=o,this.SortBy=S.a,this.studentFeedbackSessionStatusPublished="The responses for the session have been published and can now be viewed.",this.studentFeedbackSessionStatusNotPublished="The responses for the session have not yet been published and cannot be viewed.",this.studentFeedbackSessionStatusAwaiting="The session is not open for submission at this time. It is expected to open later.",this.studentFeedbackSessionStatusPending="The feedback session is yet to be completed by you.",this.studentFeedbackSessionStatusSubmitted="You have submitted your feedback for this session.",this.studentFeedbackSessionStatusClosed=" The session is now closed for submissions.",this.courses=[],this.isCoursesLoading=!1,this.hasCoursesLoadingFailed=!1,this.sortBy=S.a.NONE,this.timezoneService.getTzVersion()}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.route.queryParams.subscribe((function(){e.loadStudentCourses()}))}},{key:"loadStudentCourses",value:function(){var e=this;this.hasCoursesLoadingFailed=!1,this.isCoursesLoading=!0,this.courses=[],this.courseService.getAllCoursesAsStudent().subscribe((function(s){s.courses.length||(e.isCoursesLoading=!1);var t,n=_createForOfIteratorHelper(s.courses);try{var i=function(){var s=t.value;e.feedbackSessionsService.getFeedbackSessionsForStudent(s.courseId).pipe(Object(h.a)((function(){return e.isCoursesLoading=!1}))).subscribe((function(t){var n,i=e.sortFeedbackSessions(t),r=[],o=_createForOfIteratorHelper(i);try{var a=function(){var t=n.value,i=t.submissionStatus===p.f.OPEN,o=t.submissionStatus===p.f.VISIBLE_NOT_OPEN,a=t.publishStatus===p.e.PUBLISHED;e.feedbackSessionsService.hasStudentResponseForFeedbackSession(s.courseId,t.feedbackSessionName).subscribe((function(e){r.push(Object.assign({},{isOpened:i,isWaitingToOpen:o,isPublished:a,isSubmitted:e.hasResponses,session:t}))}),(function(s){e.hasCoursesLoadingFailed=!0,e.statusMessageService.showErrorToast(s.error.message)}))};for(o.s();!(n=o.n()).done;)a()}catch(c){o.e(c)}finally{o.f()}e.courses.push(Object.assign({},{course:s,feedbackSessions:r})),e.courses.sort((function(e,s){return e.course.courseId>s.course.courseId?1:-1}))}),(function(s){e.hasCoursesLoadingFailed=!0,e.statusMessageService.showErrorToast(s.error.message)}))};for(n.s();!(t=n.n()).done;)i()}catch(r){n.e(r)}finally{n.f()}}),(function(s){e.hasCoursesLoadingFailed=!0,e.statusMessageService.showErrorToast(s.error.message)}))}},{key:"getSubmissionStatusTooltip",value:function(e){var s="";return s+=e.isWaitingToOpen?this.studentFeedbackSessionStatusAwaiting:e.isSubmitted?this.studentFeedbackSessionStatusSubmitted:this.studentFeedbackSessionStatusPending,e.isOpened||e.isWaitingToOpen||(s+=this.studentFeedbackSessionStatusClosed),s}},{key:"getResponseStatusTooltip",value:function(e){return e?this.studentFeedbackSessionStatusPublished:this.studentFeedbackSessionStatusNotPublished}},{key:"sortFeedbackSessions",value:function(e){return e.feedbackSessions.map((function(e){return Object.assign({},e)})).sort((function(e,s){return e.createdAtTimestamp>s.createdAtTimestamp||e.createdAtTimestamp===s.createdAtTimestamp&&e.submissionEndTimestamp>s.submissionEndTimestamp?1:-1}))}},{key:"sortCoursesBy",value:function(e){this.sortBy=e,this.courses.sort(this.sortPanelsBy(e))}},{key:"sortPanelsBy",value:function(e){var s=this;return function(t,n){var i,r;switch(e){case S.a.COURSE_NAME:i=t.course.courseName,r=n.course.courseName;break;case S.a.COURSE_ID:i=t.course.courseId,r=n.course.courseId;break;default:i="",r=""}return s.tableComparatorService.compare(e,S.b.ASC,i,r)}}}]),e}(),X.\u0275fac=function(e){return new(e||X)(f.Qb(a.a),f.Qb(g.a),f.Qb(v.a),f.Qb(y.a),f.Qb(C.b),f.Qb(k.a))},X.\u0275cmp=f.Kb({type:X,selectors:[["tm-student-home-page"]],decls:5,vars:5,consts:[[3,"shouldShowRetry","message","retryEvent"],[4,"tmIsLoading"],[4,"ngIf","ngIfElse"],["coursesContainer",""],["tmRouterLink","/web/student/help"],["class","row mb-2",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"row","mb-2"],[1,"col-12"],[1,"float-right"],[1,"d-inline"],[1,"btn-group"],["id","sort-course-id-btn",1,"btn","btn-light",3,"disabled","click"],["id","sort-course-name-btn",1,"btn","btn-light",3,"disabled","click"],[1,"card","bg-light","top-padded"],["class","card-header bg-primary text-white",4,"ngIf"],[1,"table-responsive"],["class","table table-striped table-bordered margin-0",4,"ngIf"],[1,"card-header","bg-primary","text-white"],[1,"card-header-btn-toolbar"],["tmRouterLink","/web/student/course",1,"btn","btn-primary","btn-sm","button",3,"queryParams","id"],[1,"table","table-striped","table-bordered","margin-0"],[4,"ngIf"],[3,"ngbTooltip"],["tmRouterLink","/web/student/sessions/result",1,"btn","btn-light","btn-sm","btn-margin-right",3,"ngClass","queryParams","id"],["class","btn btn-light btn-sm disabled",3,"id",4,"ngIf"],["tmRouterLink","/web/student/sessions/submission","class","btn btn-light btn-sm",3,"queryParams","id",4,"ngIf"],[1,"btn","btn-light","btn-sm","disabled",3,"id"],["tmRouterLink","/web/student/sessions/submission",1,"btn","btn-light","btn-sm",3,"queryParams","id"],[1,"align-center","white"]],template:function(e,s){if(1&e&&(f.Wb(0,"tm-loading-retry",0),f.ic("retryEvent",(function(){return s.loadStudentCourses()})),f.Oc(1,P,1,0,"div",1),f.Oc(2,F,5,0,"div",2),f.Oc(3,Y,2,2,"ng-template",null,3,f.Pc),f.Vb()),2&e){var t=f.Cc(4);f.sc("shouldShowRetry",s.hasCoursesLoadingFailed)("message","Failed to load courses"),f.Cb(1),f.sc("tmIsLoading",s.isCoursesLoading),f.Cb(1),f.sc("ngIf",!s.isCoursesLoading&&0==s.courses.length)("ngIfElse",t)}},directives:[w.a,O.a,o.u,I.a,o.t,c.w,o.r],pipes:[V,W,T.a],styles:[".margin-0[_ngcontent-%COMP%]{margin:0}"]}),X)}],H=((z=function e(){_classCallCheck(this,e)}).\u0275mod=f.Ob({type:z}),z.\u0275inj=f.Nb({factory:function(e){return new(e||z)},imports:[[o.c,a.h.forChild($),c.y,m,d.a,b.a,u.a,l.a]]}),z)},mYbV:function(e,s,t){"use strict";t.d(s,"a",(function(){return r}));var n=t("ofXK"),i=t("fXoL"),r=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=i.Ob({type:e}),e.\u0275inj=i.Nb({factory:function(s){return new(s||e)},imports:[[n.c]]}),e}()}}]);