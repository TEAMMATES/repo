(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"/SeH":function(e,t,n){"use strict";n.d(t,"a",(function(){return $}));var i=n("R8lv"),s=n("fXoL"),o=n("ofXK"),c=n("q1I8"),r=n("RmXC");let a=(()=>{class e{constructor(e,t){this.isStudentPage=!1,this.responseDetails=e,this.questionDetails=t}ngOnInit(){}}return e.\u0275fac=function(e){s.hc()},e.\u0275dir=s.Lb({type:e,inputs:{responseDetails:"responseDetails",questionDetails:"questionDetails",isStudentPage:"isStudentPage"}}),e})();function l(e,t){1&e&&(s.Wb(0,"span",3),s.Qc(1,"Not Sure"),s.Vb())}function m(e,t){1&e&&(s.Wb(0,"span",3),s.Qc(1,"0%"),s.Vb())}function u(e,t){1&e&&(s.Wb(0,"span",4),s.Qc(1,"N/A"),s.Vb())}function d(e,t){1&e&&s.Rb(0,"span",4)}function b(e,t){1&e&&(s.Wb(0,"span",4),s.Qc(1,"Equal Share"),s.Vb())}function p(e,t){if(1&e&&(s.Wb(0,"span",5),s.Qc(1),s.Vb()),2&e){const e=s.kc();s.Cb(1),s.Sc("Equal Share +",e.answer-100,"%")}}function f(e,t){if(1&e&&(s.Wb(0,"span",3),s.Qc(1),s.Vb()),2&e){const e=s.kc();s.Cb(1),s.Sc("Equal Share -",100-e.answer,"%")}}let g=(()=>{class e extends a{constructor(){super(Object(c.e)(),Object(c.d)()),this.statistics="",this.giverEmail="",this.recipientEmail="",this.answer=100,this.CONTRIBUTION_POINT_EQUAL_SHARE=r.a,this.CONTRIBUTION_POINT_NOT_SUBMITTED=r.c,this.CONTRIBUTION_POINT_NOT_SURE=r.d,this.CONTRIBUTION_POINT_NOT_INITIALIZED=r.b}ngOnInit(){if(this.answer=this.responseDetails.answer,this.statistics){const e=JSON.parse(this.statistics);this.answer=this.giverEmail===this.recipientEmail?e.results[this.giverEmail].claimed:e.results[this.giverEmail].claimedOthers[this.recipientEmail]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Kb({type:e,selectors:[["tm-contribution-question-response"]],inputs:{statistics:"statistics",giverEmail:"giverEmail",recipientEmail:"recipientEmail"},features:[s.zb],decls:7,vars:7,consts:[["class","color-negative",4,"ngIf"],["class","color-neutral",4,"ngIf"],["class","color-positive",4,"ngIf"],[1,"color-negative"],[1,"color-neutral"],[1,"color-positive"]],template:function(e,t){1&e&&(s.Oc(0,l,2,0,"span",0),s.Oc(1,m,2,0,"span",0),s.Oc(2,u,2,0,"span",1),s.Oc(3,d,1,0,"span",1),s.Oc(4,b,2,0,"span",1),s.Oc(5,p,2,1,"span",2),s.Oc(6,f,2,1,"span",0)),2&e&&(s.sc("ngIf",t.answer===t.CONTRIBUTION_POINT_NOT_SURE),s.Cb(1),s.sc("ngIf",0===t.answer),s.Cb(1),s.sc("ngIf",t.answer===t.CONTRIBUTION_POINT_NOT_SUBMITTED),s.Cb(1),s.sc("ngIf",t.answer===t.CONTRIBUTION_POINT_NOT_INITIALIZED),s.Cb(1),s.sc("ngIf",t.answer===t.CONTRIBUTION_POINT_EQUAL_SHARE),s.Cb(1),s.sc("ngIf",t.answer>t.CONTRIBUTION_POINT_EQUAL_SHARE),s.Cb(1),s.sc("ngIf",t.answer<t.CONTRIBUTION_POINT_EQUAL_SHARE&&t.answer>0))},directives:[o.u],styles:[".color-neutral[_ngcontent-%COMP%]{color:grey}.color-positive[_ngcontent-%COMP%]{color:green}.color-negative[_ngcontent-%COMP%]{color:red}"]}),e})(),h=(()=>{class e extends a{constructor(){super(Object(c.s)(),Object(c.r)())}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Kb({type:e,selectors:[["tm-text-question-response"]],features:[s.zb],decls:1,vars:1,consts:[[3,"innerHTML"]],template:function(e,t){1&e&&s.Rb(0,"div",0),2&e&&s.sc("innerHTML",t.responseDetails.answer,s.Gc)},styles:[""]}),e})();function C(e,t){if(1&e&&(s.Wb(0,"span"),s.Qc(1),s.Vb()),2&e){const e=s.kc();s.Cb(1),s.Rc(e.responseDetails.answers)}}function v(e,t){if(1&e&&(s.Wb(0,"li"),s.Qc(1),s.Vb()),2&e){const e=t.$implicit;s.Cb(1),s.Tc("",e.key,": ",e.value,"")}}function E(e,t){if(1&e&&(s.Wb(0,"ul"),s.Oc(1,v,2,2,"li",1),s.lc(2,"keyvalue"),s.Vb()),2&e){const e=s.kc();s.Cb(1),s.sc("ngForOf",s.mc(2,1,e.optionToAnswer))}}let T=(()=>{class e extends a{constructor(){super(Object(c.c)(),Object(c.a)()),this.optionToAnswer={}}ngOnInit(){for(let e=0;e<this.questionDetails.constSumOptions.length;e+=1)this.optionToAnswer[this.questionDetails.constSumOptions[e]]=this.responseDetails.answers[e]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Kb({type:e,selectors:[["tm-constsum-question-response"]],features:[s.zb],decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(s.Oc(0,C,2,1,"span",0),s.Oc(1,E,3,3,"ul",0)),2&e&&(s.sc("ngIf",t.questionDetails.distributeToRecipients),s.Cb(1),s.sc("ngIf",!t.questionDetails.distributeToRecipients))},directives:[o.u,o.t],pipes:[o.m],styles:[""]}),e})(),O=(()=>{class e extends a{constructor(){super(Object(c.k)(),Object(c.j)())}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Kb({type:e,selectors:[["tm-num-scale-question-response"]],features:[s.zb],decls:1,vars:1,template:function(e,t){1&e&&s.Qc(0),2&e&&s.Sc("",t.responseDetails.answer,"\n")},styles:[""]}),e})();function y(e,t){if(1&e&&(s.Wb(0,"th",5),s.Qc(1),s.Vb()),2&e){const e=t.$implicit;s.Cb(1),s.Rc(e)}}function w(e,t){1&e&&s.Rb(0,"i",7)}function S(e,t){if(1&e&&(s.Wb(0,"td",5),s.Oc(1,w,1,0,"i",6),s.Vb()),2&e){const e=t.$implicit,n=s.kc().$implicit;s.Cb(1),s.sc("ngIf",n.answer===e)}}function I(e,t){if(1&e&&(s.Wb(0,"tr"),s.Wb(1,"td"),s.Qc(2),s.Vb(),s.Oc(3,S,2,1,"td",2),s.Vb()),2&e){const e=t.index,n=s.kc(2);s.Cb(2),s.Rc(n.questionDetails.rubricSubQuestions[e]),s.Cb(1),s.sc("ngForOf",n.questionDetails.rubricChoices)}}function R(e,t){if(1&e&&(s.Wb(0,"div"),s.Wb(1,"table",1),s.Wb(2,"thead"),s.Wb(3,"tr"),s.Wb(4,"th"),s.Qc(5,"Criteria"),s.Vb(),s.Oc(6,y,2,1,"th",2),s.Vb(),s.Vb(),s.Wb(7,"tbody",3),s.Oc(8,I,4,2,"tr",4),s.Vb(),s.Vb(),s.Vb()),2&e){const e=s.kc();s.Cb(6),s.sc("ngForOf",e.questionDetails.rubricChoices),s.Cb(2),s.sc("ngForOf",e.answers)}}function M(e,t){if(1&e&&(s.Wb(0,"li"),s.Qc(1),s.Wb(2,"span",9),s.Qc(3),s.Vb(),s.Vb()),2&e){const e=t.$implicit;s.Cb(1),s.Sc("",e.answer," "),s.Cb(2),s.Rc(e.index?"(Choice "+e.index+")":"")}}function N(e,t){if(1&e&&(s.Wb(0,"div"),s.Wb(1,"ol",8),s.Oc(2,M,4,2,"li",4),s.Vb(),s.Vb()),2&e){const e=s.kc();s.Cb(2),s.sc("ngForOf",e.answers)}}let V=(()=>{class e extends a{constructor(){super(Object(c.q)(),Object(c.p)()),this.answers=[]}ngOnInit(){for(const e of this.responseDetails.answer)this.answers.push({index:e+1,answer:-1===e?"No Response":this.questionDetails.rubricChoices[e]})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Kb({type:e,selectors:[["tm-rubric-question-response"]],features:[s.zb],decls:2,vars:2,consts:[[4,"ngIf"],[1,"table","table-bordered"],["class","text-center",4,"ngFor","ngForOf"],["id","rubric-answers"],[4,"ngFor","ngForOf"],[1,"text-center"],["class","fas fa-check",4,"ngIf"],[1,"fas","fa-check"],["type","a"],[1,"choice-index"]],template:function(e,t){1&e&&(s.Oc(0,R,9,2,"div",0),s.Oc(1,N,3,1,"div",0)),2&e&&(s.sc("ngIf",t.isStudentPage),s.Cb(1),s.sc("ngIf",!t.isStudentPage))},directives:[o.u,o.t],styles:[".choice-index[_ngcontent-%COMP%]{color:grey}"]}),e})();function k(e,t){if(1&e&&(s.Wb(0,"li"),s.Qc(1),s.Vb()),2&e){const e=t.$implicit;s.Cb(1),s.Tc("",e.rank,": ",e.option,"")}}let D=(()=>{class e extends a{constructor(){super(Object(c.m)(),Object(c.l)()),this.orderedAnswer=[]}ngOnInit(){let e=[];for(let t=0;t<this.questionDetails.options.length;t+=1){const n=this.responseDetails.answers[t];n!==r.h&&(e[n]=e[n]||[],e[n].push({rank:n,option:this.questionDetails.options[t]}))}e=e.filter(e=>e);for(const t of e)for(const e of t)this.orderedAnswer.push(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Kb({type:e,selectors:[["tm-rank-options-question-response"]],features:[s.zb],decls:2,vars:1,consts:[[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(s.Wb(0,"ul"),s.Oc(1,k,2,2,"li",0),s.Vb()),2&e&&(s.Cb(1),s.sc("ngForOf",t.orderedAnswer))},directives:[o.t],styles:[""]}),e})(),_=(()=>{class e extends a{constructor(){super(Object(c.o)(),Object(c.n)())}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Kb({type:e,selectors:[["tm-rank-recipients-question-response"]],features:[s.zb],decls:1,vars:1,template:function(e,t){1&e&&s.Qc(0),2&e&&s.Sc("",t.responseDetails.answer,"\n")},styles:[""]}),e})();function P(e,t){if(1&e&&(s.Wb(0,"li"),s.Qc(1),s.Vb()),2&e){const e=t.$implicit;s.Cb(1),s.Rc(e)}}function A(e,t){if(1&e&&(s.Wb(0,"ul"),s.Oc(1,P,2,1,"li",1),s.Vb()),2&e){const e=s.kc();s.Cb(1),s.sc("ngForOf",e.responseDetails.answers)}}let q=(()=>{class e extends a{constructor(){super(Object(c.i)(),Object(c.h)())}get isNoneOfTheAboveAnswer(){return 1===this.responseDetails.answers.length&&this.responseDetails.answers[0]===r.e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Kb({type:e,selectors:[["tm-msq-question-response"]],features:[s.zb],decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&s.Oc(0,A,2,1,"ul",0),2&e&&s.sc("ngIf",!t.isNoneOfTheAboveAnswer)},directives:[o.u,o.t],styles:[""]}),e})();var W=n("OxLm");function x(e,t){if(1&e&&(s.Rb(0,"span",2),s.lc(1,"safeHtml")),2&e){const e=s.kc();s.sc("innerHTML",s.mc(1,1,e.responseDetails.answer),s.Gc)}}function H(e,t){if(1&e&&(s.Wb(0,"span"),s.Qc(1),s.Vb()),2&e){const e=s.kc();s.Cb(1),s.Rc(e.responseDetails.otherFieldContent)}}let F=(()=>{class e extends a{constructor(){super(Object(c.g)(),Object(c.f)())}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Kb({type:e,selectors:[["tm-mcq-question-response"]],features:[s.zb],decls:2,vars:2,consts:[[3,"innerHTML",4,"ngIf"],[4,"ngIf"],[3,"innerHTML"]],template:function(e,t){1&e&&(s.Oc(0,x,2,3,"span",0),s.Oc(1,H,2,1,"span",1)),2&e&&(s.sc("ngIf",!t.responseDetails.isOther),s.Cb(1),s.sc("ngIf",t.responseDetails.isOther))},directives:[o.u],pipes:[W.a],styles:[""]}),e})();function B(e,t){if(1&e&&s.Rb(0,"tm-contribution-question-response",3),2&e){const e=s.kc();s.sc("responseDetails",e.responseDetails)("questionDetails",e.questionDetails)("statistics",e.statistics)("giverEmail",e.giverEmail)("recipientEmail",e.recipientEmail)}}function U(e,t){if(1&e&&s.Rb(0,"tm-text-question-response",4),2&e){const e=s.kc();s.sc("responseDetails",e.responseDetails)("questionDetails",e.questionDetails)}}function L(e,t){if(1&e&&s.Rb(0,"tm-constsum-question-response",4),2&e){const e=s.kc();s.sc("responseDetails",e.responseDetails)("questionDetails",e.questionDetails)}}function Q(e,t){if(1&e&&s.Rb(0,"tm-num-scale-question-response",4),2&e){const e=s.kc();s.sc("responseDetails",e.responseDetails)("questionDetails",e.questionDetails)}}function G(e,t){if(1&e&&s.Rb(0,"tm-rubric-question-response",5),2&e){const e=s.kc();s.sc("responseDetails",e.responseDetails)("questionDetails",e.questionDetails)("isStudentPage",e.isStudentPage)}}function X(e,t){if(1&e&&s.Rb(0,"tm-rank-options-question-response",4),2&e){const e=s.kc();s.sc("responseDetails",e.responseDetails)("questionDetails",e.questionDetails)}}function j(e,t){if(1&e&&s.Rb(0,"tm-rank-recipients-question-response",4),2&e){const e=s.kc();s.sc("responseDetails",e.responseDetails)("questionDetails",e.questionDetails)}}function K(e,t){if(1&e&&s.Rb(0,"tm-msq-question-response",4),2&e){const e=s.kc();s.sc("responseDetails",e.responseDetails)("questionDetails",e.questionDetails)}}function z(e,t){if(1&e&&s.Rb(0,"tm-mcq-question-response",4),2&e){const e=s.kc();s.sc("responseDetails",e.responseDetails)("questionDetails",e.questionDetails)}}let $=(()=>{class e{constructor(){this.responseDetails={questionType:i.d.TEXT},this.questionDetails={questionType:i.d.TEXT,questionText:""},this.isStudentPage=!1,this.statistics="",this.giverEmail="",this.recipientEmail="",this.FeedbackQuestionType=i.d}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Kb({type:e,selectors:[["tm-single-response"]],inputs:{responseDetails:"responseDetails",questionDetails:"questionDetails",isStudentPage:"isStudentPage",statistics:"statistics",giverEmail:"giverEmail",recipientEmail:"recipientEmail"},decls:9,vars:9,consts:[[3,"responseDetails","questionDetails","statistics","giverEmail","recipientEmail",4,"ngIf"],[3,"responseDetails","questionDetails",4,"ngIf"],[3,"responseDetails","questionDetails","isStudentPage",4,"ngIf"],[3,"responseDetails","questionDetails","statistics","giverEmail","recipientEmail"],[3,"responseDetails","questionDetails"],[3,"responseDetails","questionDetails","isStudentPage"]],template:function(e,t){1&e&&(s.Oc(0,B,1,5,"tm-contribution-question-response",0),s.Oc(1,U,1,2,"tm-text-question-response",1),s.Oc(2,L,1,2,"tm-constsum-question-response",1),s.Oc(3,Q,1,2,"tm-num-scale-question-response",1),s.Oc(4,G,1,3,"tm-rubric-question-response",2),s.Oc(5,X,1,2,"tm-rank-options-question-response",1),s.Oc(6,j,1,2,"tm-rank-recipients-question-response",1),s.Oc(7,K,1,2,"tm-msq-question-response",1),s.Oc(8,z,1,2,"tm-mcq-question-response",1)),2&e&&(s.sc("ngIf",t.responseDetails.questionType===t.FeedbackQuestionType.CONTRIB),s.Cb(1),s.sc("ngIf",t.responseDetails.questionType===t.FeedbackQuestionType.TEXT),s.Cb(1),s.sc("ngIf",t.responseDetails.questionType===t.FeedbackQuestionType.CONSTSUM),s.Cb(1),s.sc("ngIf",t.responseDetails.questionType===t.FeedbackQuestionType.NUMSCALE),s.Cb(1),s.sc("ngIf",t.responseDetails.questionType===t.FeedbackQuestionType.RUBRIC),s.Cb(1),s.sc("ngIf",t.responseDetails.questionType===t.FeedbackQuestionType.RANK_OPTIONS),s.Cb(1),s.sc("ngIf",t.responseDetails.questionType===t.FeedbackQuestionType.RANK_RECIPIENTS),s.Cb(1),s.sc("ngIf",t.responseDetails.questionType===t.FeedbackQuestionType.MSQ),s.Cb(1),s.sc("ngIf",t.responseDetails.questionType===t.FeedbackQuestionType.MCQ))},directives:[o.u,g,h,T,O,V,D,_,q,F],styles:[""]}),e})()},"/Tzu":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){return e[e.WARNING=0]="WARNING",e[e.DANGER=1]="DANGER",e[e.INFO=2]="INFO",e[e.NEUTRAL=3]="NEUTRAL",e[e.LOAD=4]="LOAD",e}({})},"/cM/":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){return e.SHOW_COMMENT="SHOW_COMMENT",e.SHOW_GIVER_NAME="SHOW_GIVER_NAME",e}({})},"2SuZ":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("R8lv"),s=n("fXoL");let o=(()=>{class e{transform(e){switch(e){case i.i.INSTRUCTOR_PERMISSION_ROLE_COOWNER:return"Co-owner: Can do everything.";case i.i.INSTRUCTOR_PERMISSION_ROLE_MANAGER:return"Manager: Can do everything except for deleting/restoring the course.";case i.i.INSTRUCTOR_PERMISSION_ROLE_OBSERVER:return"Observer: Can only view information(students, submissions, comments etc.). Cannot edit/delete/submit anything.";case i.i.INSTRUCTOR_PERMISSION_ROLE_TUTOR:return"Tutor: Can view student details, give/view comments, submit/view responses for sessions.";case i.i.INSTRUCTOR_PERMISSION_ROLE_CUSTOM:default:return"Custom: No access by default. Any access needs to be granted explicitly."}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=s.Pb({name:"instructorRoleDescription",type:e,pure:!0}),e})()},"4mYk":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("fXoL"),s=n("A3DQ");let o=(()=>{class e{constructor(e){this.timezoneService=e}transform(e,t){return this.timezoneService.formatToString(e,t,"ddd, DD MMM YYYY, HH:mm A z")}}return e.\u0275fac=function(t){return new(t||e)(i.Qb(s.b))},e.\u0275pipe=i.Pb({name:"formatDateDetail",type:e,pure:!0}),e})()},"7qkN":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){return e.SHOW_RESPONSE="SHOW_RESPONSE",e.SHOW_GIVER_NAME="SHOW_GIVER_NAME",e.SHOW_RECIPIENT_NAME="SHOW_RECIPIENT_NAME",e}({})},ERjh:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var i=n("fXoL"),s=n("ofXK"),o=n("1kSV"),c=n("W872");function r(e,t){if(1&e){const e=i.Xb();i.Wb(0,"img",3),i.ic("error",(function(){return i.Fc(e),i.kc().missingPhotoEventHandler()})),i.Vb()}if(2&e){const e=i.kc();i.tc("src",e.photoUrl,i.Ic)}}function a(e,t){if(1&e){const e=i.Xb();i.Wb(0,"span",4,5),i.ic("click",(function(t){i.Fc(e);const n=i.Cc(1),s=i.kc();return n.open(),t.stopPropagation(),s.showPhotoEvent.emit()}))("mouseleave",(function(){return i.Fc(e),i.Cc(1).close()})),i.qc(2),i.Vb()}if(2&e){i.kc();const e=i.Cc(1);i.sc("ngbPopover",e)}}function l(e,t){if(1&e){const e=i.Xb();i.Wb(0,"a",8),i.ic("click",(function(t){return i.Fc(e),i.kc(2).isPhotoShown=!0,t.stopPropagation()})),i.Qc(1," View Photo "),i.Vb()}}function m(e,t){if(1&e){const e=i.Xb();i.Wb(0,"img",9),i.ic("error",(function(){return i.Fc(e),i.kc(2).missingPhotoEventHandler()})),i.Vb()}if(2&e){const e=i.kc(2),t=i.Cc(1);i.tc("src",e.photoUrl,i.Ic),i.sc("ngbPopover",t)}}function u(e,t){if(1&e&&(i.Oc(0,l,2,0,"a",6),i.Oc(1,m,1,2,"img",7)),2&e){const e=i.kc();i.sc("ngIf",!e.isPhotoShown),i.Cb(1),i.sc("ngIf",e.useViewPhotoBtn&&e.isPhotoShown)}}const d=["*"];let b=(()=>{class e{constructor(){this.photoUrl="",this.useViewPhotoBtn=!1,this.showPhotoEvent=new i.n,this.isPhotoShown=!1}ngOnInit(){}missingPhotoEventHandler(){this.photoUrl="/assets/images/profile_picture_default.png"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Kb({type:e,selectors:[["tm-view-photo-popover"]],inputs:{photoUrl:"photoUrl",useViewPhotoBtn:"useViewPhotoBtn"},outputs:{showPhotoEvent:"showPhotoEvent"},ngContentSelectors:d,decls:5,vars:2,consts:[["popContent",""],["triggers","manual",3,"ngbPopover","click","mouseleave",4,"ngIf","ngIfElse"],["viewPhotoBtn",""],[1,"profile-pic",3,"src","error"],["triggers","manual",3,"ngbPopover","click","mouseleave"],["p","ngbPopover"],["role","button","queryParamsHandling","preserve",3,"tmRouterLink","click",4,"ngIf"],["class","profile-pic-icon","triggers","mouseenter:mouseleave",3,"src","ngbPopover","error",4,"ngIf"],["role","button","queryParamsHandling","preserve",3,"tmRouterLink","click"],["triggers","mouseenter:mouseleave",1,"profile-pic-icon",3,"src","ngbPopover","error"]],template:function(e,t){if(1&e&&(i.rc(),i.Oc(0,r,1,1,"ng-template",null,0,i.Pc),i.Oc(2,a,3,1,"span",1),i.Oc(3,u,2,2,"ng-template",null,2,i.Pc)),2&e){const e=i.Cc(4);i.Cb(2),i.sc("ngIf",!t.useViewPhotoBtn)("ngIfElse",e)}},directives:[s.u,o.o,c.a],styles:["img.profile-pic-icon[_ngcontent-%COMP%]{height:40px;width:40px}.profile-pic[_ngcontent-%COMP%]{height:130px;width:130px}"]}),e})()},EUNV:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("fXoL"),s=n("ofXK"),o=n("HQg1");function c(e,t){if(1&e){const e=i.Xb();i.Wb(0,"div",7),i.Wb(1,"tm-comment-table",8),i.ic("modelChange",(function(t){return i.Fc(e),i.kc().triggerModelChange(t)}))("updateCommentEvent",(function(t){return i.Fc(e),i.kc().triggerUpdateCommentEvent(t)}))("deleteCommentEvent",(function(t){return i.Fc(e),i.kc().triggerDeleteCommentEvent(t)}))("saveNewCommentEvent",(function(){return i.Fc(e),i.kc().triggerSaveNewCommentEvent()})),i.Vb(),i.Vb()}if(2&e){const e=i.kc();i.Cb(1),i.sc("model",e.model)("questionShowResponsesTo",e.questionShowResponsesTo)("shouldHideClosingButtonForNewComment",!0)("response",e.response)}}let r=(()=>{class e{constructor(){this.questionShowResponsesTo=[],this.model={commentRows:[],newCommentRow:{commentEditFormModel:{commentText:"",isUsingCustomVisibilities:!1,showCommentTo:[],showGiverNameTo:[]},isEditing:!0},isAddingNewComment:!0,isReadOnly:!1},this.modelChange=new i.n,this.saveNewCommentEvent=new i.n,this.deleteCommentEvent=new i.n,this.updateCommentEvent=new i.n}ngOnInit(){}ngOnChanges(){this.model.isAddingNewComment||this.modelChange.emit(Object.assign({},this.model,{isAddingNewComment:!0}))}triggerDeleteCommentEvent(e){this.deleteCommentEvent.emit(e)}triggerUpdateCommentEvent(e){this.updateCommentEvent.emit(e)}triggerSaveNewCommentEvent(){this.saveNewCommentEvent.emit()}triggerModelChange(e){this.modelChange.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Kb({type:e,selectors:[["tm-comment-table-modal"]],inputs:{response:"response",questionShowResponsesTo:"questionShowResponsesTo",model:"model",activeModal:"activeModal"},outputs:{modelChange:"modelChange",saveNewCommentEvent:"saveNewCommentEvent",deleteCommentEvent:"deleteCommentEvent",updateCommentEvent:"updateCommentEvent"},features:[i.Ab],decls:9,vars:1,consts:[[1,"modal-header"],[1,"modal-title"],["type","button",1,"close",3,"click"],[1,"fas","fa-times"],["class","modal-body",4,"ngIf"],[1,"modal-footer"],["id","btn-close-comments","type","button",1,"btn","btn-light",3,"click"],[1,"modal-body"],[3,"model","questionShowResponsesTo","shouldHideClosingButtonForNewComment","response","modelChange","updateCommentEvent","deleteCommentEvent","saveNewCommentEvent"]],template:function(e,t){1&e&&(i.Wb(0,"div",0),i.Wb(1,"h5",1),i.Qc(2,"Comments"),i.Vb(),i.Wb(3,"button",2),i.ic("click",(function(){return t.activeModal.dismiss()})),i.Rb(4,"i",3),i.Vb(),i.Vb(),i.Oc(5,c,2,4,"div",4),i.Wb(6,"div",5),i.Wb(7,"button",6),i.ic("click",(function(){return t.activeModal.dismiss()})),i.Qc(8,"Close"),i.Vb(),i.Vb()),2&e&&(i.Cb(5),i.sc("ngIf",t.model))},directives:[s.u,o.a],styles:[""]}),e})()},FYy5:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("R8lv"),s=n("fXoL");let o=(()=>{class e{transform(e){switch(e){case i.f.NOT_VISIBLE:case i.f.VISIBLE_NOT_OPEN:return"Awaiting";case i.f.OPEN:case i.f.GRACE_PERIOD:return"Open";case i.f.CLOSED:return"Closed";default:return"Unknown"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=s.Pb({name:"submissionStatusName",type:e,pure:!0}),e})()},Fw0q:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("fXoL");let s=(()=>{class e{transform(e){return e.replace(/(<img([^>]+)>)/gi,"[Image]").replace(/(<table((.|\s)*)<\/table>)/gi,"[Table]").replace(/(<([^>]+)>)/gi,"")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.Pb({name:"stripHtmlTags",type:e,pure:!0}),e})()},HQg1:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("fXoL"),s=n("JUCI"),o=n("mL+/"),c=n("ofXK");function r(e,t){if(1&e){const e=i.Xb();i.Wb(0,"div",5),i.Wb(1,"button",6),i.ic("click",(function(){return i.Fc(e),i.kc().handleAddingNewCommentEvent()})),i.Rb(2,"i",7),i.Qc(3,"\xa0"),i.Rb(4,"i",8),i.Vb(),i.Vb()}}function a(e,t){if(1&e){const e=i.Xb();i.Wb(0,"tm-comment-row",11),i.ic("modelChange",(function(t){i.Fc(e);const n=i.kc().index;return i.kc().triggerCommentRowChange(n,t)}))("deleteCommentEvent",(function(){i.Fc(e);const t=i.kc().index;return i.kc().triggerDeleteCommentEvent(t)}))("saveCommentEvent",(function(){i.Fc(e);const t=i.kc().index;return i.kc().triggerUpdateCommentEvent(t)}))("closeEditingEvent",(function(){i.Fc(e);const t=i.kc().index;return i.kc().handleCloseEditingCommentRowEvent(t)})),i.Vb()}if(2&e){const e=i.kc().$implicit,t=i.kc();i.sc("model",e)("isVisibilityOptionEnabled",!t.model.isReadOnly)("isDisabled",t.model.isReadOnly)("mode",t.CommentRowMode.EDIT)("questionShowResponsesTo",t.questionShowResponsesTo)("response",t.response)("shouldHideSavingButton",t.model.isReadOnly)("shouldHideClosingButton",t.model.isReadOnly)("shouldHideEditButton",t.model.isReadOnly)("shouldHideDeleteButton",t.model.isReadOnly)}}function l(e,t){if(1&e&&(i.Wb(0,"li",9),i.Oc(1,a,1,10,"tm-comment-row",10),i.Vb()),2&e){const e=t.$implicit;i.Cb(1),i.sc("ngIf",e.originalComment)}}function m(e,t){if(1&e){const e=i.Xb();i.Wb(0,"li",9),i.Wb(1,"tm-comment-row",12),i.ic("modelChange",(function(t){return i.Fc(e),i.kc().triggerModelChange("newCommentRow",t)}))("saveCommentEvent",(function(){return i.Fc(e),i.kc().triggerSaveNewCommentEvent()}))("closeEditingEvent",(function(){return i.Fc(e),i.kc().triggerModelChange("isAddingNewComment",!1)})),i.Vb(),i.Vb()}if(2&e){const e=i.kc();i.sc("@collapseAnim",void 0),i.Cb(1),i.sc("model",e.model.newCommentRow)("isDisabled",!1)("isVisibilityOptionEnabled",!0)("mode",e.CommentRowMode.ADD)("questionShowResponsesTo",e.questionShowResponsesTo)("response",e.response)("shouldHideClosingButton",e.shouldHideClosingButtonForNewComment)}}let u=(()=>{class e{constructor(){this.CommentRowMode=o.b,this.questionShowResponsesTo=[],this.displayAddCommentButton=!1,this.model={commentRows:[],newCommentRow:{commentEditFormModel:{commentText:"",isUsingCustomVisibilities:!1,showCommentTo:[],showGiverNameTo:[]},isEditing:!0},isAddingNewComment:!0,isReadOnly:!1},this.shouldHideClosingButtonForNewComment=!1,this.modelChange=new i.n,this.saveNewCommentEvent=new i.n,this.deleteCommentEvent=new i.n,this.updateCommentEvent=new i.n}ngOnInit(){}triggerDeleteCommentEvent(e){this.deleteCommentEvent.emit(e)}triggerUpdateCommentEvent(e){this.updateCommentEvent.emit(e)}triggerSaveNewCommentEvent(){this.saveNewCommentEvent.emit()}triggerCommentRowChange(e,t){const n=JSON.parse(JSON.stringify(this.model.commentRows));n[e]=t,this.triggerModelChange("commentRows",n)}triggerModelChange(e,t){this.modelChange.emit(Object.assign({},this.model,{[e]:t}))}trackByIndex(e){return e.toString()}handleCloseEditingCommentRowEvent(e){const t=JSON.parse(JSON.stringify(this.model.commentRows[e])),n=t.originalComment;t.commentEditFormModel={commentText:n.commentText,isUsingCustomVisibilities:!1,showCommentTo:n.showCommentTo,showGiverNameTo:n.showGiverNameTo},t.isEditing=!1,this.triggerCommentRowChange(e,t)}handleAddingNewCommentEvent(){this.triggerModelChange("isAddingNewComment",!0)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Kb({type:e,selectors:[["tm-comment-table"]],inputs:{response:"response",questionShowResponsesTo:"questionShowResponsesTo",displayAddCommentButton:"displayAddCommentButton",model:"model",shouldHideClosingButtonForNewComment:"shouldHideClosingButtonForNewComment"},outputs:{modelChange:"modelChange",saveNewCommentEvent:"saveNewCommentEvent",deleteCommentEvent:"deleteCommentEvent",updateCommentEvent:"updateCommentEvent"},decls:5,vars:6,consts:[[1,"card"],["class","card-header comment-table-header",4,"ngIf"],[1,"list-group","list-group-flush"],["class","list-group-item",4,"ngFor","ngForOf","ngForTrackBy"],["class","list-group-item",4,"ngIf"],[1,"card-header","comment-table-header"],["type","button",1,"btn","btn-light","btn-sm","float-right",3,"click"],[1,"fas","fa-comment"],[1,"fas","fa-plus"],[1,"list-group-item"],[3,"model","isVisibilityOptionEnabled","isDisabled","mode","questionShowResponsesTo","response","shouldHideSavingButton","shouldHideClosingButton","shouldHideEditButton","shouldHideDeleteButton","modelChange","deleteCommentEvent","saveCommentEvent","closeEditingEvent",4,"ngIf"],[3,"model","isVisibilityOptionEnabled","isDisabled","mode","questionShowResponsesTo","response","shouldHideSavingButton","shouldHideClosingButton","shouldHideEditButton","shouldHideDeleteButton","modelChange","deleteCommentEvent","saveCommentEvent","closeEditingEvent"],[3,"model","isDisabled","isVisibilityOptionEnabled","mode","questionShowResponsesTo","response","shouldHideClosingButton","modelChange","saveCommentEvent","closeEditingEvent"]],template:function(e,t){1&e&&(i.Wb(0,"div",0),i.Oc(1,r,5,0,"div",1),i.Wb(2,"ul",2),i.Oc(3,l,2,1,"li",3),i.Oc(4,m,2,8,"li",4),i.Vb(),i.Vb()),2&e&&(i.Hb("no-border",!t.displayAddCommentButton&&!t.model.isAddingNewComment&&!t.model.commentRows.length),i.Cb(1),i.sc("ngIf",!t.model.isReadOnly&&!t.model.isAddingNewComment&&t.displayAddCommentButton),i.Cb(2),i.sc("ngForOf",t.model.commentRows)("ngForTrackBy",t.trackByIndex),i.Cb(1),i.sc("ngIf",!t.model.isReadOnly&&t.model.isAddingNewComment))},directives:[c.u,c.t,o.a],styles:[".comment-table-header[_ngcontent-%COMP%]{background-color:rgba(0,0,0,0)}.no-border[_ngcontent-%COMP%]{border-width:0}"],data:{animation:[s.a]}}),e})()},JUCI:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("R0Ic");const s=Object(i.j)("collapseAnim",[Object(i.i)(":leave",[Object(i.h)({height:"*",overflow:"hidden"}),Object(i.e)("300ms ease-in-out",Object(i.h)({height:0,opacity:0}))]),Object(i.i)(":enter",[Object(i.h)({height:"0",overflow:"hidden"}),Object(i.e)("300ms ease-in-out",Object(i.h)({height:"*",opacity:1}))])])},KryH:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("fXoL");let s=(()=>{class e{transform(e,t){return{timezone:t,originalComment:e,commentGiverName:e.commentGiverName,lastEditorName:e.lastEditorName,commentEditFormModel:{commentText:e.commentText,isUsingCustomVisibilities:!e.isVisibilityFollowingFeedbackQuestion,showCommentTo:e.showCommentTo,showGiverNameTo:e.showGiverNameTo},isEditing:!1}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.Pb({name:"commentToCommentRowModel",type:e,pure:!0}),e})()},MBVI:function(e,t,n){"use strict";n.d(t,"a",(function(){return M}));var i=n("fXoL"),s=n("4JDO"),o=n("R8lv"),c=n("/cM/"),r=n("JUCI"),a=n("mL+/"),l=n("r0mR"),m=n("ofXK"),u=n("QlvD"),d=n("1kSV"),b=n("UGSt"),p=n("vxcI");function f(e,t){1&e&&(i.Wb(0,"div",2),i.Qc(1," Your comment about the above response "),i.Vb())}function g(e,t){if(1&e&&(i.Wb(0,"div",2),i.Qc(1),i.Rb(2,"br"),i.Qc(3),i.Vb()),2&e){const e=i.kc();i.Cb(1),i.Tc(" Giver: ",e.response.giver," (",e.response.giverTeam,")"),i.Cb(2),i.Tc(" Recipient: ",e.response.recipient," (",e.response.recipientTeam,") ")}}function h(e,t){if(1&e){const e=i.Xb();i.Wb(0,"button",11),i.ic("click",(function(){return i.Fc(e),i.kc().toggleVisibilityTable()})),i.Rb(1,"i",12),i.Qc(2),i.Vb()}if(2&e){const e=i.kc();i.Cb(2),i.Sc(" ",e.isVisibilityTableExpanded?"Hide":"Show"," Visibility Options")}}function C(e,t){if(1&e){const e=i.Xb();i.Wb(0,"button",15),i.ic("click",(function(){return i.Fc(e),i.kc(2).triggerCloseCommentBoxEvent()})),i.Wb(1,"span",16),i.Qc(2,"\xd7"),i.Vb(),i.Vb()}}function v(e,t){if(1&e&&(i.Wb(0,"span",13),i.Oc(1,C,3,0,"button",14),i.Vb()),2&e){const e=i.kc();i.Cb(1),i.sc("ngIf",!e.shouldHideClosingButton)}}function E(e,t){1&e&&(i.Wb(0,"p"),i.Qc(1,"You may change comment's visibility using the visibility options on the right hand side."),i.Vb())}function T(e,t){if(1&e&&(i.Wb(0,"th",21),i.Qc(1),i.lc(2,"commentVisibilityControlName"),i.Vb()),2&e){const e=t.$implicit;i.Cb(1),i.Rc(i.mc(2,1,e))}}function O(e,t){if(1&e){const e=i.Xb();i.Wb(0,"td",24),i.Wb(1,"input",25),i.ic("click",(function(n){i.Fc(e);const s=t.$implicit,o=i.kc(2).$implicit;return i.kc(2).modifyVisibilityControl(n.target.checked,o,s)})),i.Vb(),i.Vb()}if(2&e){const e=t.$implicit,n=i.kc(2).$implicit,s=i.kc(2);i.Cb(1),i.sc("checked",s.visibilityStateMachine.isVisible(n,e))}}function y(e,t){if(1&e&&(i.Wb(0,"tr"),i.Wb(1,"td"),i.Wb(2,"span",22),i.lc(3,"commentVisibilityTypeDescription"),i.Qc(4),i.lc(5,"commentVisibilityTypeName"),i.Vb(),i.Vb(),i.Oc(6,O,2,1,"td",23),i.lc(7,"enumToArray"),i.Vb()),2&e){const e=i.kc().$implicit,t=i.kc(2);i.Cb(2),i.sc("ngbTooltip",i.mc(3,3,e)),i.Cb(2),i.Rc(i.mc(5,5,e)),i.Cb(2),i.sc("ngForOf",i.mc(7,7,t.CommentVisibilityControl))}}function w(e,t){if(1&e&&(i.Ub(0),i.Oc(1,y,8,9,"tr",6),i.Tb()),2&e){const e=t.$implicit,n=i.kc(2);i.Cb(1),i.sc("ngIf",n.visibilityStateMachine.isVisibilityTypeApplicable(e))}}function S(e,t){if(1&e&&(i.Wb(0,"div"),i.Wb(1,"table",17),i.Wb(2,"thead"),i.Wb(3,"tr"),i.Wb(4,"th",18),i.Qc(5,"User/Group"),i.Vb(),i.Oc(6,T,3,3,"th",19),i.lc(7,"enumToArray"),i.Vb(),i.Vb(),i.Wb(8,"tbody"),i.Oc(9,w,2,1,"ng-container",20),i.lc(10,"enumToArray"),i.Vb(),i.Vb(),i.Vb()),2&e){const e=i.kc();i.sc("@collapseAnim",void 0),i.Cb(6),i.sc("ngForOf",i.mc(7,3,e.CommentVisibilityControl)),i.Cb(3),i.sc("ngForOf",i.mc(10,5,e.CommentVisibilityType))}}function I(e,t){if(1&e){const e=i.Xb();i.Wb(0,"button",26),i.ic("click",(function(){return i.Fc(e),i.kc().triggerSaveCommentEvent()})),i.Rb(1,"i",27),i.Qc(2),i.Vb()}if(2&e){const e=i.kc();i.sc("disabled",e.isDisabled),i.Cb(2),i.Sc(" ",e.mode==e.CommentRowMode.EDIT?"Save":"Add","")}}function R(e,t){if(1&e){const e=i.Xb();i.Wb(0,"button",28),i.ic("click",(function(){return i.Fc(e),i.kc().triggerCloseCommentBoxEvent()})),i.Rb(1,"i",29),i.Qc(2),i.Vb()}if(2&e){const e=i.kc();i.sc("disabled",e.isDisabled),i.Cb(2),i.Sc(" ",e.mode==e.CommentRowMode.EDIT?"Discard":"Cancel","")}}let M=(()=>{class e{constructor(e){this.commentService=e,this.FeedbackParticipantType=o.c,this.CommentVisibilityType=o.a,this.CommentVisibilityControl=c.a,this.CommentRowMode=a.b,this.mode=a.b.ADD,this.model={commentText:"",isUsingCustomVisibilities:!1,showCommentTo:[],showGiverNameTo:[]},this.isFeedbackParticipantComment=!1,this.questionShowResponsesTo=[],this.modelChange=new i.n,this.isDisabled=!1,this.shouldHideSavingButton=!1,this.shouldHideClosingButton=!1,this.isVisibilityOptionEnabled=!0,this.closeCommentBoxEvent=new i.n,this.saveCommentEvent=new i.n,this.isVisibilityTableExpanded=!1,this.visibilityStateMachine=this.commentService.getNewVisibilityStateMachine(this.questionShowResponsesTo)}ngOnInit(){this.response&&(this.response.giver=s.a.removeAnonymousHash(this.response.giver),this.response.recipient=s.a.removeAnonymousHash(this.response.recipient))}ngOnChanges(){this.visibilityStateMachine=this.commentService.getNewVisibilityStateMachine(this.questionShowResponsesTo),this.model.isUsingCustomVisibilities?this.visibilityStateMachine.applyVisibilitySettings({SHOW_COMMENT:this.model.showCommentTo,SHOW_GIVER_NAME:this.model.showGiverNameTo}):(this.visibilityStateMachine.allowAllApplicableTypesToSee(),this.triggerModelChangeBatch({isUsingCustomVisibilities:!0,showCommentTo:this.visibilityStateMachine.getVisibilityTypesUnderVisibilityControl(c.a.SHOW_COMMENT),showGiverNameTo:this.visibilityStateMachine.getVisibilityTypesUnderVisibilityControl(c.a.SHOW_GIVER_NAME)}))}toggleVisibilityTable(){this.isVisibilityTableExpanded=!this.isVisibilityTableExpanded}triggerModelChange(e,t){this.modelChange.emit(Object.assign({},this.model,{[e]:t}))}triggerModelChangeBatch(e){this.modelChange.emit(Object.assign(Object.assign({},this.model),e))}triggerCloseCommentBoxEvent(){this.closeCommentBoxEvent.emit()}triggerSaveCommentEvent(){this.saveCommentEvent.emit()}modifyVisibilityControl(e,t,n){e?this.visibilityStateMachine.allowToSee(t,n):this.visibilityStateMachine.disallowToSee(t,n),this.triggerModelChangeBatch({showCommentTo:this.visibilityStateMachine.getVisibilityTypesUnderVisibilityControl(c.a.SHOW_COMMENT),showGiverNameTo:this.visibilityStateMachine.getVisibilityTypesUnderVisibilityControl(c.a.SHOW_GIVER_NAME)})}}return e.\u0275fac=function(t){return new(t||e)(i.Qb(l.a))},e.\u0275cmp=i.Kb({type:e,selectors:[["tm-comment-edit-form"]],inputs:{mode:"mode",model:"model",isFeedbackParticipantComment:"isFeedbackParticipantComment",response:"response",questionShowResponsesTo:"questionShowResponsesTo",isDisabled:"isDisabled",shouldHideSavingButton:"shouldHideSavingButton",shouldHideClosingButton:"shouldHideClosingButton",isVisibilityOptionEnabled:"isVisibilityOptionEnabled"},outputs:{modelChange:"modelChange",closeCommentBoxEvent:"closeCommentBoxEvent",saveCommentEvent:"saveCommentEvent"},features:[i.Ab],decls:14,vars:10,consts:[[1,"row"],["class","col-6",4,"ngIf"],[1,"col-6"],[1,"float-right"],["class","btn btn-info btn-sm",3,"click",4,"ngIf"],["style","margin-left: 10px;",4,"ngIf"],[4,"ngIf"],[2,"margin","10px 0"],["placeholderText","Enter your comment here",3,"richText","isDisabled","richTextChange"],["type","button","class","btn btn-success btn-sm float-right btn-margin-left",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-light btn-sm float-right",3,"disabled","click",4,"ngIf"],[1,"btn","btn-info","btn-sm",3,"click"],[1,"fas","fa-eye"],[2,"margin-left","10px"],["type","button","class","close","aria-label","Close",3,"click",4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"table","margin-bottom-0","background-color-white","table-striped","table-responsive-md"],["scope","col",1,"text-left"],["scope","col","class","text-center",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["scope","col",1,"text-center"],["container","body",1,"ngb-tooltip-class",3,"ngbTooltip"],["class","text-center",4,"ngFor","ngForOf"],[1,"text-center"],["type","checkbox",3,"checked","click"],["type","button",1,"btn","btn-success","btn-sm","float-right","btn-margin-left",3,"disabled","click"],[1,"fas","fa-save"],["type","button",1,"btn","btn-light","btn-sm","float-right",3,"disabled","click"],[1,"fas","fa-times"]],template:function(e,t){1&e&&(i.Wb(0,"div",0),i.Oc(1,f,2,0,"div",1),i.Oc(2,g,4,4,"div",1),i.Wb(3,"div",2),i.Wb(4,"div",3),i.Wb(5,"span"),i.Oc(6,h,3,1,"button",4),i.Vb(),i.Oc(7,v,2,1,"span",5),i.Vb(),i.Vb(),i.Vb(),i.Oc(8,E,2,0,"p",6),i.Oc(9,S,11,7,"div",6),i.Wb(10,"div",7),i.Wb(11,"tm-rich-text-editor",8),i.ic("richTextChange",(function(e){return t.triggerModelChange("commentText",e)})),i.Vb(),i.Vb(),i.Oc(12,I,3,2,"button",9),i.Oc(13,R,3,2,"button",10)),2&e&&(i.Cb(1),i.sc("ngIf",t.isFeedbackParticipantComment),i.Cb(1),i.sc("ngIf",!t.isFeedbackParticipantComment&&t.response),i.Cb(4),i.sc("ngIf",t.isVisibilityOptionEnabled),i.Cb(1),i.sc("ngIf",!t.isVisibilityOptionEnabled),i.Cb(1),i.sc("ngIf",t.isVisibilityOptionEnabled),i.Cb(1),i.sc("ngIf",t.isVisibilityTableExpanded),i.Cb(2),i.sc("richText",t.model.commentText)("isDisabled",t.isDisabled),i.Cb(1),i.sc("ngIf",!t.shouldHideSavingButton),i.Cb(1),i.sc("ngIf",!t.shouldHideClosingButton))},directives:[m.u,u.a,m.t,d.w],pipes:[b.a,p.a,p.b,p.c],styles:[""],data:{animation:[r.a]}}),e})()},OxLm:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("fXoL"),s=n("jhN1");let o=(()=>{class e{constructor(e){this.domSanitizer=e}transform(e){return this.domSanitizer.bypassSecurityTrustHtml(e)}}return e.\u0275fac=function(t){return new(t||e)(i.Qb(s.b))},e.\u0275pipe=i.Pb({name:"safeHtml",type:e,pure:!0}),e})()},QlvD:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("fXoL"),s=n("8xKp"),o=n("Wuvc"),c=n("ofXK"),r=n("fB2i"),a=n("3Pt+");const l=function(e){return{"editor-disabled":e}};function m(e,t){if(1&e){const e=i.Xb();i.Wb(0,"editor",2),i.ic("ngModelChange",(function(t){return i.Fc(e),i.kc().richTextChange.emit(t)})),i.Vb()}if(2&e){const e=i.kc();i.sc("ngClass",i.wc(5,l,e.isDisabled))("init",e.init)("disabled",e.isDisabled)("ngModel",e.richText),i.Db("placeholder",e.placeholderText)}}let u=(()=>{class e{constructor(){this.isDisabled=!1,this.minHeightInPx=150,this.placeholderText="",this.richText="",this.richTextChange=new i.n,this.init={},this.render=!1}ngOnInit(){this.init=this.getEditorSettings()}getEditorSettings(){return{base_url:s.a,skin_url:s.a+"/skins/ui/oxide",content_css:"/assets/tinymce/tinymce.css",suffix:".min",height:this.minHeightInPx,resize:!0,inline:!1,relative_urls:!1,convert_urls:!1,remove_linebreaks:!1,placeholder:this.placeholderText,plugins:["advlist autolink autoresize lists link image charmap hr anchor","searchreplace wordcount visualblocks visualchars code","insertdatetime nonbreaking save table directionality","emoticons paste textpattern"],menubar:!1,autoresize_bottom_margin:50,toolbar1:"styleselect | forecolor backcolor | bold italic underline strikethrough subscript superscript | alignleft aligncenter alignright alignjustify | bullist numlist | link image charmap emoticons"}}renderEditor(e){e.visible&&(this.render=!0)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Kb({type:e,selectors:[["tm-rich-text-editor"]],inputs:{isDisabled:"isDisabled",minHeightInPx:"minHeightInPx",placeholderText:"placeholderText",richText:"richText"},outputs:{richTextChange:"richTextChange"},decls:2,vars:1,consts:[["inViewport","",3,"inViewportAction"],["class","editor",3,"ngClass","init","disabled","ngModel","ngModelChange",4,"ngIf"],[1,"editor",3,"ngClass","init","disabled","ngModel","ngModelChange"]],template:function(e,t){1&e&&(i.Wb(0,"div",0),i.ic("inViewportAction",(function(e){return t.renderEditor(e)})),i.Oc(1,m,1,7,"editor",1),i.Vb()),2&e&&(i.Cb(1),i.sc("ngIf",t.render))},directives:[o.a,c.u,r.a,c.r,a.p,a.s],styles:[".editor[_ngcontent-%COMP%]{background-color:#fff}.editor-disabled[_ngcontent-%COMP%]{background-color:#e9ecef;opacity:1}.editor-disabled[_ngcontent-%COMP%]     .tox-tinymce{opacity:.5}.placeholder[_ngcontent-%COMP%]{padding:.375rem .75rem;position:absolute}"]}),e})()},RMfs:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("R8lv"),s=n("fXoL");let o=(()=>{class e{transform(e){switch(e){case i.d.MCQ:return"Multiple-choice (single answer) question";case i.d.CONTRIB:return"Team contribution question";case i.d.TEXT:return"Essay question";case i.d.NUMSCALE:return"Numerical-scale question";case i.d.MSQ:return"Multiple-choice (multiple answers) question";case i.d.RANK_OPTIONS:return"Rank (options) question";case i.d.RANK_RECIPIENTS:return"Rank (recipients) question";case i.d.RUBRIC:return"Rubric question";case i.d.CONSTSUM_OPTIONS:return"Distribute points (among options) question";case i.d.CONSTSUM_RECIPIENTS:return"Distribute points (among recipients) question";default:return"Unknown"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=s.Pb({name:"questionTypeName",type:e,pure:!0}),e})()},RNOZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("R8lv"),s=n("fXoL");let o=(()=>{class e{transform(e){switch(e){case i.i.INSTRUCTOR_PERMISSION_ROLE_COOWNER:return"Co-owner";case i.i.INSTRUCTOR_PERMISSION_ROLE_MANAGER:return"Manager";case i.i.INSTRUCTOR_PERMISSION_ROLE_OBSERVER:return"Observer";case i.i.INSTRUCTOR_PERMISSION_ROLE_TUTOR:return"Tutor";case i.i.INSTRUCTOR_PERMISSION_ROLE_CUSTOM:default:return"Custom"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=s.Pb({name:"instructorRoleName",type:e,pure:!0}),e})()},UGSt:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("fXoL");let s=(()=>{class e{transform(e){return Object.keys(e).map(t=>e[t])}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=i.Pb({name:"enumToArray",type:e,pure:!0}),e})()},VKKU:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("dOUP"),s=n("fXoL");let o=(()=>{class e{transform(e,t){return`${i.a.backendUrl}/webapi/student/profilePic?courseid=${t}&studentemail=${e}`}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=s.Pb({name:"formatPhotoUrl",type:e,pure:!0}),e})()},VZAO:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("ofXK"),s=n("SEFB"),o=n("fXoL");let c=(()=>{class e{}return e.\u0275mod=o.Ob({type:e}),e.\u0275inj=o.Nb({factory:function(t){return new(t||e)},imports:[[i.c,s.a]]}),e})(),r=(()=>{class e{}return e.\u0275mod=o.Ob({type:e}),e.\u0275inj=o.Nb({factory:function(t){return new(t||e)},imports:[[i.c,c]]}),e})()},WPPJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("fXoL"),s=n("A3DQ");let o=(()=>{class e{constructor(e){this.timezoneService=e}transform(e,t){return this.timezoneService.formatToString(e,t,"D MMM h:mm A")}}return e.\u0275fac=function(t){return new(t||e)(i.Qb(s.b))},e.\u0275pipe=i.Pb({name:"formatDateBrief",type:e,pure:!0}),e})()},WbH0:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("R8lv"),s=n("fXoL");let o=(()=>{class e{transform(e){switch(e){case i.h.MALE:return"Male";case i.h.FEMALE:return"Female";case i.h.OTHER:return"Not Specified";default:return"Unknown"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=s.Pb({name:"genderFormat",type:e,pure:!0}),e})()},XWfC:function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var i=n("ofXK"),s=n("3Pt+"),o=n("1kSV"),c=n("VZAO"),r=n("GQNo"),a=n("SEFB"),l=n("MBVI"),m=n("mL+/"),u=n("EUNV"),d=n("HQg1"),b=n("KryH"),p=n("vxcI"),f=n("bYKa"),g=n("fXoL"),h=n("ERjh"),C=n("yHMj"),v=n("/SeH"),E=n("QlvD"),T=n("UGSt"),O=n("FYy5"),y=n("pTm8"),w=n("4mYk"),S=n("WbH0"),I=n("OxLm"),R=n("Fw0q"),M=n("RMfs"),N=n("2SuZ"),V=n("RNOZ"),k=n("WPPJ"),D=n("VKKU"),_=n("ovlq");let P=(()=>{class e{}return e.\u0275mod=g.Ob({type:e}),e.\u0275inj=g.Nb({factory:function(t){return new(t||e)},providers:[b.a],imports:[[a.a,i.c,c.a,r.a,o.y,s.j]]}),e})();g.Jc(m.a,[h.a,C.a,i.r,i.s,i.t,i.u,i.B,i.x,i.y,i.z,i.A,i.v,i.w,v.a,E.a,o.w,s.F,s.u,s.E,s.c,s.v,s.y,s.a,s.B,s.C,s.x,s.p,s.q,s.A,s.l,s.k,s.w,s.b,s.d,s.s,s.t,s.r,l.a,m.a,u.a,d.a],[T.a,O.a,y.a,w.a,S.a,I.a,R.a,M.a,N.a,V.a,k.a,D.a,_.a,i.b,i.I,i.q,i.l,i.F,i.g,i.D,i.G,i.d,i.f,i.j,i.k,i.m,p.a,p.b,p.c,p.d,b.a,f.a])},ax2R:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("XNiG"),s=n("fXoL");let o=(()=>{class e{constructor(){this.progressPercentage=new i.a}updateProgress(e){this.progressPercentage.next(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},bYKa:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("fXoL"),s=n("KryH");let o=(()=>{class e{constructor(e){this.commentToCommentRowModel=e}transform(e,t,n){return{isReadOnly:t,commentRows:e.map(e=>this.commentToCommentRowModel.transform(e,n)),newCommentRow:{commentEditFormModel:{commentText:"",isUsingCustomVisibilities:!1,showCommentTo:[],showGiverNameTo:[]},isEditing:!1},isAddingNewComment:!1}}}return e.\u0275fac=function(t){return new(t||e)(i.Qb(s.a))},e.\u0275pipe=i.Pb({name:"commentsToCommentTableModel",type:e,pure:!0}),e})()},eQqG:function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var i=n("fXoL"),s=n("/Tzu"),o=n("1kSV"),c=n("ofXK"),r=n("ax2R");let a=(()=>{class e{constructor(e){this.progressBarService=e,this.progressPercentage=0}ngOnInit(){this.getProgress()}getProgress(){this.progressBarService.progressPercentage.subscribe(e=>{this.progressPercentage=e})}}return e.\u0275fac=function(t){return new(t||e)(i.Qb(r.a))},e.\u0275cmp=i.Kb({type:e,selectors:[["tm-progress-bar"]],decls:2,vars:3,consts:[["type","info","height","26px","showValue","true",3,"value","striped","animated"]],template:function(e,t){1&e&&(i.Wb(0,"div"),i.Rb(1,"ngb-progressbar",0),i.Vb()),2&e&&(i.Cb(1),i.sc("value",t.progressPercentage)("striped",!0)("animated",!0))},directives:[o.q],encapsulation:2}),e})();function l(e,t){1&e&&i.Rb(0,"i",16)}function m(e,t){1&e&&i.Rb(0,"i",17)}function u(e,t){1&e&&i.Rb(0,"i",18)}function d(e,t){1&e&&i.Sb(0)}function b(e,t){if(1&e&&(i.Wb(0,"div"),i.Oc(1,d,1,0,"ng-container",19),i.Vb()),2&e){const e=i.kc();i.Cb(1),i.sc("ngTemplateOutlet",e.content)}}function p(e,t){if(1&e&&i.Rb(0,"div",20),2&e){const e=i.kc();i.sc("innerHTML",e.content,i.Gc)}}function f(e,t){1&e&&(i.Wb(0,"div",21),i.Rb(1,"tm-progress-bar"),i.Vb())}function g(e,t){if(1&e){const e=i.Xb();i.Wb(0,"button",22),i.ic("click",(function(){return i.Fc(e),i.kc().activeModal.dismiss()})),i.Qc(1),i.Vb()}if(2&e){const e=i.kc();i.Cb(1),i.Sc(" ",e.cancelMessage," ")}}const h=function(e){return{"display-none":e}},C=function(e,t,n,i){return{"alert-danger":e,"alert-warning":t,"alert-info":n,"bg-white":i}},v=function(e,t,n,i){return{"btn-danger":e,"btn-warning":t,"btn-info":n,"btn-primary":i}};let E=(()=>{class e{constructor(e){this.activeModal=e,this.SimpleModalType=s.a,this.header="",this.content="",this.type=s.a.NEUTRAL,this.isInformationOnly=!1,this.confirmMessage="Yes",this.cancelMessage="No, cancel the operation"}get isTemplate(){return this.content instanceof i.L}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(i.Qb(o.a))},e.\u0275cmp=i.Kb({type:e,selectors:[["tm-confirmation-modal"]],inputs:{header:"header",content:"content",type:"type",isInformationOnly:"isInformationOnly",confirmMessage:"confirmMessage",cancelMessage:"cancelMessage"},decls:18,vars:24,consts:[[1,"transparent-overlay",3,"ngClass"],[1,"modal-header",3,"ngClass"],[1,"modal-title"],["class","fas fa-times-circle",4,"ngIf"],["class","fas fa-exclamation-circle",4,"ngIf"],["class","fas fa-info-circle",4,"ngIf"],[1,"margin-left-5px",3,"innerHTML"],["type","button",1,"close",3,"click"],[1,"fas","fa-times"],[1,"modal-body"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],["class","progress-bar-container",4,"ngIf"],[1,"modal-footer"],["type","button","class","btn btn-light modal-btn-cancel",3,"click",4,"ngIf"],["type","button",1,"btn","modal-btn-ok","z-index-1",3,"ngClass","click"],[1,"fas","fa-times-circle"],[1,"fas","fa-exclamation-circle"],[1,"fas","fa-info-circle"],[4,"ngTemplateOutlet"],[3,"innerHTML"],[1,"progress-bar-container"],["type","button",1,"btn","btn-light","modal-btn-cancel",3,"click"]],template:function(e,t){1&e&&(i.Rb(0,"div",0),i.Wb(1,"div",1),i.Wb(2,"div"),i.Wb(3,"h5",2),i.Oc(4,l,1,0,"i",3),i.Oc(5,m,1,0,"i",4),i.Oc(6,u,1,0,"i",5),i.Rb(7,"span",6),i.Vb(),i.Vb(),i.Wb(8,"button",7),i.ic("click",(function(){return t.type===t.SimpleModalType.LOAD?t.activeModal.close():t.activeModal.dismiss()})),i.Rb(9,"i",8),i.Vb(),i.Vb(),i.Wb(10,"div",9),i.Oc(11,b,2,1,"div",10),i.Oc(12,p,1,1,"div",11),i.Oc(13,f,2,0,"div",12),i.Vb(),i.Wb(14,"div",13),i.Oc(15,g,2,1,"button",14),i.Wb(16,"button",15),i.ic("click",(function(){return t.activeModal.close()})),i.Qc(17),i.Vb(),i.Vb()),2&e&&(i.sc("ngClass",i.wc(12,h,t.type!==t.SimpleModalType.LOAD)),i.Cb(1),i.sc("ngClass",i.zc(14,C,t.type===t.SimpleModalType.DANGER,t.type===t.SimpleModalType.WARNING,t.type===t.SimpleModalType.INFO||t.type===t.SimpleModalType.LOAD,t.type===t.SimpleModalType.NEUTRAL)),i.Cb(3),i.sc("ngIf",t.type===t.SimpleModalType.DANGER),i.Cb(1),i.sc("ngIf",t.type===t.SimpleModalType.WARNING),i.Cb(1),i.sc("ngIf",t.type===t.SimpleModalType.INFO||t.type===t.SimpleModalType.LOAD),i.Cb(1),i.sc("innerHTML",t.header,i.Gc),i.Cb(4),i.sc("ngIf",t.isTemplate),i.Cb(1),i.sc("ngIf",!t.isTemplate),i.Cb(1),i.sc("ngIf",t.type===t.SimpleModalType.LOAD),i.Cb(2),i.sc("ngIf",!t.isInformationOnly),i.Cb(1),i.sc("ngClass",i.zc(19,v,t.type===t.SimpleModalType.DANGER||t.type===t.SimpleModalType.LOAD,t.type===t.SimpleModalType.WARNING,t.type===t.SimpleModalType.INFO,t.type===t.SimpleModalType.NEUTRAL)),i.Cb(1),i.Rc(t.confirmMessage))},directives:[c.r,c.u,c.B,a],styles:[".margin-left-5px[_ngcontent-%COMP%]{margin-left:5px}.progress-bar-container[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:2px}.transparent-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;visibility:false;z-index:0}.display-none[_ngcontent-%COMP%]{display:none}.z-index-1[_ngcontent-%COMP%]{z-index:1}"]}),e})(),T=(()=>{class e{constructor(e){this.ngbModal=e}open(e,t,n,i){const s=this.ngbModal.open(E);return s.componentInstance.header=e,s.componentInstance.content=n,s.componentInstance.type=t,i&&Object.entries(i).map(([e,t])=>{s.componentInstance[e]=t}),s}openConfirmationModal(e,t,n,i){const s=Object.assign({isInformationOnly:!1,confirmMessage:"Yes",cancelMessage:"No, cancel the operation"},i);return this.open(e,t,n,s)}openInformationModal(e,t,n,i){const s=Object.assign({isInformationOnly:!0,confirmMessage:"OK"},i);return this.open(e,t,n,s)}openLoadingModal(e,t,n,i){const s=Object.assign({isInformationOnly:!0,confirmMessage:"Abort"},i);return this.open(e,t,n,s)}}return e.\u0275fac=function(t){return new(t||e)(i.ec(o.m))},e.\u0275prov=i.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"mL+/":function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return g}));var i=n("fXoL"),s=n("/cM/"),o=n("/Tzu"),c=n("eQqG"),r=n("r0mR");function a(e,t){if(1&e){const e=i.Xb();i.Wb(0,"tm-comment-edit-form",2),i.ic("modelChange",(function(t){return i.Fc(e),i.kc().triggerModelChange("commentEditFormModel",t)}))("closeCommentBoxEvent",(function(){return i.Fc(e),i.kc().triggerCloseEditing()}))("saveCommentEvent",(function(){return i.Fc(e),i.kc().triggerSaveCommentEvent()})),i.Vb()}if(2&e){const e=i.kc();i.sc("mode",e.mode)("model",e.model.commentEditFormModel)("isVisibilityOptionEnabled",e.isVisibilityOptionEnabled)("isDisabled",e.isDisabled)("shouldHideSavingButton",e.shouldHideSavingButton)("questionShowResponsesTo",e.questionShowResponsesTo)("response",e.response)("isFeedbackParticipantComment",e.isFeedbackParticipantComment)("shouldHideClosingButton",e.shouldHideClosingButton)}}function l(e,t){1&e&&(i.Wb(0,"span",14),i.Qc(1," Comment by response giver. "),i.Vb())}function m(e,t){if(1&e&&(i.Ub(0),i.Rb(1,"i",19),i.Wb(2,"span",20),i.lc(3,"formatDateDetail"),i.Qc(4),i.Vb(),i.Tb()),2&e){const e=i.kc(3);i.Cb(2),i.sc("ngbTooltip",i.nc(3,2,e.model.originalComment.lastEditedAt,e.model.timezone)),i.Cb(2),i.Sc("edited by ",e.model.lastEditorName?e.model.lastEditorName:e.model.originalComment.lastEditorEmail,"")}}function u(e,t){if(1&e&&(i.Wb(0,"span",15),i.Wb(1,"span",16),i.Qc(2),i.Vb(),i.Wb(3,"span",17),i.lc(4,"formatDateDetail"),i.Qc(5),i.lc(6,"formatDateBrief"),i.Vb(),i.Oc(7,m,5,5,"ng-container",18),i.Vb()),2&e){const e=i.kc(2);i.Cb(2),i.Sc("",e.model.commentGiverName?e.model.commentGiverName:e.model.originalComment.commentGiver," commented at "),i.Cb(1),i.sc("ngbTooltip",i.nc(4,4,e.model.originalComment.createdAt,e.model.timezone)),i.Cb(2),i.Sc(" ",i.nc(6,7,e.model.originalComment.createdAt,e.model.timezone),""),i.Cb(2),i.sc("ngIf",e.model.originalComment.lastEditedAt&&e.model.originalComment.lastEditedAt!==e.model.originalComment.createdAt)}}function d(e,t){if(1&e){const e=i.Xb();i.Wb(0,"button",21),i.ic("click",(function(){return i.Fc(e),i.kc(2).triggerModelChange("isEditing",!0)})),i.Rb(1,"i",22),i.Vb()}if(2&e){const e=i.kc(2);i.sc("disabled",e.isDisabled)}}function b(e,t){if(1&e){const e=i.Xb();i.Wb(0,"button",23),i.ic("click",(function(){return i.Fc(e),i.kc(2).triggerDeleteCommentEvent()})),i.Rb(1,"i",24),i.Vb()}if(2&e){const e=i.kc(2);i.sc("disabled",e.isDisabled)}}function p(e,t){if(1&e&&(i.Wb(0,"div",3),i.Wb(1,"div",4),i.Wb(2,"div",5),i.Wb(3,"div",6),i.Oc(4,l,2,0,"span",7),i.Oc(5,u,8,10,"span",8),i.Rb(6,"i",9),i.lc(7,"commentVisibilityTypesJointName"),i.Wb(8,"div",10),i.Oc(9,d,2,1,"button",11),i.Oc(10,b,2,1,"button",12),i.Vb(),i.Vb(),i.Rb(11,"div",13),i.lc(12,"safeHtml"),i.Vb(),i.Vb(),i.Vb()),2&e){const e=i.kc();i.Cb(4),i.sc("ngIf",e.isFeedbackParticipantComment),i.Cb(1),i.sc("ngIf",!e.isFeedbackParticipantComment),i.Cb(1),i.uc("ngbTooltip","This response comment is visible to ",i.mc(7,6,e.visibilityStateMachine.getVisibilityTypesUnderVisibilityControl(e.CommentVisibilityControl.SHOW_COMMENT)),""),i.Cb(3),i.sc("ngIf",!e.shouldHideEditButton),i.Cb(1),i.sc("ngIf",!e.shouldHideDeleteButton),i.Cb(1),i.sc("innerHTML",i.mc(12,8,e.model.originalComment.commentText),i.Gc)}}var f=function(e){return e[e.ADD=0]="ADD",e[e.EDIT=1]="EDIT",e}({});let g=(()=>{class e{constructor(e,t){this.simpleModalService=e,this.commentService=t,this.CommentRowMode=f,this.CommentVisibilityControl=s.a,this.mode=f.ADD,this.isVisibilityOptionEnabled=!0,this.isDisabled=!1,this.shouldHideSavingButton=!1,this.shouldHideClosingButton=!1,this.shouldHideEditButton=!1,this.shouldHideDeleteButton=!1,this.isFeedbackParticipantComment=!1,this.questionShowResponsesTo=[],this.model={commentEditFormModel:{commentText:"",isUsingCustomVisibilities:!1,showCommentTo:[],showGiverNameTo:[]},isEditing:!1},this.modelChange=new i.n,this.saveCommentEvent=new i.n,this.deleteCommentEvent=new i.n,this.closeEditingEvent=new i.n,this.visibilityStateMachine=this.commentService.getNewVisibilityStateMachine(this.questionShowResponsesTo)}ngOnInit(){}ngOnChanges(){this.model.originalComment&&(this.visibilityStateMachine=this.commentService.getNewVisibilityStateMachine(this.questionShowResponsesTo),this.model.originalComment.isVisibilityFollowingFeedbackQuestion?this.visibilityStateMachine.allowAllApplicableTypesToSee():this.visibilityStateMachine.applyVisibilitySettings({SHOW_COMMENT:this.model.originalComment.showCommentTo,SHOW_GIVER_NAME:this.model.originalComment.showCommentTo}))}triggerCloseEditing(){this.closeEditingEvent.emit()}triggerSaveCommentEvent(){this.saveCommentEvent.emit()}triggerDeleteCommentEvent(){this.simpleModalService.openConfirmationModal("Delete the comment permanently?",o.a.DANGER,"Are you sure you want to continue?").result.then(()=>{this.deleteCommentEvent.emit()},()=>{})}triggerModelChange(e,t){this.modelChange.emit(Object.assign({},this.model,{[e]:t}))}}return e.\u0275fac=function(t){return new(t||e)(i.Qb(c.a),i.Qb(r.a))},e.\u0275cmp=i.Kb({type:e,selectors:[["tm-comment-row"]],inputs:{mode:"mode",isVisibilityOptionEnabled:"isVisibilityOptionEnabled",isDisabled:"isDisabled",shouldHideSavingButton:"shouldHideSavingButton",shouldHideClosingButton:"shouldHideClosingButton",shouldHideEditButton:"shouldHideEditButton",shouldHideDeleteButton:"shouldHideDeleteButton",isFeedbackParticipantComment:"isFeedbackParticipantComment",response:"response",questionShowResponsesTo:"questionShowResponsesTo",model:"model"},outputs:{modelChange:"modelChange",saveCommentEvent:"saveCommentEvent",deleteCommentEvent:"deleteCommentEvent",closeEditingEvent:"closeEditingEvent"},features:[i.Ab],decls:2,vars:2,consts:[[3,"mode","model","isVisibilityOptionEnabled","isDisabled","shouldHideSavingButton","questionShowResponsesTo","response","isFeedbackParticipantComment","shouldHideClosingButton","modelChange","closeCommentBoxEvent","saveCommentEvent",4,"ngIf"],["class","card",4,"ngIf"],[3,"mode","model","isVisibilityOptionEnabled","isDisabled","shouldHideSavingButton","questionShowResponsesTo","response","isFeedbackParticipantComment","shouldHideClosingButton","modelChange","closeCommentBoxEvent","saveCommentEvent"],[1,"card"],[1,"card-body"],[1,"row","comment-row"],[1,"col-12"],["id","by-response-giver","class","text-secondary",4,"ngIf"],["class","text-secondary",4,"ngIf"],["aria-hidden","true",1,"fa","fa-eye",3,"ngbTooltip"],[1,"float-right"],["id","btn-edit-comment","type","button","class","btn btn-outline-primary btn-sm","ngbTooltip","Edit this comment",3,"disabled","click",4,"ngIf"],["id","btn-delete-comment","type","button","class","btn btn-outline-primary btn-sm btn-margin-left","ngbTooltip","Delete this comment",3,"disabled","click",4,"ngIf"],["id","comment-text",1,"col-12",3,"innerHTML"],["id","by-response-giver",1,"text-secondary"],[1,"text-secondary"],["id","comment-giver-name"],[1,"ngb-tooltip-class",2,"margin-right",".25rem",3,"ngbTooltip"],[4,"ngIf"],[1,"fas","fa-circle","dot-xs","align-middle",2,"margin-right",".25rem"],["id","last-editor-name",1,"ngb-tooltip-class",2,"margin-right",".25rem",3,"ngbTooltip"],["id","btn-edit-comment","type","button","ngbTooltip","Edit this comment",1,"btn","btn-outline-primary","btn-sm",3,"disabled","click"],[1,"fas","fa-pencil-alt"],["id","btn-delete-comment","type","button","ngbTooltip","Delete this comment",1,"btn","btn-outline-primary","btn-sm","btn-margin-left",3,"disabled","click"],[1,"fas","fa-trash"]],template:function(e,t){1&e&&(i.Oc(0,a,1,9,"tm-comment-edit-form",0),i.Oc(1,p,13,10,"div",1)),2&e&&(i.sc("ngIf",t.model.isEditing||t.mode==t.CommentRowMode.ADD),i.Cb(1),i.sc("ngIf",!t.model.isEditing&&t.mode==t.CommentRowMode.EDIT&&t.model.originalComment))},styles:[".dot-xs[_ngcontent-%COMP%]{font-size:.3em}"]}),e})()},ovlq:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("R8lv"),s=n("fXoL");let o=(()=>{class e{transform(e){switch(e){case i.c.STUDENTS:return"students";case i.c.STUDENTS_EXCLUDING_SELF:return"students (excluding self)";case i.c.TEAMS:return"teams";case i.c.TEAMS_EXCLUDING_SELF:return"teams (excluding own team)";case i.c.OWN_TEAM_MEMBERS_INCLUDING_SELF:return"team members";case i.c.OWN_TEAM_MEMBERS:return"team members (excluding self)";case i.c.INSTRUCTORS:return"instructors";default:return"unknown"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=s.Pb({name:"generatedChoice",type:e,pure:!0}),e})()},pTm8:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("R8lv"),s=n("fXoL");let o=(()=>{class e{transform(e){switch(e){case i.e.PUBLISHED:return"Published";case i.e.NOT_PUBLISHED:return"Not Published";default:return"Unknown"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=s.Pb({name:"publishStatusName",type:e,pure:!0}),e})()},r0mR:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("vMQM"),s=n("R8lv"),o=n("/cM/"),c=n("7qkN");class r{constructor(e){this.visibility=new Map,this.applicability=new Set,this.reset(),this.startFromNewState(e)}reset(){this.visibility.clear();for(const e of Object.keys(s.a)){const t=s.a[e];this.visibility.set(t,new Map),this.applicability.add(t);for(const e of Object.keys(c.a)){const n=o.a[e];this.visibility.get(t).set(n,!1)}}}resetVisibility(){for(const e of Array.from(this.visibility.keys()))for(const t of Array.from(this.visibility.get(e).keys()))this.disallowToSee(e,t)}startFromNewState(e){this.reset(),e.includes(s.g.RECIPIENT)||this.applicability.delete(s.a.RECIPIENT),e.includes(s.g.GIVER_TEAM_MEMBERS)||this.applicability.delete(s.a.GIVER_TEAM_MEMBERS),e.includes(s.g.RECIPIENT_TEAM_MEMBERS)||this.applicability.delete(s.a.RECIPIENT_TEAM_MEMBERS),e.includes(s.g.STUDENTS)||this.applicability.delete(s.a.STUDENTS),e.includes(s.g.INSTRUCTORS)||this.applicability.delete(s.a.INSTRUCTORS)}applyVisibilitySettings(e){this.resetVisibility();for(const t of e.SHOW_COMMENT)this.allowToSee(t,o.a.SHOW_COMMENT);for(const t of e.SHOW_GIVER_NAME)this.allowToSee(t,o.a.SHOW_GIVER_NAME)}allowToSee(e,t){if(this.isVisibilityTypeApplicable(e))switch(this.visibility.get(e).set(t,!0),t){case o.a.SHOW_GIVER_NAME:this.visibility.get(e).set(o.a.SHOW_COMMENT,!0)}}allowAllApplicableTypesToSee(){for(const e of Object.keys(s.a)){const t=s.a[e];for(const e of Object.keys(c.a))this.allowToSee(t,o.a[e])}}disallowToSee(e,t){if(this.isVisibilityTypeApplicable(e))switch(this.visibility.get(e).set(t,!1),t){case o.a.SHOW_COMMENT:this.visibility.get(e).set(o.a.SHOW_GIVER_NAME,!1)}}isVisibilityTypeApplicable(e){return this.applicability.has(e)}isVisible(e,t){return this.visibility.get(e).get(t)}getVisibilityTypesUnderVisibilityControl(e){const t=[];for(const n of Object.keys(s.a)){const i=s.a[n];this.isVisible(i,e)&&t.push(i)}return t}}var a=n("fXoL"),l=n("mW1j");let m=(()=>{class e{constructor(e){this.httpRequestService=e}createComment(e,t,n,s={}){return this.httpRequestService.post(i.d.RESPONSE_COMMENT,Object.assign({intent:n,responseid:t},s),e)}updateComment(e,t,n,s={}){return this.httpRequestService.put(i.d.RESPONSE_COMMENT,Object.assign({intent:n,responsecommentid:t.toString()},s),e)}deleteComment(e,t,n={}){return this.httpRequestService.delete(i.d.RESPONSE_COMMENT,Object.assign({intent:t,responsecommentid:e.toString()},n))}getNewVisibilityStateMachine(e){return new r(e)}}return e.\u0275fac=function(t){return new(t||e)(a.ec(l.a))},e.\u0275prov=a.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},vxcI:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return l}));var i=n("R8lv"),s=n("/cM/"),o=n("fXoL");let c=(()=>{class e{transform(e){switch(e){case s.a.SHOW_COMMENT:return"Can see this comment";case s.a.SHOW_GIVER_NAME:return"Can see comment giver's name";default:return"Unknown"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Pb({name:"commentVisibilityControlName",type:e,pure:!0}),e})(),r=(()=>{class e{transform(e){switch(e){case i.a.GIVER:return"Control what response giver(s) can view";case i.a.RECIPIENT:return"Control what response recipient(s) can view";case i.a.INSTRUCTORS:return"Control what instructors can view";case i.a.GIVER_TEAM_MEMBERS:return"Control what team members of response giver can view";case i.a.RECIPIENT_TEAM_MEMBERS:return"Control what team members of response recipient(s) can view";case i.a.STUDENTS:return"Control what other students in this course can view";default:return"Unknown"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Pb({name:"commentVisibilityTypeDescription",type:e,pure:!0}),e})(),a=(()=>{class e{transform(e){switch(e){case i.a.GIVER:return"Response Giver(s)";case i.a.RECIPIENT:return"Response Recipient(s)";case i.a.INSTRUCTORS:return"Instructors";case i.a.GIVER_TEAM_MEMBERS:return"Response Giver's Team Members";case i.a.RECIPIENT_TEAM_MEMBERS:return"Response Recipient's Team Members";case i.a.STUDENTS:return"Other students in this course";default:return"Unknown"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Pb({name:"commentVisibilityTypeName",type:e,pure:!0}),e})(),l=(()=>{class e{transform(e){if(0===e.length)return"nobody";const t=new a;let n="";return e.forEach((i,s)=>{n+=t.transform(i).toLowerCase(),s!==e.length-1&&(n+=", and ")}),n}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Pb({name:"commentVisibilityTypesJointName",type:e,pure:!0}),e})()},yHMj:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("4JDO"),s=n("fXoL"),o=n("ofXK"),c=n("ERjh"),r=n("1kSV"),a=n("VKKU");function l(e,t){if(1&e){const e=s.Xb();s.Wb(0,"span"),s.Wb(1,"tm-view-photo-popover",2),s.ic("showPhotoEvent",(function(){return s.Fc(e),s.kc().clearTooltipTimer()})),s.lc(2,"formatPhotoUrl"),s.Wb(3,"i",3,4),s.ic("mouseover",(function(){s.Fc(e);const t=s.Cc(4);return s.kc().handleMouseover(t)}))("mouseout",(function(){s.Fc(e);const t=s.Cc(4);return s.kc().handleMouseout(t)})),s.Vb(),s.Vb(),s.Qc(5),s.Vb()}if(2&e){const e=s.kc();s.Cb(1),s.sc("photoUrl",s.nc(2,3,e.email,e.courseId)),s.Cb(2),s.sc("ngClass",e.iconClass),s.Cb(2),s.Sc(" ","-"===e.name?"No Specific User":e.name,"\n")}}function m(e,t){if(1&e&&s.Qc(0),2&e){const e=s.kc();s.Sc(" ","-"===e.name?"No Specific User":e.name,"\n")}}let u=(()=>{class e{constructor(){this.name="",this.courseId="",this.email="",this.iconClass="far"}ngOnInit(){this.name=i.a.removeAnonymousHash(this.name)}handleMouseover(e){this.iconClass="fa",this.tooltipTimer=setTimeout(()=>{e.isOpen()||e.open()},400)}handleMouseout(e){this.iconClass="far",this.clearTooltipTimer(),e.isOpen()&&e.close()}clearTooltipTimer(){clearTimeout(this.tooltipTimer)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Kb({type:e,selectors:[["tm-student-name-with-photo"]],inputs:{name:"name",courseId:"courseId",email:"email"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["noPhoto",""],[3,"photoUrl","showPhotoEvent"],["triggers","manual","ngbTooltip","Click to view student's profile picture",1,"fa-user",3,"ngClass","mouseover","mouseout"],["t","ngbTooltip"]],template:function(e,t){if(1&e&&(s.Oc(0,l,6,6,"span",0),s.Oc(1,m,1,1,"ng-template",null,1,s.Pc)),2&e){const e=s.Cc(2);s.sc("ngIf",t.email)("ngIfElse",e)}},directives:[o.u,c.a,r.w,o.r],pipes:[a.a],styles:["i[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),e})()}}]);