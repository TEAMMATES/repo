(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"G/Uz":function(e,i,t){"use strict";t.d(i,"a",(function(){return n}));var n=function(e){return e[e.ADD=0]="ADD",e[e.EDIT=1]="EDIT",e}({})},chhc:function(e,i,t){"use strict";t.d(i,"a",(function(){return oe}));var n=t("fXoL"),s=t("1kSV"),o=t("pjmv"),d=t.n(o),c=t("R8lv"),a=t("uBDz"),b=t("/Tzu"),l=t("JUCI"),r=t("oQl6"),m=t("G/Uz"),g=t("eQqG"),u=t("ofXK"),f=t("QlvD"),p=t("3Pt+");function h(e,i){if(1&e){const e=n.Xb();n.Wb(0,"button",5),n.ic("click",(function(){n.Fc(e);const i=n.kc(),t=n.Cc(4);return i.selectTodayDate(t)})),n.Qc(1," Today "),n.Vb()}}function V(e,i){if(1&e){const e=n.Xb();n.Wb(0,"div",6),n.Wb(1,"button",7),n.ic("click",(function(){return n.Fc(e),n.kc(),n.Cc(4).toggle()})),n.Rb(2,"i",8),n.Vb(),n.Vb()}}let C=(()=>{class e{constructor(e){this.calendar=e,this.disabled=!1,this.dateChangeCallback=new n.n}ngOnInit(){}changeDate(e){this.dateChangeCallback.emit(e)}selectTodayDate(e){this.dateChangeCallback.emit(this.calendar.getToday()),e.navigateTo(this.calendar.getToday())}}return e.\u0275fac=function(i){return new(i||e)(n.Qb(s.b))},e.\u0275cmp=n.Kb({type:e,selectors:[["tm-datepicker"]],inputs:{date:"date",disabled:"disabled",maxDate:"maxDate",minDate:"minDate"},outputs:{dateChangeCallback:"dateChangeCallback"},decls:6,vars:6,consts:[[1,"input-group"],["footer",""],["type","text","ngbDatepicker","",1,"form-control",3,"ngModel","maxDate","minDate","disabled","footerTemplate","ngModelChange"],["timeDp","ngbDatepicker"],["class","input-group-append",4,"ngIf"],["type","button",1,"footer-button",3,"click"],[1,"input-group-append"],["type","button",1,"btn","btn-light",3,"click"],[1,"fas","fa-calendar-alt"]],template:function(e,i){if(1&e&&(n.Wb(0,"div",0),n.Oc(1,h,2,0,"ng-template",null,1,n.Pc),n.Wb(3,"input",2,3),n.ic("ngModelChange",(function(e){return i.changeDate(e)})),n.Vb(),n.Oc(5,V,3,0,"div",4),n.Vb()),2&e){const e=n.Cc(2);n.Cb(3),n.sc("ngModel",i.date)("maxDate",i.maxDate)("minDate",i.minDate)("disabled",i.disabled)("footerTemplate",e),n.Cb(2),n.sc("ngIf",!i.disabled)}},directives:[s.l,p.c,p.p,p.s,u.u],styles:[".footer-button[_ngcontent-%COMP%]{background:none!important;border:none;float:right;padding:20px!important;color:#6495ed;text-decoration:none;cursor:pointer;outline:none}"]}),e})();var v=t("tvVI"),S=t("W872"),W=t("Wsbs");let E=(()=>{class e{transform(e){switch(e){case c.f.NOT_VISIBLE:case c.f.VISIBLE_NOT_OPEN:return"Awaiting";case c.f.OPEN:case c.f.GRACE_PERIOD:return"Open";case c.f.CLOSED:return"Closed";default:return"Unknown"}}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=n.Pb({name:"submissionStatusName",type:e,pure:!0}),e})();var k=t("pTm8");function M(e,i){if(1&e){const e=n.Xb();n.Wb(0,"div",47),n.Wb(1,"button",48),n.ic("click",(function(){return n.Fc(e),n.kc().closeEditFormHandler()})),n.Wb(2,"span",49),n.Qc(3,"\xd7"),n.Vb(),n.Vb(),n.Vb()}}function y(e,i){if(1&e&&(n.Wb(0,"option",64),n.Qc(1),n.Vb()),2&e){const e=i.$implicit;n.sc("ngValue",e.name),n.Cb(1),n.Rc(e.name)}}const D=function(){return{questionId:"sessions",section:"sessions"}};function x(e,i){if(1&e){const e=n.Xb();n.Wb(0,"div",50),n.Wb(1,"div",51),n.Wb(2,"div",32),n.Wb(3,"div",52),n.Wb(4,"h5",53),n.Qc(5,"Create new"),n.Vb(),n.Vb(),n.Wb(6,"div",54),n.Wb(7,"select",55),n.ic("ngModelChange",(function(i){return n.Fc(e),n.kc().triggerModelChange("templateSessionName",i)})),n.Oc(8,y,2,2,"option",41),n.Vb(),n.Vb(),n.Wb(9,"div",56),n.Wb(10,"a",57),n.Rb(11,"i",58),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Wb(12,"div",51),n.Wb(13,"div",59),n.Wb(14,"div",60),n.Wb(15,"h5",61),n.Qc(16,"Or: "),n.Vb(),n.Vb(),n.Wb(17,"div",62),n.Wb(18,"button",63),n.ic("click",(function(){return n.Fc(e),n.kc().copyOthersHandler()})),n.Qc(19,"Copy from previous feedback sessions"),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Vb()}if(2&e){const e=n.kc();n.Cb(7),n.sc("ngModel",e.model.templateSessionName),n.Cb(1),n.sc("ngForOf",e.templateSessions),n.Cb(2),n.sc("queryParams",n.vc(3,D))}}function I(e,i){if(1&e){const e=n.Xb();n.Wb(0,"button",73),n.ic("click",(function(){return n.Fc(e),n.kc(2).triggerModelChange("isEditable",!0)})),n.Rb(1,"i",74),n.Qc(2," Edit"),n.Vb()}}function T(e,i){1&e&&n.Rb(0,"tm-ajax-loading")}function O(e,i){if(1&e){const e=n.Xb();n.Wb(0,"button",75),n.ic("click",(function(){return n.Fc(e),n.kc(2).submitFormHandler()})),n.Oc(1,T,1,0,"tm-ajax-loading",9),n.Rb(2,"i",76),n.Qc(3,"Save "),n.Vb()}if(2&e){const e=n.kc(2);n.sc("disabled",e.model.isSaving),n.Cb(1),n.sc("ngIf",e.model.isSaving)}}function F(e,i){if(1&e){const e=n.Xb();n.Wb(0,"button",77),n.ic("click",(function(){return n.Fc(e),n.kc(2).cancelHandler()})),n.Rb(1,"i",78),n.Qc(2," Cancel "),n.Vb()}if(2&e){const e=n.kc(2);n.sc("disabled",e.model.isSaving)}}function w(e,i){1&e&&n.Rb(0,"tm-ajax-loading")}function Q(e,i){1&e&&n.Rb(0,"tm-ajax-loading")}function R(e,i){if(1&e){const e=n.Xb();n.Wb(0,"div",50),n.Wb(1,"div",65),n.Oc(2,I,3,0,"button",66),n.Oc(3,O,4,2,"button",67),n.Oc(4,F,3,1,"button",68),n.Wb(5,"button",69),n.ic("click",(function(){return n.Fc(e),n.kc().deleteHandler()})),n.Oc(6,w,1,0,"tm-ajax-loading",9),n.Rb(7,"i",70),n.Qc(8," Delete"),n.Vb(),n.Wb(9,"button",71),n.ic("click",(function(){return n.Fc(e),n.kc().copyHandler()})),n.Oc(10,Q,1,0,"tm-ajax-loading",9),n.Rb(11,"i",72),n.Qc(12," Copy"),n.Vb(),n.Vb(),n.Vb()}if(2&e){const e=n.kc();n.Cb(2),n.sc("ngIf",e.formMode==e.SessionEditFormMode.EDIT&&!e.model.isEditable&&!e.model.isSaving),n.Cb(1),n.sc("ngIf",e.model.isEditable||e.model.isSaving),n.Cb(1),n.sc("ngIf",e.model.isEditable),n.Cb(1),n.sc("disabled",e.model.isSaving),n.Cb(1),n.sc("ngIf",e.model.isDeleting),n.Cb(3),n.sc("disabled",e.model.isSaving),n.Cb(1),n.sc("ngIf",e.model.isCopying)}}function N(e,i){if(1&e&&(n.Wb(0,"option",64),n.Qc(1),n.Vb()),2&e){const e=i.$implicit;n.sc("ngValue",e.courseId),n.Cb(1),n.Rc(e.courseId)}}function A(e,i){1&e&&(n.Wb(0,"div",81),n.Qc(1," There is no un-archived course. "),n.Vb())}const P=function(e){return{"is-invalid":e}};function _(e,i){if(1&e){const e=n.Xb();n.Wb(0,"div"),n.Wb(1,"select",79),n.ic("ngModelChange",(function(i){return n.Fc(e),n.kc().courseIdChangeHandler(i)})),n.Oc(2,N,2,2,"option",41),n.Vb(),n.Oc(3,A,2,0,"div",80),n.Vb()}if(2&e){const e=n.kc();n.Cb(1),n.sc("ngClass",n.wc(5,P,0===e.courseCandidates.length))("ngModel",e.model.courseId)("disabled",0===e.courseCandidates.length),n.Cb(1),n.sc("ngForOf",e.courseCandidates),n.Cb(1),n.sc("ngIf",0===e.courseCandidates.length)}}function X(e,i){if(1&e&&(n.Wb(0,"div",82),n.Qc(1),n.Vb()),2&e){const e=n.kc();n.Cb(1),n.Sc(" ",e.model.courseId," ")}}function H(e,i){1&e&&(n.Wb(0,"span",83),n.Qc(1,"Session Name"),n.Vb())}function L(e,i){1&e&&(n.Wb(0,"span"),n.Qc(1,"Session Name"),n.Vb())}function j(e,i){if(1&e){const e=n.Xb();n.Wb(0,"div"),n.Wb(1,"input",84),n.ic("ngModelChange",(function(i){return n.Fc(e),n.kc().triggerModelChange("feedbackSessionName",i)})),n.Vb(),n.Wb(2,"div"),n.Qc(3),n.Vb(),n.Vb()}if(2&e){const e=n.kc();n.Cb(1),n.sc("ngModel",e.model.feedbackSessionName),n.Cb(2),n.Sc(" ",e.FEEDBACK_SESSION_NAME_MAX_LENGTH-e.model.feedbackSessionName.length," characters left ")}}function U(e,i){if(1&e&&(n.Wb(0,"div",85),n.Qc(1),n.Vb()),2&e){const e=n.kc();n.Cb(1),n.Sc(" ",e.model.feedbackSessionName," ")}}function B(e,i){if(1&e&&(n.Wb(0,"div",5),n.Wb(1,"div",14),n.Qc(2," Submission Status "),n.Vb(),n.Wb(3,"div",86),n.Qc(4),n.lc(5,"submissionStatusName"),n.Vb(),n.Wb(6,"div",87),n.Qc(7," Published Status "),n.Vb(),n.Wb(8,"div",88),n.Qc(9),n.lc(10,"publishStatusName"),n.Vb(),n.Vb()),2&e){const e=n.kc();n.Cb(4),n.Sc(" ",n.mc(5,2,e.model.submissionStatus)," "),n.Cb(5),n.Sc(" ",n.mc(10,4,e.model.publishStatus)," ")}}function G(e,i){if(1&e&&(n.Wb(0,"option",64),n.Qc(1),n.Vb()),2&e){const e=i.$implicit;n.sc("ngValue",e),n.Cb(1),n.Rc(e+" min")}}function Y(e,i){if(1&e){const e=n.Xb();n.Wb(0,"div",89),n.Wb(1,"span",90),n.Qc(2,"Session is visible at submission opening time, responses are only visible when you publish the results."),n.Vb(),n.Wb(3,"button",91),n.ic("click",(function(){return n.Fc(e),n.kc().triggerModelChange("hasVisibleSettingsPanelExpanded",!0)})),n.Qc(4,"[Change]"),n.Vb(),n.Vb()}if(2&e){const e=n.kc();n.Cb(3),n.sc("disabled",!e.model.isEditable)}}function Z(e,i){if(1&e){const e=n.Xb();n.Wb(0,"div",4),n.Wb(1,"div",2),n.Wb(2,"div",92),n.Wb(3,"div",93),n.Wb(4,"div",94),n.Wb(5,"div",39),n.Wb(6,"label",95),n.Qc(7,"Make session visible "),n.Vb(),n.Vb(),n.Vb(),n.Wb(8,"div",96),n.Wb(9,"div",97),n.Wb(10,"div",98),n.Wb(11,"label",99),n.Wb(12,"input",100),n.ic("ngModelChange",(function(i){return n.Fc(e),n.kc().triggerModelChange("sessionVisibleSetting",i)})),n.Vb(),n.Qc(13," At "),n.Vb(),n.Vb(),n.Vb(),n.Wb(14,"div",101),n.Wb(15,"tm-datepicker",102),n.ic("dateChangeCallback",(function(i){return n.Fc(e),n.kc().triggerModelChange("customSessionVisibleDate",i)})),n.Vb(),n.Vb(),n.Wb(16,"div",52),n.Wb(17,"tm-time-picker",103),n.ic("timeChange",(function(i){return n.Fc(e),n.kc().triggerModelChange("customSessionVisibleTime",i)})),n.Vb(),n.Vb(),n.Vb(),n.Wb(18,"div",104),n.Wb(19,"div",105),n.Wb(20,"label",99),n.Wb(21,"input",106),n.ic("ngModelChange",(function(i){return n.Fc(e),n.kc().triggerModelChange("sessionVisibleSetting",i)})),n.Vb(),n.Qc(22," Submission opening time "),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Wb(23,"div",107),n.Wb(24,"div",94),n.Wb(25,"div",39),n.Wb(26,"label",108),n.Qc(27,"Make response visible "),n.Vb(),n.Vb(),n.Vb(),n.Wb(28,"div",96),n.Wb(29,"div",97),n.Wb(30,"div",98),n.Wb(31,"label",99),n.Wb(32,"input",109),n.ic("ngModelChange",(function(i){return n.Fc(e),n.kc().triggerModelChange("responseVisibleSetting",i)})),n.Vb(),n.Qc(33," At "),n.Vb(),n.Vb(),n.Vb(),n.Wb(34,"div",110),n.Wb(35,"tm-datepicker",34),n.ic("dateChangeCallback",(function(i){return n.Fc(e),n.kc().triggerModelChange("customResponseVisibleDate",i)})),n.Vb(),n.Vb(),n.Wb(36,"div",52),n.Wb(37,"tm-time-picker",111),n.ic("timeChange",(function(i){return n.Fc(e),n.kc().triggerModelChange("customResponseVisibleTime",i)})),n.Vb(),n.Vb(),n.Vb(),n.Wb(38,"div",96),n.Wb(39,"div",39),n.Wb(40,"div",98),n.Wb(41,"label",112),n.Wb(42,"input",113),n.ic("ngModelChange",(function(i){return n.Fc(e),n.kc().triggerModelChange("responseVisibleSetting",i)})),n.Vb(),n.Qc(43," Immediately "),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Wb(44,"div",96),n.Wb(45,"div",39),n.Wb(46,"div",98),n.Wb(47,"label",114),n.Wb(48,"input",115),n.ic("ngModelChange",(function(i){return n.Fc(e),n.kc().triggerModelChange("responseVisibleSetting",i)})),n.Vb(),n.Qc(49," Not now (publish manually) "),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Vb()}if(2&e){const e=n.kc();n.sc("@collapseAnim",void 0),n.Cb(12),n.sc("value",e.SessionVisibleSetting.CUSTOM)("ngModel",e.model.sessionVisibleSetting)("disabled",!e.model.isEditable),n.Cb(3),n.sc("disabled",e.model.sessionVisibleSetting!==e.SessionVisibleSetting.CUSTOM||!e.model.isEditable)("maxDate",e.maxDateForSessionVisible)("date",e.model.customSessionVisibleDate),n.Cb(2),n.sc("time",e.model.customSessionVisibleTime)("isDisabled",e.model.sessionVisibleSetting!==e.SessionVisibleSetting.CUSTOM||!e.model.isEditable),n.Cb(4),n.sc("value",e.SessionVisibleSetting.AT_OPEN)("ngModel",e.model.sessionVisibleSetting)("disabled",!e.model.isEditable),n.Cb(11),n.sc("value",e.ResponseVisibleSetting.CUSTOM)("ngModel",e.model.responseVisibleSetting)("disabled",!e.model.isEditable),n.Cb(3),n.sc("disabled",e.model.responseVisibleSetting!==e.ResponseVisibleSetting.CUSTOM||!e.model.isEditable)("minDate",e.minDateForResponseVisible)("date",e.model.customResponseVisibleDate),n.Cb(2),n.sc("time",e.model.customResponseVisibleTime)("isDisabled",e.model.responseVisibleSetting!==e.ResponseVisibleSetting.CUSTOM||!e.model.isEditable),n.Cb(5),n.sc("value",e.ResponseVisibleSetting.AT_VISIBLE)("ngModel",e.model.responseVisibleSetting)("disabled",!e.model.isEditable),n.Cb(6),n.sc("value",e.ResponseVisibleSetting.LATER)("ngModel",e.model.responseVisibleSetting)("disabled",!e.model.isEditable)}}function K(e,i){if(1&e){const e=n.Xb();n.Wb(0,"div"),n.Wb(1,"span",90),n.Qc(2,"Emails are sent when session opens (within 15 minutes), 24 hrs before session closes and when results are published."),n.Vb(),n.Wb(3,"button",116),n.ic("click",(function(){return n.Fc(e),n.kc().triggerModelChange("hasEmailSettingsPanelExpanded",!0)})),n.Qc(4,"[Change]"),n.Vb(),n.Vb()}if(2&e){const e=n.kc();n.Cb(3),n.sc("disabled",!e.model.isEditable)}}function z(e,i){if(1&e){const e=n.Xb();n.Wb(0,"div",4),n.Wb(1,"div",2),n.Wb(2,"div",117),n.Qc(3," Send emails for "),n.Vb(),n.Wb(4,"div",118),n.Wb(5,"div",52),n.Wb(6,"div",119),n.Wb(7,"label",120),n.Rb(8,"input",121),n.Qc(9,"Session opening reminder "),n.Vb(),n.Vb(),n.Vb(),n.Wb(10,"div",52),n.Wb(11,"div",119),n.Wb(12,"label",122),n.Wb(13,"input",123),n.ic("ngModelChange",(function(i){return n.Fc(e),n.kc().triggerModelChange("isClosingEmailEnabled",i)})),n.Vb(),n.Qc(14," Session closing reminder "),n.Vb(),n.Vb(),n.Vb(),n.Wb(15,"div",52),n.Wb(16,"div",119),n.Wb(17,"label",124),n.Wb(18,"input",125),n.ic("ngModelChange",(function(i){return n.Fc(e),n.kc().triggerModelChange("isPublishedEmailEnabled",i)})),n.Vb(),n.Qc(19," Results published announcement "),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Vb()}if(2&e){const e=n.kc();n.sc("@collapseAnim",void 0),n.Cb(13),n.sc("ngModel",e.model.isClosingEmailEnabled)("disabled",!e.model.isEditable),n.Cb(5),n.sc("ngModel",e.model.isPublishedEmailEnabled)("disabled",!e.model.isEditable)}}function q(e,i){1&e&&n.Rb(0,"tm-ajax-loading")}function $(e,i){1&e&&(n.Wb(0,"p",128),n.Wb(1,"b"),n.Qc(2,"You need to have an active(unarchived) course to create a session!"),n.Vb(),n.Vb())}function J(e,i){if(1&e){const e=n.Xb();n.Wb(0,"div"),n.Wb(1,"button",126),n.ic("click",(function(){return n.Fc(e),n.kc().submitFormHandler()})),n.Oc(2,q,1,0,"tm-ajax-loading",9),n.Qc(3,"Create Feedback Session "),n.Vb(),n.Oc(4,$,3,0,"p",127),n.Vb()}if(2&e){const e=n.kc();n.Cb(1),n.sc("disabled",0===e.courseCandidates.length||e.model.isSaving),n.Cb(1),n.sc("ngIf",e.model.isSaving),n.Cb(2),n.sc("ngIf",0===e.courseCandidates.length)}}function ee(e,i){1&e&&n.Rb(0,"tm-ajax-loading")}function ie(e,i){if(1&e){const e=n.Xb();n.Wb(0,"button",130),n.ic("click",(function(){return n.Fc(e),n.kc(2).submitFormHandler()})),n.Oc(1,ee,1,0,"tm-ajax-loading",9),n.Qc(2,"Save Changes "),n.Vb()}if(2&e){const e=n.kc(2);n.sc("disabled",e.model.isSaving||!e.model.isEditable),n.Cb(1),n.sc("ngIf",e.model.isSaving)}}function te(e,i){if(1&e&&(n.Wb(0,"div"),n.Oc(1,ie,3,2,"button",129),n.Vb()),2&e){const e=n.kc();n.Cb(1),n.sc("ngIf",e.formMode===e.SessionEditFormMode.EDIT)}}const ne=function(e){return{"col-form-label":e}},se=function(){return[0,5,10,15,20,25,30]};let oe=(()=>{class e{constructor(e,i){this.simpleModalService=e,this.calendar=i,this.SessionEditFormMode=m.a,this.SessionVisibleSetting=c.o,this.ResponseVisibleSetting=c.n,this.FEEDBACK_SESSION_NAME_MAX_LENGTH=a.a,this.model={courseId:"",timeZone:"UTC",courseName:"",feedbackSessionName:"",instructions:"",submissionStartTime:{hour:0,minute:0},submissionStartDate:{year:0,month:0,day:0},submissionEndTime:{hour:0,minute:0},submissionEndDate:{year:0,month:0,day:0},gracePeriod:0,sessionVisibleSetting:c.o.AT_OPEN,customSessionVisibleTime:{hour:0,minute:0},customSessionVisibleDate:{year:0,month:0,day:0},responseVisibleSetting:c.n.CUSTOM,customResponseVisibleTime:{hour:0,minute:0},customResponseVisibleDate:{year:0,month:0,day:0},submissionStatus:c.f.OPEN,publishStatus:c.e.NOT_PUBLISHED,isClosingEmailEnabled:!0,isPublishedEmailEnabled:!0,templateSessionName:"",isSaving:!1,isEditable:!0,isDeleting:!1,isCopying:!1,hasVisibleSettingsPanelExpanded:!1,hasEmailSettingsPanelExpanded:!1},this.modelChange=new n.n,this.formMode=m.a.ADD,this.courseCandidates=[],this.templateSessions=[],this.addNewSessionEvent=new n.n,this.editExistingSessionEvent=new n.n,this.cancelEditingSessionEvent=new n.n,this.deleteExistingSessionEvent=new n.n,this.copyCurrentSessionEvent=new n.n,this.copyOtherSessionsEvent=new n.n,this.closeEditFormEvent=new n.n}ngOnInit(){}triggerModelChange(e,i){this.modelChange.emit(Object.assign(Object.assign({},this.model),{[e]:i}))}courseIdChangeHandler(e){const i=this.courseCandidates.find(i=>i.courseId===e);i&&this.modelChange.emit(Object.assign(Object.assign({},this.model),{courseId:e,courseName:i.courseName,timeZone:i.timeZone}))}get maxDateForSessionVisible(){switch(this.model.responseVisibleSetting){case c.n.LATER:case c.n.AT_VISIBLE:return this.model.submissionStartDate;case c.n.CUSTOM:const e=this.getMomentInstance(this.model.submissionStartDate),i=this.getMomentInstance(this.model.customResponseVisibleDate);return e.isBefore(i)?this.model.submissionStartDate:this.model.customResponseVisibleDate;default:return{year:0,month:0,day:0}}}get minDateForResponseVisible(){switch(this.model.sessionVisibleSetting){case c.o.AT_OPEN:return this.model.submissionStartDate;case c.o.CUSTOM:return this.model.customSessionVisibleDate;default:return{year:0,month:0,day:0}}}getMomentInstance(e){const i=d()();return i.set("year",e.year),i.set("month",e.month-1),i.set("date",e.day),i}submitFormHandler(){this.formMode===m.a.ADD&&this.addNewSessionEvent.emit(),this.formMode===m.a.EDIT&&this.editExistingSessionEvent.emit()}cancelHandler(){this.simpleModalService.openConfirmationModal("Discard unsaved edit?",b.a.WARNING,"Warning: Any unsaved changes will be lost.").result.then(()=>{this.cancelEditingSessionEvent.emit()},()=>{})}deleteHandler(){this.simpleModalService.openConfirmationModal(`Delete the session <strong>${this.model.feedbackSessionName}</strong>?`,b.a.WARNING,'The session will be moved to the recycle bin. This action can be reverted by going to the "Sessions" tab and restoring the desired session(s).').result.then(()=>{this.deleteExistingSessionEvent.emit()},()=>{})}copyHandler(){this.copyCurrentSessionEvent.emit()}copyOthersHandler(){this.copyOtherSessionsEvent.emit()}closeEditFormHandler(){this.closeEditFormEvent.emit()}}return e.\u0275fac=function(i){return new(i||e)(n.Qb(g.a),n.Qb(s.b))},e.\u0275cmp=n.Kb({type:e,selectors:[["tm-session-edit-form"]],inputs:{model:"model",formMode:"formMode",courseCandidates:"courseCandidates",templateSessions:"templateSessions"},outputs:{modelChange:"modelChange",addNewSessionEvent:"addNewSessionEvent",editExistingSessionEvent:"editExistingSessionEvent",cancelEditingSessionEvent:"cancelEditingSessionEvent",deleteExistingSessionEvent:"deleteExistingSessionEvent",copyCurrentSessionEvent:"copyCurrentSessionEvent",copyOtherSessionsEvent:"copyOtherSessionsEvent",closeEditFormEvent:"closeEditFormEvent"},features:[n.Bb([{provide:s.e,useClass:r.a}])],decls:83,vars:42,consts:[[1,"card","card-plain"],["class","close-header",4,"ngIf"],[1,"card-body"],["class","row",4,"ngIf"],[1,"card","border-primary","margin-top-20px"],[1,"row","text-center"],[1,"col-md-2","text-md-right","font-bold",3,"ngClass"],["ngbTooltip","Course for which the feedback session is for.",1,"ngb-tooltip-class"],[1,"col-md-4","text-md-left"],[4,"ngIf"],["id","edit-course-id",4,"ngIf"],[1,"col-md-2","text-md-right","font-bold","mt-3","mt-md-0",3,"ngClass"],["id","time-zone",1,"col-md-4","text-md-left",3,"ngClass"],["ngbTooltip","To change this, edit the course settings. TEAMMATES automatically adjusts to match the current time offset in your area, including clock changes due to daylight saving time.",1,"ngb-tooltip-class"],[1,"col-md-2","text-md-right","font-bold"],["id","course-name",1,"col-md-4","text-md-left"],["class","ngb-tooltip-class","ngbTooltip","Enter the name of the feedback session e.g. Feedback Session 1.",4,"ngIf"],["id","edit-session-name",4,"ngIf"],["ngbTooltip","Will be displayed at the top of the page when users respond to the session.",1,"ngb-tooltip-class"],[1,"col-md-10","text-md-left"],["id","instructions",3,"richText","isDisabled","richTextChange"],["class","row text-center",4,"ngIf"],[1,"col-md-5"],[1,"col-12","text-md-left"],["ngbTooltip","Users can start submitting responses.",1,"ngb-tooltip-class","label-control","font-bold"],[1,"row","text-center","align-items-center"],["id","submission-start-date",1,"col-md-7","col-xs-center"],[3,"disabled","date","dateChangeCallback"],["id","submission-start-time",3,"time","isDisabled","timeChange"],[1,"col-md-5","border-left-gray"],[1,"col-12","text-md-left","ml-md-2"],["ngbTooltip","No more submissions from users.",1,"ngb-tooltip-class","label-control","font-bold"],[1,"row","align-items-center"],["id","submission-end-date",1,"col-md-7","col-xs-center"],[3,"disabled","minDate","date","dateChangeCallback"],["id","submission-end-time",3,"time","isDisabled","timeChange"],[1,"col-md-2","border-left-gray"],["ngbTooltip","Amount of time the system will continue accepting submissions after the specified deadline.",1,"ngb-tooltip-class","col-12","text-md-left","ml-md-2"],[1,"control-label","font-bold"],[1,"col-12"],["id","grace-period",1,"form-control",3,"ngModel","disabled","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["class","margin-top-20px",4,"ngIf"],["class","card border-primary margin-top-20px",4,"ngIf"],[1,"row","margin-top-20px"],[1,"col-12","text-center"],[1,"loader"],[1,"close-header"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"row"],[1,"col-md-6"],[1,"col-md-4"],[1,"text-center"],[1,"col-9","col-md-7"],["id","session-type",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-1","col-md-1"],["type","button","tmRouterLink","/web/instructor/help","target","_blank",1,"btn","btn-link",3,"queryParams"],[1,"fas","fa-info-circle"],[1,"row","text-center","align-items-center","mt-1"],[1,"col-md-3"],[1,"text-md-right"],[1,"col-md-9","text-md-left"],["id","btn-copy-session","type","button",1,"btn","btn-info",3,"click"],[3,"ngValue"],[1,"col-12","text-center","text-md-right","session-form-buttons"],["id","btn-fs-edit","type","button","class","btn btn-primary",3,"click",4,"ngIf"],["id","btn-fs-save","type","button","class","btn btn-primary",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-primary","ngbTooltip","Discard changes to the feedback session",3,"disabled","click",4,"ngIf"],["id","btn-fs-delete","type","button","ngbTooltip","Delete the feedback session",1,"btn","btn-primary",3,"disabled","click"],[1,"fas","fa-trash"],["id","btn-fs-copy","type","button","ngbTooltip","Copy this feedback session to other courses",1,"btn","btn-primary",3,"disabled","click"],[1,"far","fa-copy"],["id","btn-fs-edit","type","button",1,"btn","btn-primary",3,"click"],[1,"fas","fa-pencil-alt"],["id","btn-fs-save","type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"fas","fa-check"],["type","button","ngbTooltip","Discard changes to the feedback session",1,"btn","btn-primary",3,"disabled","click"],[1,"fas","fa-ban"],["id","add-course-id",1,"form-control",3,"ngClass","ngModel","disabled","ngModelChange"],["class","invalid-feedback",4,"ngIf"],[1,"invalid-feedback"],["id","edit-course-id"],["ngbTooltip","Enter the name of the feedback session e.g. Feedback Session 1.",1,"ngb-tooltip-class"],["id","add-session-name","type","text","placeholder","e.g. Feedback for Project Presentation 1","maxlength","38",1,"form-control",3,"ngModel","ngModelChange"],["id","edit-session-name"],["id","submission-status",1,"col-md-4","text-md-left"],[1,"col-md-2","text-md-right","font-bold","mt-3","mt-md-0"],["id","published-status",1,"col-md-4","text-md-left"],[1,"margin-top-20px"],[1,"text-muted"],["id","btn-change-visibility","type","button",1,"btn","btn-link",3,"disabled","click"],[1,"row","align-items-start"],[1,"col-md-6","text-center","text-md-left"],[1,"row","ml-md-1"],["ngbTooltip","Session can be visible before it is open for submissions so that users can preview the questions.",1,"ngb-tooltip-class","label-control","font-bold"],[1,"row","mt-md-2","ml-md-1"],[1,"col-md-2","mt-md-1"],[1,"form-check"],[1,"form-check-label"],["id","session-visibility-custom","type","radio","name","sessionVisibleRadio",1,"form-check-input",3,"value","ngModel","disabled","ngModelChange"],["id","session-visibility-date",1,"col-md-6"],[3,"disabled","maxDate","date","dateChangeCallback"],["id","session-visibility-time",3,"time","isDisabled","timeChange"],[1,"row","mt-md-1","ml-md-3"],[1,"col-12","form-check"],["id","session-visibility-at-open","type","radio","name","sessionVisibleRadio",1,"form-check-input",3,"value","ngModel","disabled","ngModelChange"],[1,"col-md-6","sessionVisibleRadio","border-left-gray","text-center","text-md-left"],["ngbTooltip","Make responses for the feedback session visible to designated recipients.",1,"ngb-tooltip-class","label-control","font-bold"],["id","response-visibility-custom","type","radio","name","responseVisibleRadio",1,"form-check-input",3,"value","ngModel","disabled","ngModelChange"],["id","response-visibility-date",1,"col-md-6"],["id","response-visibility-time",3,"time","isDisabled","timeChange"],["ngbTooltip","Same time as when the session becomes visible to users.",1,"ngb-tooltip-class","form-check-label"],["id","response-visibility-immediately","type","radio","name","responseVisibleRadio",1,"form-check-input",3,"value","ngModel","disabled","ngModelChange"],["ngbTooltip","Remember to manually publish the responses for this session later on.",1,"ngb-tooltip-class","form-check-label"],["id","response-visibility-manually","type","radio","name","responseVisibleRadio",1,"form-check-input",3,"value","ngModel","disabled","ngModelChange"],["id","btn-change-email","type","button",1,"btn","btn-link",3,"disabled","click"],[1,"col-12","font-bold"],[1,"row","ml-md-1","mt-md-3"],[1,"form-check","form-check-inline"],["ngbTooltip","Notify students when the session is open for submission.",1,"ngb-tooltip-class","form-check-label"],["id","email-opening","type","checkbox","checked","","disabled","",1,"form-check-input"],["ngbTooltip","Remind students to submit 24 hours before the end of the session.",1,"ngb-tooltip-class","form-check-label"],["id","email-closing","type","checkbox",1,"form-check-input",3,"ngModel","disabled","ngModelChange"],["ngbTooltip","Notify students when the session results is published.",1,"ngb-tooltip-class","form-check-label"],["id","email-published","type","checkbox",1,"form-check-input",3,"ngModel","disabled","ngModelChange"],["id","btn-create-session","type","button",1,"btn","btn-primary",3,"disabled","click"],["class","text-danger margin-top-20px",4,"ngIf"],[1,"text-danger","margin-top-20px"],["type","button","class","btn btn-success",3,"disabled","click",4,"ngIf"],["type","button",1,"btn","btn-success",3,"disabled","click"]],template:function(e,i){1&e&&(n.Wb(0,"div",0),n.Oc(1,M,4,0,"div",1),n.Wb(2,"div",2),n.Oc(3,x,20,4,"div",3),n.Oc(4,R,13,7,"div",3),n.Wb(5,"div",4),n.Wb(6,"div",2),n.Wb(7,"div",5),n.Wb(8,"div",6),n.Wb(9,"span",7),n.Qc(10,"Course ID"),n.Vb(),n.Vb(),n.Wb(11,"div",8),n.Oc(12,_,4,7,"div",9),n.Oc(13,X,2,1,"div",10),n.Vb(),n.Wb(14,"div",11),n.Qc(15," Time Zone "),n.Vb(),n.Wb(16,"div",12),n.Wb(17,"span",13),n.Qc(18),n.Vb(),n.Vb(),n.Vb(),n.Rb(19,"br"),n.Wb(20,"div",5),n.Wb(21,"div",14),n.Qc(22," Course Name "),n.Vb(),n.Wb(23,"div",15),n.Qc(24),n.Vb(),n.Vb(),n.Rb(25,"br"),n.Wb(26,"div",5),n.Wb(27,"div",14),n.Oc(28,H,2,0,"span",16),n.Oc(29,L,2,0,"span",9),n.Vb(),n.Wb(30,"div",8),n.Oc(31,j,4,2,"div",9),n.Oc(32,U,2,1,"div",17),n.Vb(),n.Vb(),n.Rb(33,"br"),n.Wb(34,"div",5),n.Wb(35,"div",14),n.Wb(36,"span",18),n.Qc(37,"Instructions"),n.Vb(),n.Vb(),n.Wb(38,"div",19),n.Wb(39,"tm-rich-text-editor",20),n.ic("richTextChange",(function(e){return i.triggerModelChange("instructions",e)})),n.Vb(),n.Vb(),n.Vb(),n.Rb(40,"br"),n.Oc(41,B,11,6,"div",21),n.Vb(),n.Vb(),n.Wb(42,"div",4),n.Wb(43,"div",2),n.Wb(44,"div",5),n.Wb(45,"div",22),n.Wb(46,"div",23),n.Wb(47,"div"),n.Wb(48,"label",24),n.Qc(49," Submission opening time "),n.Vb(),n.Vb(),n.Vb(),n.Wb(50,"div",25),n.Wb(51,"div",26),n.Wb(52,"tm-datepicker",27),n.ic("dateChangeCallback",(function(e){return i.triggerModelChange("submissionStartDate",e)})),n.Vb(),n.Vb(),n.Wb(53,"div",22),n.Wb(54,"tm-time-picker",28),n.ic("timeChange",(function(e){return i.triggerModelChange("submissionStartTime",e)})),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Wb(55,"div",29),n.Wb(56,"div",5),n.Wb(57,"div",30),n.Wb(58,"label",31),n.Qc(59," Submission closing time "),n.Vb(),n.Vb(),n.Vb(),n.Wb(60,"div",32),n.Wb(61,"div",33),n.Wb(62,"tm-datepicker",34),n.ic("dateChangeCallback",(function(e){return i.triggerModelChange("submissionEndDate",e)})),n.Vb(),n.Vb(),n.Wb(63,"div",22),n.Wb(64,"tm-time-picker",35),n.ic("timeChange",(function(e){return i.triggerModelChange("submissionEndTime",e)})),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Wb(65,"div",36),n.Wb(66,"div",5),n.Wb(67,"div",37),n.Wb(68,"label",38),n.Qc(69," Grace period "),n.Vb(),n.Vb(),n.Vb(),n.Wb(70,"div",5),n.Wb(71,"div",39),n.Wb(72,"select",40),n.ic("ngModelChange",(function(e){return i.triggerModelChange("gracePeriod",e)})),n.Oc(73,G,2,2,"option",41),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Oc(74,Y,5,1,"div",42),n.Oc(75,Z,50,26,"div",43),n.Oc(76,K,5,1,"div",9),n.Oc(77,z,20,5,"div",43),n.Wb(78,"div",44),n.Wb(79,"div",45),n.Rb(80,"span",46),n.Oc(81,J,5,3,"div",9),n.Oc(82,te,2,1,"div",9),n.Vb(),n.Vb(),n.Vb(),n.Vb()),2&e&&(n.Cb(1),n.sc("ngIf",i.formMode===i.SessionEditFormMode.ADD),n.Cb(2),n.sc("ngIf",i.formMode===i.SessionEditFormMode.ADD),n.Cb(1),n.sc("ngIf",i.formMode===i.SessionEditFormMode.EDIT),n.Cb(4),n.sc("ngClass",n.wc(35,ne,i.formMode===i.SessionEditFormMode.ADD)),n.Cb(4),n.sc("ngIf",i.formMode===i.SessionEditFormMode.ADD),n.Cb(1),n.sc("ngIf",i.formMode===i.SessionEditFormMode.EDIT),n.Cb(1),n.sc("ngClass",n.wc(37,ne,i.formMode===i.SessionEditFormMode.ADD)),n.Cb(2),n.sc("ngClass",n.wc(39,ne,i.formMode===i.SessionEditFormMode.ADD)),n.Cb(2),n.Rc(i.model.timeZone),n.Cb(6),n.Sc(" ",i.model.courseName," "),n.Cb(4),n.sc("ngIf",i.formMode===i.SessionEditFormMode.ADD),n.Cb(1),n.sc("ngIf",i.formMode!==i.SessionEditFormMode.ADD),n.Cb(2),n.sc("ngIf",i.formMode===i.SessionEditFormMode.ADD),n.Cb(1),n.sc("ngIf",i.formMode===i.SessionEditFormMode.EDIT),n.Cb(7),n.sc("richText",i.model.instructions)("isDisabled",!i.model.isEditable),n.Cb(2),n.sc("ngIf",i.formMode===i.SessionEditFormMode.EDIT),n.Cb(11),n.sc("disabled",!i.model.isEditable)("date",i.model.submissionStartDate),n.Cb(2),n.sc("time",i.model.submissionStartTime)("isDisabled",!i.model.isEditable),n.Cb(8),n.sc("disabled",!i.model.isEditable)("minDate",i.model.submissionStartDate)("date",i.model.submissionEndDate),n.Cb(2),n.sc("time",i.model.submissionEndTime)("isDisabled",!i.model.isEditable),n.Cb(8),n.sc("ngModel",i.model.gracePeriod)("disabled",!i.model.isEditable),n.Cb(1),n.sc("ngForOf",n.vc(41,se)),n.Cb(1),n.sc("ngIf",!i.model.hasVisibleSettingsPanelExpanded),n.Cb(1),n.sc("ngIf",i.model.hasVisibleSettingsPanelExpanded),n.Cb(1),n.sc("ngIf",!i.model.hasEmailSettingsPanelExpanded),n.Cb(1),n.sc("ngIf",i.model.hasEmailSettingsPanelExpanded),n.Cb(4),n.sc("ngIf",i.formMode===i.SessionEditFormMode.ADD),n.Cb(1),n.sc("ngIf",i.formMode===i.SessionEditFormMode.EDIT))},directives:[u.u,u.r,s.w,f.a,C,v.a,p.B,p.p,p.s,u.t,S.a,p.u,p.E,W.a,p.c,p.k,p.x,p.a],pipes:[E,k.a],styles:[".card-plain[_ngcontent-%COMP%]{background-color:#eaeff5;background-image:none;border:0;box-shadow:0 0 0 0}.close-header[_ngcontent-%COMP%]{padding-top:.75rem;padding-right:1.25rem;margin-bottom:0}.font-bold[_ngcontent-%COMP%]{font-weight:700}.border-left-gray[_ngcontent-%COMP%]{border-left:1px solid #ddd}.margin-top-20px[_ngcontent-%COMP%]{margin-top:20px}.session-form-buttons[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{margin-left:var(--btn-margin)}"],data:{animation:[l.a]}}),e})()},oQl6:function(e,i,t){"use strict";t.d(i,"a",(function(){return c}));var n=t("1kSV"),s=t("pjmv"),o=t.n(s),d=t("fXoL");let c=(()=>{class e extends n.e{format(e){if(null==e)return"";const i=o()();return i.set("year",e.year),i.set("month",e.month-1),i.set("date",e.day),i.format("ddd, DD MMM, YYYY")}parse(e){const i=o()(e,"ddd, DD MMM, YYYY");return{year:i.year(),month:i.month()+1,day:i.date()}}}return e.\u0275fac=function(i){return a(i||e)},e.\u0275prov=d.Mb({token:e,factory:e.\u0275fac}),e})();const a=d.Yb(c)},tvVI:function(e,i,t){"use strict";t.d(i,"a",(function(){return l}));var n=t("fXoL"),s=t("3Pt+"),o=t("ofXK");const d=function(e){return{hour:e,minute:0}};function c(e,i){if(1&e&&(n.Wb(0,"option",2),n.Qc(1),n.Vb()),2&e){const e=i.$implicit,t=n.kc();n.sc("ngValue",n.wc(2,d,e)),n.Cb(1),n.Sc(" ",t.addLeadingZeros(2,e),":00H ")}}function a(e,i){if(1&e&&(n.Wb(0,"option",2),n.Qc(1),n.Vb()),2&e){const e=n.kc();n.sc("ngValue",e.time),n.Cb(1),n.Tc("",e.addLeadingZeros(2,e.time.hour),":",e.addLeadingZeros(2,e.time.minute),"H")}}const b=function(){return{hour:23,minute:59}};let l=(()=>{class e{constructor(){this.isDisabled=!1,this.time={hour:0,minute:0},this.timeChange=new n.n}ngOnInit(){}triggerTimeChange(e){this.timeChange.emit(e)}range(e,i){const t=[];for(let n=e;n<i;n+=1)t.push(n);return t}timeCompareFn(e,i){return e&&i&&e.hour===i.hour&&e.minute===i.minute}isInFixedList(e){return e.hour>=1&&e.hour<=22&&0===e.minute||23===e.hour&&59===e.minute}addLeadingZeros(e,i){return("0".repeat(e)+i).slice(-e)}}return e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=n.Kb({type:e,selectors:[["tm-time-picker"]],inputs:{isDisabled:"isDisabled",time:"time"},outputs:{timeChange:"timeChange"},decls:5,vars:7,consts:[[1,"form-control",3,"ngModel","disabled","compareWith","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],[3,"ngValue",4,"ngIf"]],template:function(e,i){1&e&&(n.Wb(0,"select",0),n.ic("ngModelChange",(function(e){return i.triggerTimeChange(e)})),n.Oc(1,c,2,4,"option",1),n.Wb(2,"option",2),n.Qc(3,"23:59H"),n.Vb(),n.Oc(4,a,2,3,"option",3),n.Vb()),2&e&&(n.sc("ngModel",i.time)("disabled",i.isDisabled)("compareWith",i.timeCompareFn),n.Cb(1),n.sc("ngForOf",i.range(1,24)),n.Cb(1),n.sc("ngValue",n.vc(6,b)),n.Cb(2),n.sc("ngIf",!i.isInFixedList(i.time)))},directives:[s.B,s.p,s.s,o.t,s.u,s.E,o.u],styles:[""]}),e})()},uBDz:function(e,i,t){"use strict";t.d(i,"a",(function(){return n}));const n=t("vMQM").a.FEEDBACK_SESSION_NAME_MAX_LENGTH}}]);