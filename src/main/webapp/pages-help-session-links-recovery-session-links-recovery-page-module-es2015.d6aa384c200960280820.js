(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{Wsbs:function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var i=s("fXoL");let a=(()=>{class e{constructor(){this.useBlueSpinner=!1}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Kb({type:e,selectors:[["tm-ajax-loading"]],inputs:{useBlueSpinner:"useBlueSpinner"},decls:2,vars:3,consts:[[1,"loading-container"],["role","status"]],template:function(e,t){1&e&&(i.Wb(0,"div",0),i.Rb(1,"div",1),i.Vb()),2&e&&(i.Cb(1),i.Fb("spinner-border spinner-border-sm text-",t.useBlueSpinner?"primary":"white",""))},styles:[".loading-container[_ngcontent-%COMP%]{display:inline;margin-right:10px}"]}),e})()},oGan:function(e,t,s){"use strict";s.r(t),s.d(t,"SessionLinksRecoveryPageModule",(function(){return E}));var i=s("ofXK"),a=s("3Pt+"),r=s("tyNb"),n=s("fXoL");const c=["captchaWrapperElem"];let o=(()=>{class e{constructor(e,t,s,i){this.renderer=e,this.zone=t,this.injector=s,this.scriptService=i,this.captchaElemPrefix="ngx_captcha_id_",this.setupCaptcha=!0,this.useGlobalDomain=!1,this.type="image",this.tabIndex=0,this.success=new n.n,this.load=new n.n,this.reset=new n.n,this.ready=new n.n,this.error=new n.n,this.expire=new n.n,this.setupAfterLoad=!1,this.resetCaptchaAfterSuccess=!1,this.isLoaded=!1}ngAfterViewInit(){this.control=this.injector.get(a.o).control}ngAfterViewChecked(){this.setupCaptcha&&(this.setupCaptcha=!1,this.setupComponent())}ngOnChanges(e){e&&e.hl&&(e.hl.firstChange||e.hl.currentValue===e.hl.previousValue||this.scriptService.cleanup()),e&&e.useGlobalDomain&&(e.useGlobalDomain.firstChange||e.useGlobalDomain.currentValue===e.useGlobalDomain.previousValue||this.scriptService.cleanup()),this.setupCaptcha=!0}getResponse(){return this.reCaptchaApi.getResponse(this.captchaId)}getCaptchaId(){return this.captchaId}resetCaptcha(){this.zone.run(()=>{this.reCaptchaApi.reset(),this.onChange(void 0),this.onTouched(void 0),this.reset.next()})}getCurrentResponse(){return this.currentResponse}reloadCaptcha(){this.setupComponent()}ensureCaptchaElem(e){const t=document.getElementById(e);if(!t)throw Error(`Captcha element with id '${e}' was not found`);this.captchaElem=t}renderReCaptcha(){this.zone.runOutsideAngular(()=>{this.captchaId=this.reCaptchaApi.render(this.captchaElemId,this.getCaptchaProperties()),this.ready.next()})}handleCallback(e){this.currentResponse=e,this.success.next(e),this.zone.run(()=>{this.onChange(e),this.onTouched(e)}),this.resetCaptchaAfterSuccess&&this.resetCaptcha()}getPseudoUniqueNumber(){return(new Date).getUTCMilliseconds()+Math.floor(9999*Math.random())}setupComponent(){this.captchaSpecificSetup(),this.createAndSetCaptchaElem(),this.scriptService.registerCaptchaScript(this.useGlobalDomain,"explicit",e=>{this.onloadCallback(e)},this.hl)}onloadCallback(e){if(this.reCaptchaApi=e,!this.reCaptchaApi)throw Error("ReCaptcha Api was not initialized correctly");this.isLoaded=!0,this.load.next(),this.renderReCaptcha(),this.setupAfterLoad&&(this.setupAfterLoad=!1,this.setupComponent())}generateNewElemId(){return this.captchaElemPrefix+this.getPseudoUniqueNumber()}createAndSetCaptchaElem(){if(this.captchaElemId=this.generateNewElemId(),!this.captchaElemId)throw Error("Captcha elem Id is not set");if(!this.captchaWrapperElem)throw Error("Captcha DOM element is not initialized");this.captchaWrapperElem.nativeElement.innerHTML="";const e=this.renderer.createElement("div");e.id=this.captchaElemId,this.renderer.appendChild(this.captchaWrapperElem.nativeElement,e),this.ensureCaptchaElem(this.captchaElemId)}writeValue(e){}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}handleErrorCallback(){this.zone.run(()=>{this.onChange(void 0),this.onTouched(void 0)}),this.error.next()}handleExpireCallback(){this.expire.next(),this.resetCaptcha()}}return e.\u0275fac=function(e){n.hc()},e.\u0275dir=n.Lb({type:e,inputs:{useGlobalDomain:"useGlobalDomain",type:"type",tabIndex:"tabIndex",siteKey:"siteKey",hl:"hl"},outputs:{success:"success",load:"load",reset:"reset",ready:"ready",error:"error",expire:"expire"},features:[n.Ab]}),e})();const h=function(){var e={InvisibleReCaptcha:0,ReCaptcha2:1};return e[e.InvisibleReCaptcha]="InvisibleReCaptcha",e[e.ReCaptcha2]="ReCaptcha2",e}();let p=(()=>{class e{constructor(e){this.zone=e,this.windowGrecaptcha="grecaptcha",this.windowOnLoadCallbackProperty="ngx_captcha_onload_callback",this.globalDomain="recaptcha.net",this.defaultDomain="google.com"}registerCaptchaScript(e,t,s,i){if(this.grecaptchaScriptLoaded())return void this.zone.run(()=>{s(window[this.windowGrecaptcha])});window[this.windowOnLoadCallbackProperty]=()=>this.zone.run(s.bind(this,window[this.windowGrecaptcha]));const a=document.createElement("script");a.innerHTML="",a.src=this.getCaptchaScriptUrl(e,t,i),a.async=!0,a.defer=!0,document.getElementsByTagName("head")[0].appendChild(a)}cleanup(){window[this.windowOnLoadCallbackProperty]=void 0,window[this.windowGrecaptcha]=void 0}grecaptchaScriptLoaded(){return!(!window[this.windowOnLoadCallbackProperty]||!window[this.windowGrecaptcha])}getLanguageParam(e){return e?"&hl="+e:""}getCaptchaScriptUrl(e,t,s){return`https://www.${e?this.globalDomain:this.defaultDomain}/recaptcha/api.js?onload=${this.windowOnLoadCallbackProperty}&render=${t}${this.getLanguageParam(s)}`}}return e.\u0275fac=function(t){return new(t||e)(n.ec(n.z))},e.\u0275prov=n.Mb({token:e,factory:e.\u0275fac}),e})(),l=(()=>{class e extends o{constructor(e,t,s,i){super(e,t,s,i),this.renderer=e,this.zone=t,this.injector=s,this.scriptService=i,this.windowOnErrorCallbackProperty="ngx_captcha_error_callback",this.windowOnExpireCallbackProperty="ngx_captcha_expire_callback",this.theme="light",this.size="normal",this.recaptchaType=h.ReCaptcha2}ngOnChanges(e){super.ngOnChanges(e)}ngOnDestroy(){window[this.windowOnErrorCallbackProperty]={},window[this.windowOnExpireCallbackProperty]={}}captchaSpecificSetup(){this.registerCallbacks()}getCaptchaProperties(){return{sitekey:this.siteKey,callback:e=>this.zone.run(()=>this.handleCallback(e)),"expired-callback":()=>this.zone.run(()=>this.handleExpireCallback()),"error-callback":()=>this.zone.run(()=>this.handleErrorCallback()),theme:this.theme,type:this.type,size:this.size,tabindex:this.tabIndex}}registerCallbacks(){window[this.windowOnErrorCallbackProperty]=super.handleErrorCallback.bind(this),window[this.windowOnExpireCallbackProperty]=super.handleExpireCallback.bind(this)}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(n.D),n.Qb(n.z),n.Qb(n.r),n.Qb(p))},e.\u0275cmp=n.Kb({type:e,selectors:[["ngx-recaptcha2"]],viewQuery:function(e,t){var s;1&e&&n.Wc(c,!0),2&e&&n.Bc(s=n.jc())&&(t.captchaWrapperElem=s.first)},inputs:{theme:"theme",size:"size",hl:"hl"},features:[n.Bb([{provide:a.n,useExisting:Object(n.U)(()=>e),multi:!0}]),n.zb,n.Ab],decls:2,vars:0,consts:[["captchaWrapperElem",""]],template:function(e,t){1&e&&n.Rb(0,"div",null,0)},encapsulation:2}),e})(),u=(()=>{class e{constructor(e,t){this.scriptService=e,this.zone=t}execute(e,t,s,i){this.executeAsPromise(e,t,i).then(s)}executeAsPromise(e,t,s){return new Promise((i,a)=>{this.scriptService.registerCaptchaScript(!(!s||!s.useGlobalDomain),e,s=>{this.zone.runOutsideAngular(()=>{try{s.execute(e,{action:t}).then(e=>this.zone.run(()=>i(e)))}catch(r){a(r)}})})})}}return e.\u0275fac=function(t){return new(t||e)(n.ec(p),n.ec(n.z))},e.\u0275prov=n.Mb({token:e,factory:e.\u0275fac}),e})(),d=(()=>{class e{}return e.\u0275mod=n.Ob({type:e}),e.\u0275inj=n.Nb({factory:function(t){return new(t||e)},providers:[p,u],imports:[[i.c]]}),e})();var m=s("n6pr"),b=s("nYR2"),g=s("dOUP"),f=s("MbNv"),w=s("Uqoa"),C=s("Wsbs");const y=["captchaElem"];function v(e,t){if(1&e){const e=n.Xb();n.Wb(0,"div",10),n.Wb(1,"ngx-recaptcha2",11,12),n.ic("success",(function(t){return n.Fc(e),n.kc().handleSuccess(t)})),n.Vb(),n.Vb()}if(2&e){const e=n.kc();n.Cb(1),n.sc("siteKey",e.captchaSiteKey)("useGlobalDomain",!1)("size",e.size)("hl",e.lang)}}function S(e,t){1&e&&n.Rb(0,"tm-ajax-loading")}const k=[{path:"",component:(()=>{class e{constructor(e,t,s){this.feedbackSessionsService=e,this.statusMessageService=t,this.formBuilder=s,this.captchaSuccess=!1,this.size="normal",this.lang="en",this.isFormSubmitting=!1,this.captchaSiteKey=g.a.captchaSiteKey}ngOnInit(){this.formSessionLinksRecovery=this.formBuilder.group({email:["",a.D.required],recaptcha:[""]})}onSubmitFormSessionLinksRecovery(e){this.captchaSiteKey||(this.captchaResponse=""),this.formSessionLinksRecovery.valid&&void 0!==this.captchaResponse?(this.isFormSubmitting=!0,this.feedbackSessionsService.sendFeedbackSessionLinkToRecoveryEmail({sessionLinksRecoveryEmail:e.controls.email.value,captchaResponse:this.captchaResponse}).pipe(Object(b.a)(()=>this.isFormSubmitting=!1)).subscribe(e=>{e.isEmailSent?this.statusMessageService.showSuccessToast(e.message):this.statusMessageService.showErrorToast(e.message)},e=>{this.statusMessageService.showErrorToast(e.error.message)}),this.resetFormGroups()):this.statusMessageService.showErrorToast("Please enter a valid email address and click the reCAPTCHA before submitting.")}resetFormGroups(){this.formSessionLinksRecovery=this.formBuilder.group({email:["",a.D.required],recaptcha:[""]}),this.reloadCaptcha()}reloadCaptcha(){this.captchaSiteKey&&this.captchaElem.reloadCaptcha()}handleSuccess(e){this.captchaSuccess=!0,this.captchaResponse=e}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(f.a),n.Qb(w.a),n.Qb(a.e))},e.\u0275cmp=n.Kb({type:e,selectors:[["tm-session-links-recovery-page"]],viewQuery:function(e,t){var s;1&e&&n.Wc(y,!0),2&e&&n.Bc(s=n.jc())&&(t.captchaElem=s.first)},decls:17,vars:3,consts:[[1,"color-orange"],[1,"card","bg-light","top-padded","col-sm-9","col-md-6"],[1,"form","form-horizontal",3,"formGroup","ngSubmit"],[1,"form-group","form-row","top-padded"],[1,"control-label"],["type","email","formControlName","email","maxlength","254","email","true","spellcheck","false",1,"form-control"],["class","form-row form-group top-padded",4,"ngIf"],[1,"form-row","top-padded"],["type","submit",1,"btn","btn-primary"],[4,"ngIf"],[1,"form-row","form-group","top-padded"],["formControlName","recaptcha",3,"siteKey","useGlobalDomain","size","hl","success"],["captchaElem",""]],template:function(e,t){1&e&&(n.Wb(0,"main"),n.Wb(1,"h1",0),n.Qc(2," Recovering Session Links for Students "),n.Vb(),n.Wb(3,"p"),n.Qc(4," If you cannot find your feedback session links, enter your course registered email below. Links to all your feedback sessions over the past 6 months will be sent to the email address. "),n.Vb(),n.Wb(5,"div",1),n.Wb(6,"form",2),n.ic("ngSubmit",(function(){return t.onSubmitFormSessionLinksRecovery(t.formSessionLinksRecovery)})),n.Wb(7,"div",3),n.Wb(8,"label",4),n.Wb(9,"strong"),n.Qc(10,"Email:"),n.Vb(),n.Vb(),n.Rb(11,"input",5),n.Vb(),n.Oc(12,v,3,4,"div",6),n.Wb(13,"div",7),n.Wb(14,"button",8),n.Oc(15,S,1,0,"tm-ajax-loading",9),n.Qc(16,"Submit "),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Vb()),2&e&&(n.Cb(6),n.sc("formGroup",t.formSessionLinksRecovery),n.Cb(6),n.sc("ngIf",""!==t.captchaSiteKey),n.Cb(3),n.sc("ngIf",t.isFormSubmitting))},directives:[a.F,a.q,a.i,a.c,a.p,a.g,a.k,a.d,i.u,l,C.a],styles:[".top-padded[_ngcontent-%COMP%]{margin-top:20px}.form[_ngcontent-%COMP%]{padding-bottom:20px}"]}),e})()}];let E=(()=>{class e{}return e.\u0275mod=n.Ob({type:e}),e.\u0275inj=n.Nb({factory:function(t){return new(t||e)},imports:[[i.c,a.j,a.z,d,r.h.forChild(k),m.a]]}),e})()}}]);