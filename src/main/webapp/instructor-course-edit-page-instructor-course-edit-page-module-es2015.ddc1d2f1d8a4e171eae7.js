(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{"++8I":function(e,n,i){"use strict";i.d(n,"a",(function(){return r}));var t=i("vMQM"),s=i("fXoL"),o=i("mW1j");let r=(()=>{class e{constructor(e){this.httpRequestService=e}loadInstructors(e){const n={courseid:e.courseId};return e.intent&&(n.intent=e.intent),this.httpRequestService.get(t.d.INSTRUCTORS,n)}getInstructor(e){const n={courseid:e.courseId,intent:e.intent};return e.feedbackSessionName&&(n.fsname=e.feedbackSessionName),e.key&&(n.key=e.key),e.moderatedPerson&&(n.moderatedperson=e.moderatedPerson),e.previewAs&&(n.previewas=e.previewAs),this.httpRequestService.get(t.d.INSTRUCTOR,n)}createInstructor(e){return this.httpRequestService.post(t.d.INSTRUCTOR,{courseid:e.courseId},e.requestBody)}updateInstructor(e){return this.httpRequestService.put(t.d.INSTRUCTOR,{courseid:e.courseId},e.requestBody)}deleteInstructor(e){const n={courseid:e.courseId};return e.instructorEmail&&(n.instructoremail=e.instructorEmail),e.instructorId&&(n.instructorid=e.instructorId),this.httpRequestService.delete(t.d.INSTRUCTOR,n)}loadInstructorPrivilege(e){const n={courseid:e.courseId};return e.feedbackSessionName&&(n.fsname=e.feedbackSessionName),e.sectionName&&(n.sectionname=e.sectionName),e.instructorRole&&(n.instructorrole=e.instructorRole),e.instructorEmail&&(n.instructoremail=e.instructorEmail),e.instructorId&&(n.instructorid=e.instructorId),this.httpRequestService.get(t.d.INSTRUCTOR_PRIVILEGE,n)}updateInstructorPrivilege(e){return this.httpRequestService.put(t.d.INSTRUCTOR_PRIVILEGE,{courseid:e.courseId,instructoremail:e.instructorEmail},e.requestBody)}}return e.\u0275fac=function(n){return new(n||e)(s.ec(o.a))},e.\u0275prov=s.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"/Tzu":function(e,n,i){"use strict";i.d(n,"a",(function(){return t}));var t=function(e){return e[e.WARNING=0]="WARNING",e[e.DANGER=1]="DANGER",e[e.INFO=2]="INFO",e[e.NEUTRAL=3]="NEUTRAL",e[e.LOAD=4]="LOAD",e}({})},"2SuZ":function(e,n,i){"use strict";i.d(n,"a",(function(){return o}));var t=i("R8lv"),s=i("fXoL");let o=(()=>{class e{transform(e){switch(e){case t.i.INSTRUCTOR_PERMISSION_ROLE_COOWNER:return"Co-owner: Can do everything.";case t.i.INSTRUCTOR_PERMISSION_ROLE_MANAGER:return"Manager: Can do everything except for deleting/restoring the course.";case t.i.INSTRUCTOR_PERMISSION_ROLE_OBSERVER:return"Observer: Can only view information(students, submissions, comments etc.). Cannot edit/delete/submit anything.";case t.i.INSTRUCTOR_PERMISSION_ROLE_TUTOR:return"Tutor: Can view student details, give/view comments, submit/view responses for sessions.";case t.i.INSTRUCTOR_PERMISSION_ROLE_CUSTOM:default:return"Custom: No access by default. Any access needs to be granted explicitly."}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=s.Pb({name:"instructorRoleDescription",type:e,pure:!0}),e})()},"41eB":function(e,n,i){"use strict";i.r(n),i.d(n,"InstructorCourseEditPageModule",(function(){return Te}));var t=i("ofXK"),s=i("3Pt+"),o=i("tyNb"),r=i("1kSV"),c=i("n6pr"),a=i("mYbV"),d=i("aSpy"),l=i("SEFB"),u=i("TOej"),b=i("cp0P"),g=i("LRne"),S=i("nYR2"),m=i("vkgz"),f=i("0EUg"),p=i("R8lv"),I=i("9jjE"),h=i("3m/I"),v=i("Mdjh"),C=i("/Tzu"),M=i("JUCI"),y=i("SX/I"),O=i("RkgC"),V=i("fXoL");function E(e,n){if(1&e){const e=V.Xb();V.Wb(0,"div",26),V.Wb(1,"label"),V.Wb(2,"input",27),V.ic("ngModelChange",(function(i){V.Fc(e);const t=n.$implicit,s=V.kc().index;return V.kc().editSectionToSectionLevelPermission(s,t,i)})),V.Vb(),V.Qc(3),V.Vb(),V.Vb()}if(2&e){const e=n.$implicit,i=V.kc().$implicit,t=V.kc();V.Cb(2),V.sc("ngModel",i.sectionNames.includes(e))("disabled",!i.sectionNames.includes(e)&&t.hasSectionLevelPermission(e)),V.Cb(1),V.Sc(" ","None"===e?"Students not in a section":e," ")}}function R(e,n){if(1&e){const e=V.Xb();V.Wb(0,"button",28),V.ic("click",(function(){V.Fc(e);const n=V.kc().index;return V.kc().addSessionLevelPermission(n)})),V.Qc(1,"Give different permissions for sessions in this section"),V.Vb()}if(2&e){const e=V.kc(2);V.sc("disabled",0==e.allSessions.length)}}function w(e,n){if(1&e){const e=V.Xb();V.Wb(0,"button",29),V.ic("click",(function(){V.Fc(e);const n=V.kc().index;return V.kc().deleteSessionLevelPermission(n)})),V.Qc(1,"Delete session-level permissions"),V.Vb()}}function P(e,n){if(1&e){const e=V.Xb();V.Wb(0,"tr"),V.Wb(1,"th",33),V.Qc(2),V.Vb(),V.Wb(3,"td"),V.Wb(4,"input",7),V.ic("ngModelChange",(function(i){V.Fc(e);const t=n.index,s=V.kc(2).index;return V.kc().triggerSessionLevelPermissionChange(s,t,"canSubmitSessionInSections",i)})),V.Vb(),V.Vb(),V.Wb(5,"td"),V.Wb(6,"input",9),V.ic("ngModelChange",(function(i){V.Fc(e);const t=n.index,s=V.kc(2).index;return V.kc().triggerSessionLevelPermissionChange(s,t,"canViewSessionInSections",i)})),V.Vb(),V.Vb(),V.Wb(7,"td"),V.Wb(8,"input",7),V.ic("ngModelChange",(function(i){V.Fc(e);const t=n.index,s=V.kc(2).index;return V.kc().triggerSessionLevelPermissionChange(s,t,"canModifySessionCommentsInSections",i)})),V.Vb(),V.Vb(),V.Vb()}if(2&e){const e=n.$implicit;V.Cb(2),V.Rc(e.sessionName),V.Cb(2),V.sc("ngModel",e.privilege.canSubmitSessionInSections),V.Cb(2),V.sc("disabled",e.privilege.canModifySessionCommentsInSections)("ngModel",e.privilege.canViewSessionInSections||e.privilege.canModifySessionCommentsInSections),V.Cb(2),V.sc("ngModel",e.privilege.canModifySessionCommentsInSections)}}function W(e,n){if(1&e&&(V.Wb(0,"table",30),V.Wb(1,"thead"),V.Wb(2,"tr"),V.Wb(3,"th",31),V.Qc(4,"Session Name"),V.Vb(),V.Wb(5,"th",31),V.Qc(6,"Submit Responses and Add Comments"),V.Vb(),V.Wb(7,"th",31),V.Qc(8,"View Responses and Comments"),V.Vb(),V.Wb(9,"th",31),V.Qc(10,"Edit/Delete Responses/Comments by Others"),V.Vb(),V.Vb(),V.Vb(),V.Wb(11,"tbody"),V.Oc(12,P,9,5,"tr",32),V.Vb(),V.Vb()),2&e){const e=V.kc().$implicit;V.Cb(12),V.sc("ngForOf",e.sessionLevel)}}function T(e,n){if(1&e){const e=V.Xb();V.Wb(0,"div",12),V.Wb(1,"div",13),V.Wb(2,"div",4),V.Wb(3,"div",14),V.Wb(4,"p"),V.Wb(5,"strong"),V.Qc(6," But in section(s) "),V.Vb(),V.Vb(),V.Vb(),V.Wb(7,"div",15),V.Wb(8,"div",16),V.Oc(9,E,4,3,"div",17),V.Vb(),V.Vb(),V.Wb(10,"div",18),V.Wb(11,"button",19),V.ic("click",(function(){V.Fc(e);const i=n.index;return V.kc().removeSectionLevelPermission(i)})),V.Rb(12,"i",20),V.Vb(),V.Vb(),V.Vb(),V.Wb(13,"div",4),V.Wb(14,"div",21),V.Wb(15,"strong"),V.Qc(16," the instructor can only, "),V.Vb(),V.Vb(),V.Vb(),V.Vb(),V.Wb(17,"div",22),V.Wb(18,"div",4),V.Wb(19,"div",5),V.Wb(20,"label"),V.Wb(21,"input",7),V.ic("ngModelChange",(function(i){V.Fc(e);const t=n.index;return V.kc().triggerSectionLevelPermissionChange(t,"canViewStudentInSections",i)})),V.Vb(),V.Qc(22,"\xa0 View Students' Details "),V.Vb(),V.Vb(),V.Wb(23,"div",8),V.Wb(24,"label"),V.Wb(25,"input",7),V.ic("ngModelChange",(function(i){V.Fc(e);const t=n.index;return V.kc().triggerSectionLevelPermissionChange(t,"canSubmitSessionInSections",i)})),V.Vb(),V.Qc(26,"\xa0 Sessions: Submit Responses and Add Comments "),V.Vb(),V.Wb(27,"label"),V.Wb(28,"input",9),V.ic("ngModelChange",(function(i){V.Fc(e);const t=n.index;return V.kc().triggerSectionLevelPermissionChange(t,"canViewSessionInSections",i)})),V.Vb(),V.Qc(29,"\xa0 Sessions: View Responses and Comments "),V.Vb(),V.Wb(30,"label"),V.Wb(31,"input",7),V.ic("ngModelChange",(function(i){V.Fc(e);const t=n.index;return V.kc().triggerSectionLevelPermissionChange(t,"canModifySessionCommentsInSections",i)})),V.Vb(),V.Qc(32,"\xa0 Sessions: Edit/Delete Responses/Comments by Others "),V.Vb(),V.Vb(),V.Vb(),V.Oc(33,R,2,1,"button",23),V.Oc(34,w,2,0,"button",24),V.Oc(35,W,13,1,"table",25),V.Vb(),V.Vb()}if(2&e){const e=n.$implicit,i=V.kc();V.Cb(9),V.sc("ngForOf",i.allSections),V.Cb(12),V.sc("ngModel",e.privilege.canViewStudentInSections),V.Cb(4),V.sc("ngModel",e.privilege.canSubmitSessionInSections),V.Cb(3),V.sc("disabled",e.privilege.canModifySessionCommentsInSections)("ngModel",e.privilege.canViewSessionInSections||e.privilege.canModifySessionCommentsInSections),V.Cb(3),V.sc("ngModel",e.privilege.canModifySessionCommentsInSections),V.Cb(2),V.sc("ngIf",0==e.sessionLevel.length),V.Cb(1),V.sc("ngIf",0!=e.sessionLevel.length),V.Cb(1),V.sc("ngIf",0!=e.sessionLevel.length)}}let k=(()=>{class e{constructor(){this.permission={privilege:{canModifyCourse:!1,canModifySession:!1,canModifyStudent:!1,canModifyInstructor:!1,canViewStudentInSections:!1,canModifySessionCommentsInSections:!1,canViewSessionInSections:!1,canSubmitSessionInSections:!1},sectionLevel:[]},this.permissionChange=new V.n,this.allSections=[],this.allSessions=[]}ngOnInit(){}hasSectionLevelPermission(e){return this.permission.sectionLevel.some(n=>n.sectionNames.includes(e))}get hasSectionLevelPermissionForAllSections(){return this.permission.sectionLevel.length>=this.allSections.length||this.permission.sectionLevel.map(e=>e.sectionNames.length).reduce((e,n)=>e+n,0)>=this.allSections.length}triggerOverallPermissionChange(e,n){const i=this.deepCopy(this.permission);i.privilege[e]=n,this.permissionChange.emit(i)}triggerSectionLevelPermissionChange(e,n,i){const t=this.deepCopy(this.permission);t.sectionLevel[e].privilege[n]=i,this.permissionChange.emit(t)}triggerSessionLevelPermissionChange(e,n,i,t){const s=this.deepCopy(this.permission);s.sectionLevel[e].sessionLevel[n].privilege[i]=t,this.permissionChange.emit(s)}addSectionLevelPermission(){const e=this.deepCopy(this.permission);e.sectionLevel.push({sectionNames:[],privilege:{canModifyCourse:!1,canModifySession:!1,canModifyStudent:!1,canModifyInstructor:!1,canViewStudentInSections:!1,canModifySessionCommentsInSections:!1,canViewSessionInSections:!1,canSubmitSessionInSections:!1},sessionLevel:[]}),this.permissionChange.emit(e)}addSessionLevelPermission(e){const n=this.deepCopy(this.permission);n.sectionLevel[e].sessionLevel=this.allSessions.map(e=>({sessionName:e,privilege:{canModifyCourse:!1,canModifySession:!1,canModifyStudent:!1,canModifyInstructor:!1,canViewStudentInSections:!1,canModifySessionCommentsInSections:!1,canViewSessionInSections:!1,canSubmitSessionInSections:!1}})),this.permissionChange.emit(n)}editSectionToSectionLevelPermission(e,n,i){const t=this.deepCopy(this.permission),s=new Set(t.sectionLevel[e].sectionNames);i?s.add(n):s.delete(n),t.sectionLevel[e].sectionNames=Array.from(s),this.permissionChange.emit(t)}deleteSessionLevelPermission(e){const n=this.deepCopy(this.permission);n.sectionLevel[e].sessionLevel=[],this.permissionChange.emit(n)}removeSectionLevelPermission(e){const n=this.deepCopy(this.permission);n.sectionLevel.splice(e,1),this.permissionChange.emit(n)}deepCopy(e){return JSON.parse(JSON.stringify(e))}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=V.Kb({type:e,selectors:[["tm-custom-privilege-setting-panel"]],inputs:{permission:"permission",allSections:"allSections",allSessions:"allSessions"},outputs:{permissionChange:"permissionChange"},decls:43,vars:11,consts:[[1,"col-xs-12"],[1,"card","bg-light","border-info"],[1,"card-header","bg-info","text-white"],["id","custom-course",1,"card-body"],[1,"row"],[1,"col-6"],[1,"col-12"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"col-6","border-left-gray"],["type","checkbox",3,"disabled","ngModel","ngModelChange"],["class","card bg-light border-info top-margin",4,"ngFor","ngForOf"],["id","btn-add-section-level",1,"btn","btn-link",3,"disabled","click"],[1,"card","bg-light","border-info","top-margin"],[1,"card-header","bg-info","text-white","d-block"],[1,"col","col-sm-2"],[1,"col-6","col-sm-9"],["id","custom-sections",1,"row"],["class","col",4,"ngFor","ngForOf"],[1,"col","col-sm-1"],["id","btn-custom-sections-cancel","type","button",1,"btn","btn-danger",3,"click"],["aria-hidden","true",1,"fa","fa-trash"],[1,"col-sm-12"],["id","custom-sections-access-levels",1,"card-body"],["id","btn-add-session-level","class","btn btn-link",3,"disabled","click",4,"ngIf"],["class","btn btn-link",3,"click",4,"ngIf"],["id","custom-sessions","class","table table-striped table-responsive",4,"ngIf"],[1,"col"],["type","checkbox",3,"ngModel","disabled","ngModelChange"],["id","btn-add-session-level",1,"btn","btn-link",3,"disabled","click"],[1,"btn","btn-link",3,"click"],["id","custom-sessions",1,"table","table-striped","table-responsive"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"]],template:function(e,n){1&e&&(V.Wb(0,"div",0),V.Wb(1,"div",1),V.Wb(2,"div",2),V.Wb(3,"strong"),V.Qc(4," In general, this instructor can "),V.Vb(),V.Vb(),V.Wb(5,"div",3),V.Wb(6,"div",4),V.Wb(7,"div",5),V.Wb(8,"div",6),V.Wb(9,"label"),V.Wb(10,"input",7),V.ic("ngModelChange",(function(e){return n.triggerOverallPermissionChange("canModifyCourse",e)})),V.Vb(),V.Qc(11," Edit/Delete/Restore Course "),V.Vb(),V.Vb(),V.Wb(12,"div",6),V.Wb(13,"label"),V.Wb(14,"input",7),V.ic("ngModelChange",(function(e){return n.triggerOverallPermissionChange("canModifyInstructor",e)})),V.Vb(),V.Qc(15," Add/Edit/Delete Instructors "),V.Vb(),V.Vb(),V.Wb(16,"div",6),V.Wb(17,"label"),V.Wb(18,"input",7),V.ic("ngModelChange",(function(e){return n.triggerOverallPermissionChange("canModifySession",e)})),V.Vb(),V.Qc(19," Create/Edit/Delete/Restore Sessions "),V.Vb(),V.Vb(),V.Wb(20,"div",6),V.Wb(21,"label"),V.Wb(22,"input",7),V.ic("ngModelChange",(function(e){return n.triggerOverallPermissionChange("canModifyStudent",e)})),V.Vb(),V.Qc(23," Enroll/Edit/Delete Students "),V.Vb(),V.Vb(),V.Vb(),V.Wb(24,"div",8),V.Wb(25,"div",6),V.Wb(26,"label"),V.Wb(27,"input",7),V.ic("ngModelChange",(function(e){return n.triggerOverallPermissionChange("canViewStudentInSections",e)})),V.Vb(),V.Qc(28," View Students' Details "),V.Vb(),V.Vb(),V.Rb(29,"hr"),V.Wb(30,"div",6),V.Wb(31,"label"),V.Wb(32,"input",7),V.ic("ngModelChange",(function(e){return n.triggerOverallPermissionChange("canSubmitSessionInSections",e)})),V.Vb(),V.Qc(33," Sessions: Submit Responses and Add Comments "),V.Vb(),V.Wb(34,"label"),V.Wb(35,"input",9),V.ic("ngModelChange",(function(e){return n.triggerOverallPermissionChange("canViewSessionInSections",e)})),V.Vb(),V.Qc(36," Sessions: View Responses and Comments "),V.Vb(),V.Wb(37,"label"),V.Wb(38,"input",7),V.ic("ngModelChange",(function(e){return n.triggerOverallPermissionChange("canModifySessionCommentsInSections",e)})),V.Vb(),V.Qc(39," Sessions: Edit/Delete Responses/Comments by Others "),V.Vb(),V.Vb(),V.Vb(),V.Vb(),V.Vb(),V.Vb(),V.Oc(40,T,36,9,"div",10),V.Wb(41,"button",11),V.ic("click",(function(){return n.addSectionLevelPermission()})),V.Qc(42," Give different permissions for a specific section "),V.Vb(),V.Vb()),2&e&&(V.Cb(10),V.sc("ngModel",n.permission.privilege.canModifyCourse),V.Cb(4),V.sc("ngModel",n.permission.privilege.canModifyInstructor),V.Cb(4),V.sc("ngModel",n.permission.privilege.canModifySession),V.Cb(4),V.sc("ngModel",n.permission.privilege.canModifyStudent),V.Cb(5),V.sc("ngModel",n.permission.privilege.canViewStudentInSections),V.Cb(5),V.sc("ngModel",n.permission.privilege.canSubmitSessionInSections),V.Cb(3),V.sc("disabled",n.permission.privilege.canModifySessionCommentsInSections)("ngModel",n.permission.privilege.canViewSessionInSections||n.permission.privilege.canModifySessionCommentsInSections),V.Cb(3),V.sc("ngModel",n.permission.privilege.canModifySessionCommentsInSections),V.Cb(2),V.sc("ngForOf",n.permission.sectionLevel),V.Cb(1),V.sc("disabled",n.hasSectionLevelPermissionForAllSections))},directives:[s.a,s.p,s.s,t.t,t.u],styles:[".top-margin[_ngcontent-%COMP%]{margin-top:15px}.border-left-gray[_ngcontent-%COMP%]{border-left:1px solid #ddd}"]}),e})();var N=i("Wsbs"),L=i("UGSt"),x=i("2SuZ");function D(e,n){if(1&e){const e=V.Xb();V.Wb(0,"button",21),V.ic("click",(function(){return V.Fc(e),V.kc().sendRemindJoinEmail.emit()})),V.Rb(1,"i",22),V.Qc(2," Resend Invite "),V.Vb()}if(2&e){const e=V.kc();V.uc("id","btn-resend-invite-",e.instructorIndex+1,""),V.sc("disabled",!e.currInstructorCoursePrivilege.canModifyInstructor||e.instructor.isSavingInstructorEdit)}}function F(e,n){1&e&&V.Rb(0,"i",25)}function A(e,n){if(1&e){const e=V.Xb();V.Wb(0,"button",23),V.ic("click",(function(){return V.Fc(e),V.kc().triggerModelChange("isEditing",!0)})),V.Oc(1,F,1,0,"i",24),V.Qc(2," Edit "),V.Vb()}if(2&e){const e=V.kc();V.uc("id","btn-edit-instructor-",e.instructorIndex+1,""),V.sc("disabled",!e.currInstructorCoursePrivilege.canModifyInstructor||e.instructor.isSavingInstructorEdit),V.Cb(1),V.sc("ngIf",!e.instructor.isSavingInstructorEdit)}}function Q(e,n){if(1&e){const e=V.Xb();V.Wb(0,"button",23),V.ic("click",(function(){return V.Fc(e),V.kc().cancelEditing.emit()})),V.Rb(1,"i",26),V.Qc(2," Cancel "),V.Vb()}if(2&e){const e=V.kc();V.uc("id","btn-cancel-instructor-",e.instructorIndex+1,""),V.sc("disabled",e.isSavingNewInstructor)}}function _(e,n){if(1&e){const e=V.Xb();V.Wb(0,"button",27),V.ic("click",(function(){return V.Fc(e),V.kc().deleteInstructor.emit()})),V.Rb(1,"i",28),V.Qc(2," Delete "),V.Vb()}if(2&e){const e=V.kc();V.uc("id","btn-delete-instructor-",e.instructorIndex+1,""),V.sc("disabled",!e.currInstructorCoursePrivilege.canModifyInstructor||e.instructor.isSavingInstructorEdit)}}function j(e,n){if(1&e&&(V.Wb(0,"div",10),V.Rb(1,"input",31),V.Vb()),2&e){const e=V.kc(2);V.Cb(1),V.uc("id","google-id-instructor-",e.instructorIndex+1,""),V.sc("ngModel",e.instructor.googleId)}}function U(e,n){1&e&&(V.Wb(0,"span",32),V.Qc(1," Not available. Instructor is yet to join this course. "),V.Vb())}function X(e,n){if(1&e&&(V.Wb(0,"div",8),V.Wb(1,"label",9),V.Qc(2," Google ID: "),V.Vb(),V.Oc(3,j,2,2,"div",29),V.Oc(4,U,2,0,"span",30),V.Vb()),2&e){const e=V.kc();V.Cb(3),V.sc("ngIf",e.instructor.joinState==e.JoinState.JOINED),V.Cb(1),V.sc("ngIf",e.instructor.joinState==e.JoinState.NOT_JOINED)}}function J(e,n){if(1&e){const e=V.Xb();V.Wb(0,"button",37),V.ic("click",(function(n){V.Fc(e);const i=V.kc().$implicit;return V.kc(2).viewRolePrivilegeModel.emit(i),n.stopPropagation()})),V.Qc(1,"View Details"),V.Vb()}}function q(e,n){if(1&e){const e=V.Xb();V.Wb(0,"div",34),V.Wb(1,"label"),V.Wb(2,"input",35),V.ic("click",(function(){V.Fc(e);const i=n.$implicit;return V.kc(2).triggerModelChange("role",i)})),V.Vb(),V.Qc(3),V.lc(4,"instructorRoleDescription"),V.Oc(5,J,2,0,"button",36),V.Vb(),V.Vb()}if(2&e){const e=n.$implicit,i=V.kc(2);V.Cb(2),V.tc("id",e+i.instructorIndex+1),V.sc("checked",e==i.instructor.role)("disabled",!i.instructor.isEditing),V.Cb(1),V.Sc(" ",V.mc(4,5,e)," "),V.Cb(2),V.sc("ngIf",e!=i.InstructorPermissionRole.INSTRUCTOR_PERMISSION_ROLE_CUSTOM)}}function G(e,n){if(1&e&&(V.Ub(0),V.Oc(1,q,6,7,"div",33),V.lc(2,"enumToArray"),V.Tb()),2&e){const e=V.kc();V.Cb(1),V.sc("ngForOf",V.mc(2,1,e.InstructorPermissionRole))}}function B(e,n){if(1&e){const e=V.Xb();V.Wb(0,"button",37),V.ic("click",(function(n){V.Fc(e);const i=V.kc(2);return i.viewRolePrivilegeModel.emit(i.instructor.role),n.stopPropagation()})),V.Qc(1,"View Details"),V.Vb()}}function $(e,n){if(1&e&&(V.Ub(0),V.Wb(1,"span",38),V.Qc(2),V.lc(3,"instructorRoleDescription"),V.Vb(),V.Oc(4,B,2,0,"button",36),V.Tb()),2&e){const e=V.kc();V.Cb(1),V.uc("id","role-instructor-",e.instructorIndex+1,""),V.Cb(1),V.Rc(V.mc(3,3,e.instructor.role)),V.Cb(2),V.sc("ngIf",e.instructor.role!=e.InstructorPermissionRole.INSTRUCTOR_PERMISSION_ROLE_CUSTOM)}}function z(e,n){if(1&e){const e=V.Xb();V.Wb(0,"tm-custom-privilege-setting-panel",39),V.ic("permissionChange",(function(n){return V.Fc(e),V.kc().triggerModelChange("permission",n)})),V.Vb()}if(2&e){const e=V.kc();V.uc("id","custom-access-instructor-",e.instructorIndex+1,""),V.sc("permission",e.instructor.permission)("allSections",e.allSections)("allSessions",e.allSessions)}}function Z(e,n){1&e&&V.Rb(0,"tm-ajax-loading")}function K(e,n){1&e&&(V.Wb(0,"span"),V.Qc(1,"Save changes"),V.Vb())}function H(e,n){1&e&&(V.Wb(0,"span"),V.Qc(1,"Add Instructor"),V.Vb())}function Y(e,n){if(1&e){const e=V.Xb();V.Wb(0,"div"),V.Wb(1,"button",40),V.ic("click",(function(){return V.Fc(e),V.kc().saveInstructor.emit()})),V.Oc(2,Z,1,0,"tm-ajax-loading",19),V.Oc(3,K,2,0,"span",19),V.Oc(4,H,2,0,"span",19),V.Vb(),V.Vb()}if(2&e){const e=V.kc();V.Cb(1),V.uc("id","btn-save-instructor-",e.instructorIndex+1,""),V.sc("disabled",e.instructor.isSavingInstructorEdit||e.isSavingNewInstructor),V.Cb(1),V.sc("ngIf",e.instructor.isSavingInstructorEdit||e.isSavingNewInstructor),V.Cb(1),V.sc("ngIf",e.editMode==e.EditMode.EDIT),V.Cb(1),V.sc("ngIf",e.editMode==e.EditMode.ADD)}}const ee=function(e){return{"fill-plain":e}};var ne=function(e){return e[e.EDIT=0]="EDIT",e[e.ADD=1]="ADD",e}({});let ie=(()=>{class e{constructor(){this.JoinState=p.j,this.InstructorPermissionRole=p.i,this.EditMode=ne,this.editMode=ne.EDIT,this.instructorIndex=0,this.instructor={googleId:"",courseId:"",email:"",isDisplayedToStudents:!0,displayedToStudentsAs:"",name:"",role:p.i.INSTRUCTOR_PERMISSION_ROLE_COOWNER,joinState:p.j.JOINED,permission:{privilege:{canModifyCourse:!1,canModifySession:!1,canModifyStudent:!1,canModifyInstructor:!1,canViewStudentInSections:!1,canModifySessionCommentsInSections:!1,canViewSessionInSections:!1,canSubmitSessionInSections:!1},sectionLevel:[]},isEditing:!1,isSavingInstructorEdit:!1},this.instructorChange=new V.n,this.currInstructorCoursePrivilege={canModifyCourse:!0,canModifySession:!0,canModifyStudent:!0,canModifyInstructor:!0,canViewStudentInSections:!0,canModifySessionCommentsInSections:!0,canViewSessionInSections:!0,canSubmitSessionInSections:!0},this.allSections=[],this.allSessions=[],this.isSavingNewInstructor=!1,this.sendRemindJoinEmail=new V.n,this.cancelEditing=new V.n,this.deleteInstructor=new V.n,this.saveInstructor=new V.n,this.viewRolePrivilegeModel=new V.n}ngOnInit(){}triggerModelChange(e,n){this.instructorChange.emit(Object.assign(Object.assign({},this.instructor),{[e]:n}))}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=V.Kb({type:e,selectors:[["tm-instructor-edit-panel"]],inputs:{editMode:"editMode",instructorIndex:"instructorIndex",instructor:"instructor",currInstructorCoursePrivilege:"currInstructorCoursePrivilege",allSections:"allSections",allSessions:"allSessions",isSavingNewInstructor:"isSavingNewInstructor"},outputs:{instructorChange:"instructorChange",sendRemindJoinEmail:"sendRemindJoinEmail",cancelEditing:"cancelEditing",deleteInstructor:"deleteInstructor",saveInstructor:"saveInstructor",viewRolePrivilegeModel:"viewRolePrivilegeModel"},decls:37,vars:27,consts:[[1,"card","bg-light","top-padded"],[1,"card-header","bg-primary","text-white","text-center"],[1,"card-header-btn-toolbar"],["class","btn btn-primary btn-sm","ngbTooltip","Send invitation email to the instructor","placement","top-right",3,"id","disabled","click",4,"ngIf"],["class","btn btn-primary btn-sm",3,"id","disabled","click",4,"ngIf"],["class","btn btn-primary btn-sm","ngbTooltip","Delete the instructor from the course","placement","top-right",3,"id","disabled","click",4,"ngIf"],[1,"card-body","text-center",3,"ngClass"],["class","form-row form-group",4,"ngIf"],[1,"form-row","form-group"],[1,"col-sm-3","control-label"],[1,"col-sm-9"],["maxlength","100","tabindex","4",1,"form-control",3,"id","ngModel","disabled","ngModelChange"],["maxlength","254","tabindex","5",1,"form-control",3,"id","ngModel","disabled","ngModelChange"],["checked","","type","checkbox",3,"id","ngModel","disabled","ngModelChange"],["ngbTooltip","If this is unselected, the instructor will be completely invisible to students. E.g. to give access to a colleague for \u2018auditing\u2019 your course",1,"ngb-tooltip-class"],["type","text","placeholder","E.g. Co-lecturer, Teaching Assistant (default: Instructor)",1,"form-control",3,"id","disabled","defaultValue","ngModel","ngModelChange"],[1,"form-row","form-group","align-items-start","text-left"],[1,"col-sm-3","control-label","text-center","text-md-right"],[1,"col-sm-9",3,"id"],[4,"ngIf"],["class","text-left",3,"id","permission","allSections","allSessions","permissionChange",4,"ngIf"],["ngbTooltip","Send invitation email to the instructor","placement","top-right",1,"btn","btn-primary","btn-sm",3,"id","disabled","click"],["aria-hidden","true",1,"fa","fa-envelope"],[1,"btn","btn-primary","btn-sm",3,"id","disabled","click"],["class","fa fa-pen","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"fa","fa-pen"],["aria-hidden","true",1,"fa","fa-times"],["ngbTooltip","Delete the instructor from the course","placement","top-right",1,"btn","btn-primary","btn-sm",3,"id","disabled","click"],["aria-hidden","true",1,"fa","fa-trash"],["class","col-sm-9",4,"ngIf"],["class","text-danger col-sm-9 text-left margin-bottom-label",4,"ngIf"],["maxlength","254","tabindex","3","disabled","",1,"form-control",3,"id","ngModel"],[1,"text-danger","col-sm-9","text-left","margin-bottom-label"],["class","form-row",4,"ngFor","ngForOf"],[1,"form-row"],["type","radio",3,"id","checked","disabled","click"],["type","button","class","btn btn-link padding-0",3,"click",4,"ngIf"],["type","button",1,"btn","btn-link","padding-0",3,"click"],[3,"id"],[1,"text-left",3,"id","permission","allSections","allSessions","permissionChange"],["tabindex","6","type","button",1,"btn","btn-success",3,"id","disabled","click"]],template:function(e,n){1&e&&(V.Wb(0,"div",0),V.Wb(1,"div",1),V.Wb(2,"strong"),V.Qc(3),V.Vb(),V.Wb(4,"div",2),V.Oc(5,D,3,2,"button",3),V.Oc(6,A,3,3,"button",4),V.Oc(7,Q,3,2,"button",4),V.Oc(8,_,3,2,"button",5),V.Vb(),V.Vb(),V.Wb(9,"div",6),V.Oc(10,X,5,2,"div",7),V.Wb(11,"div",8),V.Wb(12,"label",9),V.Qc(13," Name: "),V.Vb(),V.Wb(14,"div",10),V.Wb(15,"input",11),V.ic("ngModelChange",(function(e){return n.triggerModelChange("name",e)})),V.Vb(),V.Vb(),V.Vb(),V.Wb(16,"div",8),V.Wb(17,"label",9),V.Qc(18," Email: "),V.Vb(),V.Wb(19,"div",10),V.Wb(20,"input",12),V.ic("ngModelChange",(function(e){return n.triggerModelChange("email",e)})),V.Vb(),V.Vb(),V.Vb(),V.Wb(21,"div",8),V.Wb(22,"label",9),V.Wb(23,"input",13),V.ic("ngModelChange",(function(e){return n.triggerModelChange("isDisplayedToStudents",e)})),V.Vb(),V.Qc(24," \xa0 "),V.Wb(25,"span",14),V.Qc(26,"Display to students as:"),V.Vb(),V.Vb(),V.Wb(27,"div",10),V.Wb(28,"input",15),V.ic("ngModelChange",(function(e){return n.triggerModelChange("displayedToStudentsAs",e)})),V.Vb(),V.Vb(),V.Vb(),V.Wb(29,"div",16),V.Wb(30,"label",17),V.Qc(31," Access Level: "),V.Vb(),V.Wb(32,"div",18),V.Oc(33,G,3,3,"ng-container",19),V.Oc(34,$,5,5,"ng-container",19),V.Vb(),V.Vb(),V.Oc(35,z,1,4,"tm-custom-privilege-setting-panel",20),V.Oc(36,Y,5,5,"div",19),V.Vb(),V.Vb()),2&e&&(V.Cb(3),V.Sc("Instructor ",n.instructorIndex+1,""),V.Cb(2),V.sc("ngIf",n.instructor.joinState==n.JoinState.NOT_JOINED&&n.editMode==n.EditMode.EDIT),V.Cb(1),V.sc("ngIf",!n.instructor.isEditing&&n.editMode==n.EditMode.EDIT),V.Cb(1),V.sc("ngIf",n.instructor.isEditing||n.editMode==n.EditMode.ADD),V.Cb(1),V.sc("ngIf",n.editMode==n.EditMode.EDIT),V.Cb(1),V.sc("ngClass",V.wc(25,ee,n.editMode==n.EditMode.ADD)),V.Cb(1),V.sc("ngIf",n.editMode==n.EditMode.EDIT&&n.currInstructorCoursePrivilege.canModifyInstructor),V.Cb(5),V.uc("id","name-instructor-",n.instructorIndex+1,""),V.sc("ngModel",n.instructor.name)("disabled",!n.instructor.isEditing),V.Cb(5),V.uc("id","email-instructor-",n.instructorIndex+1,""),V.sc("ngModel",n.instructor.email)("disabled",!n.instructor.isEditing||n.instructor.joinState==n.JoinState.NOT_JOINED&&n.editMode!=n.EditMode.ADD),V.Cb(3),V.uc("id","checkbox-display-instructor-",n.instructorIndex+1,""),V.sc("ngModel",n.instructor.isDisplayedToStudents)("disabled",!n.instructor.isEditing),V.Cb(5),V.uc("id","displayed-name-instructor-",n.instructorIndex+1,""),V.sc("disabled",!n.instructor.isDisplayedToStudents||!n.instructor.isEditing)("defaultValue","Instructor")("ngModel",n.instructor.isDisplayedToStudents?n.instructor.displayedToStudentsAs:"(This instructor will NOT be displayed to students)"),V.Cb(4),V.uc("id","access-levels-instructor-",n.instructorIndex+1,""),V.Cb(1),V.sc("ngIf",n.instructor.isEditing),V.Cb(1),V.sc("ngIf",!n.instructor.isEditing),V.Cb(1),V.sc("ngIf",n.instructor.isEditing&&n.instructor.role==n.InstructorPermissionRole.INSTRUCTOR_PERMISSION_ROLE_CUSTOM),V.Cb(1),V.sc("ngIf",n.instructor.isEditing))},directives:[t.u,t.r,s.c,s.k,s.p,s.s,s.a,r.w,t.t,k,N.a],pipes:[L.a,x.a],styles:[".fill-plain[_ngcontent-%COMP%]{background-color:#eaeff5}.form-row[_ngcontent-%COMP%]{-ms-flex-align:center;align-items:center}.control-label[_ngcontent-%COMP%]{font-weight:700}@media (min-width:576px){.control-label[_ngcontent-%COMP%]{text-align:right}}.padding-0[_ngcontent-%COMP%]{padding:0}.margin-bottom-label[_ngcontent-%COMP%]{margin-bottom:.5rem}"]}),e})();var te=i("RNOZ");let se=(()=>{class e{constructor(e){this.activeModal=e,this.role=p.i.INSTRUCTOR_PERMISSION_ROLE_CUSTOM,this.instructorPrivilege={canModifyCourse:!1,canModifySession:!1,canModifyStudent:!1,canModifyInstructor:!1,canViewStudentInSections:!1,canModifySessionCommentsInSections:!1,canViewSessionInSections:!1,canSubmitSessionInSections:!1}}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)(V.Qb(r.a))},e.\u0275cmp=V.Kb({type:e,selectors:[["tm-view-role-privileges-model"]],inputs:{role:"role",instructorPrivilege:"instructorPrivilege"},decls:34,vars:11,consts:[[1,"modal-header"],["id","role-title",1,"modal-title"],["data-dismiss","modal","aria-hidden","true",1,"close",3,"click"],["id","view-instr-role-modal",1,"modal-body"],[1,"row"],[1,"col-sm-6"],["disabled","","type","checkbox",3,"checked"]],template:function(e,n){1&e&&(V.Wb(0,"div",0),V.Wb(1,"h4",1),V.Qc(2),V.lc(3,"instructorRoleName"),V.Vb(),V.Wb(4,"button",2),V.ic("click",(function(){return n.activeModal.dismiss()})),V.Qc(5,"x"),V.Vb(),V.Vb(),V.Wb(6,"div",3),V.Wb(7,"div",4),V.Wb(8,"div",5),V.Rb(9,"input",6),V.Qc(10," Edit/Delete/Restore Course "),V.Vb(),V.Wb(11,"div",5),V.Rb(12,"input",6),V.Qc(13," Add/Edit/Delete Instructors "),V.Vb(),V.Wb(14,"div",5),V.Rb(15,"input",6),V.Qc(16," Create/Edit/Delete/Restore Sessions "),V.Vb(),V.Wb(17,"div",5),V.Rb(18,"input",6),V.Qc(19," Enroll/Edit/Delete Students "),V.Vb(),V.Wb(20,"div",5),V.Rb(21,"input",6),V.Qc(22," View Students' Details "),V.Rb(23,"br"),V.Vb(),V.Wb(24,"div",5),V.Rb(25,"input",6),V.Qc(26," Sessions: Submit Responses and Add Comments "),V.Rb(27,"br"),V.Rb(28,"input",6),V.Qc(29," Sessions: View Responses and Comments "),V.Rb(30,"br"),V.Rb(31,"input",6),V.Qc(32," Sessions: Edit/Delete Responses/Comments by others "),V.Rb(33,"br"),V.Vb(),V.Vb(),V.Vb()),2&e&&(V.Cb(2),V.Sc("Permissions for ",V.mc(3,9,n.role),""),V.Cb(7),V.sc("checked",n.instructorPrivilege.canModifyCourse),V.Cb(3),V.sc("checked",n.instructorPrivilege.canModifyInstructor),V.Cb(3),V.sc("checked",n.instructorPrivilege.canModifySession),V.Cb(3),V.sc("checked",n.instructorPrivilege.canModifyStudent),V.Cb(3),V.sc("checked",n.instructorPrivilege.canViewStudentInSections),V.Cb(4),V.sc("checked",n.instructorPrivilege.canSubmitSessionInSections),V.Cb(3),V.sc("checked",n.instructorPrivilege.canViewSessionInSections),V.Cb(3),V.sc("checked",n.instructorPrivilege.canModifySessionCommentsInSections))},pipes:[te.a],styles:[""]}),e})();var oe=i("Pvcr"),re=i("A3DQ"),ce=i("iRmZ"),ae=i("++8I"),de=i("MbNv"),le=i("Uqoa"),ue=i("vKUq"),be=i("nAaM"),ge=i("eQqG"),Se=i("Babz"),me=i("Lcal"),fe=i("W872");const pe=["courseForm"];function Ie(e,n){if(1&e){const e=V.Xb();V.Wb(0,"button",39),V.ic("click",(function(){return V.Fc(e),V.kc(2).isEditingCourse=!0})),V.Rb(1,"i",40),V.Qc(2," Edit "),V.Vb()}if(2&e){const e=V.kc(2);V.sc("disabled",!e.currInstructorCoursePrivilege.canModifyCourse)}}function he(e,n){if(1&e){const e=V.Xb();V.Wb(0,"button",41),V.ic("click",(function(){return V.Fc(e),V.kc(2).cancelEditingCourse()})),V.Rb(1,"i",42),V.Qc(2," Cancel "),V.Vb()}if(2&e){const e=V.kc(2);V.sc("disabled",e.isSavingCourseEdit)}}function ve(e,n){if(1&e&&(V.Wb(0,"option",43),V.Qc(1),V.Vb()),2&e){const e=n.$implicit;V.sc("value",e.id),V.Cb(1),V.Tc("",e.id," (",e.offset,")")}}function Ce(e,n){1&e&&V.Rb(0,"tm-ajax-loading")}function Me(e,n){if(1&e&&(V.Wb(0,"button",44),V.Oc(1,Ce,1,0,"tm-ajax-loading",7),V.Qc(2," Save Changes "),V.Vb()),2&e){const e=V.kc(2);V.sc("disabled",e.form.invalid||e.isSavingCourseEdit),V.Cb(1),V.sc("ngIf",e.isSavingCourseEdit)}}function ye(e,n){if(1&e){const e=V.Xb();V.Wb(0,"div",8),V.Wb(1,"div",9),V.Wb(2,"strong"),V.Qc(3,"Course"),V.Vb(),V.Wb(4,"div",10),V.Oc(5,Ie,3,1,"button",11),V.Oc(6,he,3,1,"button",12),V.Wb(7,"button",13),V.ic("click",(function(){return V.Fc(e),V.kc().deleteCourse()})),V.Rb(8,"i",14),V.Qc(9," Delete "),V.Vb(),V.Vb(),V.Vb(),V.Wb(10,"div",15),V.Wb(11,"form",16,17),V.ic("ngSubmit",(function(){return V.Fc(e),V.kc().onSaveCourse()})),V.Wb(13,"div",18),V.Wb(14,"label",19),V.Qc(15,"Course ID:"),V.Vb(),V.Wb(16,"div",20),V.Wb(17,"input",21,22),V.ic("ngModelChange",(function(n){return V.Fc(e),V.kc().course.courseId=n})),V.Vb(),V.Vb(),V.Vb(),V.Wb(19,"div",18),V.Wb(20,"label",19),V.Qc(21,"Course Name:"),V.Vb(),V.Wb(22,"div",20),V.Wb(23,"input",23,24),V.ic("ngModelChange",(function(n){return V.Fc(e),V.kc().course.courseName=n})),V.Vb(),V.Wb(25,"div",25),V.Rb(26,"i",26),V.Qc(27," The field Course Name should not be empty. "),V.Vb(),V.Vb(),V.Vb(),V.Wb(28,"div",18),V.Wb(29,"label",27),V.Wb(30,"span",28),V.Qc(31," Time Zone:"),V.Vb(),V.Vb(),V.Wb(32,"div",29),V.Wb(33,"div",30),V.Wb(34,"select",31,32),V.ic("ngModelChange",(function(n){return V.Fc(e),V.kc().course.timeZone=n})),V.Oc(36,ve,2,3,"option",33),V.Vb(),V.Wb(37,"span",34),V.Wb(38,"button",35),V.ic("click",(function(){return V.Fc(e),V.kc().detectTimezone()})),V.Qc(39," Auto-Detect "),V.Vb(),V.Vb(),V.Vb(),V.Vb(),V.Vb(),V.Wb(40,"div",36),V.Wb(41,"div",37),V.Oc(42,Me,3,2,"button",38),V.Vb(),V.Vb(),V.Vb(),V.Vb(),V.Vb()}if(2&e){const e=V.Cc(24),n=V.kc();V.Cb(5),V.sc("ngIf",!n.isEditingCourse),V.Cb(1),V.sc("ngIf",n.isEditingCourse),V.Cb(1),V.sc("disabled",!n.currInstructorCoursePrivilege.canModifyCourse||n.isSavingCourseEdit),V.Cb(10),V.sc("ngModel",n.course.courseId)("maxlength",n.FormValidator.COURSE_ID_MAX_LENGTH),V.Cb(6),V.sc("disabled",!n.isEditingCourse)("ngModel",n.course.courseName)("maxlength",n.FormValidator.COURSE_NAME_MAX_LENGTH),V.Cb(2),V.sc("hidden",e.valid||e.pristine&&e.untouched),V.Cb(9),V.sc("ngModel",n.course.timeZone)("disabled",!n.isEditingCourse),V.Cb(2),V.sc("ngForOf",n.timezones),V.Cb(2),V.sc("disabled",!n.isEditingCourse||n.isSavingCourseEdit),V.Cb(4),V.sc("ngIf",n.isEditingCourse)}}function Oe(e,n){if(1&e){const e=V.Xb();V.Ub(0),V.Wb(1,"tm-instructor-edit-panel",46),V.ic("instructorChange",(function(i){return V.Fc(e),n.$implicit.editPanel=i}))("viewRolePrivilegeModel",(function(n){return V.Fc(e),V.kc(2).viewRolePrivilegeModel(n)}))("deleteInstructor",(function(){V.Fc(e);const i=n.index;return V.kc(2).deleteInstructor(i)}))("saveInstructor",(function(){V.Fc(e);const i=n.index;return V.kc(2).saveInstructor(i)}))("cancelEditing",(function(){V.Fc(e);const i=n.index;return V.kc(2).cancelEditingInstructor(i)}))("sendRemindJoinEmail",(function(){V.Fc(e);const i=n.index;return V.kc(2).resendReminderEmail(i)})),V.Vb(),V.Rb(2,"br"),V.Tb()}if(2&e){const e=n.$implicit,i=n.index,t=V.kc(2);V.Cb(1),V.sc("editMode",t.EditMode.EDIT)("instructor",e.editPanel)("instructorIndex",i)("currInstructorCoursePrivilege",t.currInstructorCoursePrivilege)("allSections",t.allSections)("allSessions",t.allSessions)}}function Ve(e,n){if(1&e&&(V.Wb(0,"div"),V.Oc(1,Oe,3,6,"ng-container",45),V.Vb()),2&e){const e=V.kc();V.Cb(1),V.sc("ngForOf",e.instructorDetailPanels)}}function Ee(e,n){if(1&e){const e=V.Xb();V.Wb(0,"div",47),V.Wb(1,"button",48),V.ic("click",(function(){return V.Fc(e),V.kc().isAddingNewInstructor=!0})),V.Qc(2," Add New Instructor "),V.Vb(),V.Vb()}}function Re(e,n){if(1&e){const e=V.Xb();V.Wb(0,"div"),V.Wb(1,"tm-instructor-edit-panel",49),V.ic("instructorChange",(function(n){return V.Fc(e),V.kc().newInstructorPanel=n}))("viewRolePrivilegeModel",(function(n){return V.Fc(e),V.kc().viewRolePrivilegeModel(n)}))("saveInstructor",(function(){return V.Fc(e),V.kc().addNewInstructor()}))("cancelEditing",(function(){return V.Fc(e),V.kc().isAddingNewInstructor=!1})),V.Vb(),V.Vb()}if(2&e){const e=V.kc();V.sc("@collapseAnim",void 0),V.Cb(1),V.sc("editMode",e.EditMode.ADD)("instructor",e.newInstructorPanel)("instructorIndex",e.instructorDetailPanels.length)("isSavingNewInstructor",e.isSavingNewInstructor)("currInstructorCoursePrivilege",e.currInstructorCoursePrivilege)("allSections",e.allSections)("allSessions",e.allSessions)}}const we=function(e,n){return{questionId:e,section:n}},Pe=e=>e<10?"0"+e:String(e),We=[{path:"",component:(()=>{class e{constructor(e,n,i,t,s,o,r,c,a,d,l,u){this.route=e,this.router=n,this.navigationService=i,this.timezoneService=t,this.studentService=s,this.instructorService=o,this.feedbackSessionsService=r,this.statusMessageService=c,this.courseService=a,this.authService=d,this.ngbModal=l,this.simpleModalService=u,this.EditMode=ne,this.FormValidator=h.a,this.CoursesSectionQuestions=y.a,this.Sections=O.a,this.courseId="",this.timezones=[],this.isEditingCourse=!1,this.course={courseName:"",courseId:"",timeZone:"UTC",creationTimestamp:0,deletionTimestamp:0},this.originalCourse={courseName:"",courseId:"",timeZone:"UTC",creationTimestamp:0,deletionTimestamp:0},this.currInstructorGoogleId="",this.currInstructorCoursePrivilege={canModifyCourse:!0,canModifySession:!0,canModifyStudent:!0,canModifyInstructor:!0,canViewStudentInSections:!0,canModifySessionCommentsInSections:!0,canViewSessionInSections:!0,canSubmitSessionInSections:!0},this.instructorDetailPanels=[],this.isAddingNewInstructor=!1,this.newInstructorPanel={googleId:"",courseId:"",email:"",isDisplayedToStudents:!0,displayedToStudentsAs:"Instructor",name:"",role:p.i.INSTRUCTOR_PERMISSION_ROLE_COOWNER,joinState:p.j.NOT_JOINED,permission:{privilege:{canModifyCourse:!1,canModifySession:!1,canModifyStudent:!1,canModifyInstructor:!1,canViewStudentInSections:!1,canModifySessionCommentsInSections:!1,canViewSessionInSections:!1,canSubmitSessionInSections:!1},sectionLevel:[]},isEditing:!0,isSavingInstructorEdit:!1},this.allSections=[],this.allSessions=[],this.isCourseLoading=!1,this.hasCourseLoadingFailed=!1,this.isInstructorsLoading=!1,this.hasInstructorsLoadingFailed=!1,this.isSavingCourseEdit=!1,this.isSavingNewInstructor=!1}ngOnInit(){this.route.queryParams.subscribe(e=>{this.courseId=e.courseid,this.loadCourseInfo(),this.loadCurrInstructorInfo(),Object(b.a)([this.studentService.getStudentsFromCourse({courseId:this.courseId}),this.feedbackSessionsService.getFeedbackSessionsForInstructor(this.courseId)]).subscribe(e=>{const n=e[1];this.allSections=Array.from(new Set(e[0].students.map(e=>e.sectionName))),this.allSessions=n.feedbackSessions.map(e=>e.feedbackSessionName),this.loadCourseInstructors()})});for(const[e,n]of Object.entries(this.timezoneService.getTzOffsets())){const i=Math.floor(Math.abs(n)/60),t=Math.abs(n)%60,s=n<0?"-":"+";this.timezones.push({id:e,offset:0===n?"UTC":`UTC ${s}${Pe(i)}:${Pe(t)}`})}}detectTimezone(){this.course.timeZone=this.timezoneService.guessTimezone()}loadCourseInfo(){this.hasCourseLoadingFailed=!1,this.isCourseLoading=!0,this.courseService.getCourseAsInstructor(this.courseId).pipe(Object(S.a)(()=>{this.isCourseLoading=!1})).subscribe(e=>{this.course=e,this.currInstructorCoursePrivilege=e.privileges||v.a,this.originalCourse=Object.assign({},e)},e=>{this.hasCourseLoadingFailed=!0,this.statusMessageService.showErrorToast(e.error.message)})}loadCurrInstructorInfo(){this.authService.getAuthUser().subscribe(e=>{this.currInstructorGoogleId=void 0===e.user?"":e.user.id},e=>{this.statusMessageService.showErrorToast(e.error.message)})}deleteCourse(){this.courseService.binCourse(this.courseId).subscribe(e=>{this.navigationService.navigateWithSuccessMessage(this.router,"/web/instructor/courses",`The course ${e.courseId} has been deleted. You can restore it from the Recycle Bin manually.`)},e=>{this.statusMessageService.showErrorToast(e.error.message)})}onSaveCourse(){this.form.invalid?Object.values(this.form.controls).forEach(e=>e.markAsTouched()):(this.isSavingCourseEdit=!0,this.courseService.updateCourse(this.courseId,{courseName:this.course.courseName,timeZone:this.course.timeZone}).pipe(Object(S.a)(()=>this.isSavingCourseEdit=!1)).subscribe(e=>{this.statusMessageService.showSuccessToast("The course has been edited."),this.isEditingCourse=!1,this.course=e,this.originalCourse=Object.assign({},e)},e=>{this.statusMessageService.showErrorToast(e.error.message)}),Object.values(this.form.controls).forEach(e=>e.markAsUntouched()),Object.values(this.form.controls).forEach(e=>e.markAsPristine()))}cancelEditingCourse(){this.course=Object.assign({},this.originalCourse),this.isEditingCourse=!1,Object.values(this.form.controls).forEach(e=>e.markAsPristine()),Object.values(this.form.controls).forEach(e=>e.markAsUntouched())}loadCourseInstructors(){this.hasInstructorsLoadingFailed=!1,this.isInstructorsLoading=!0,this.instructorService.loadInstructors({courseId:this.courseId,intent:I.b.FULL_DETAIL}).subscribe(e=>{this.instructorDetailPanels=e.instructors.map(e=>({originalInstructor:Object.assign({},e),originalPanel:this.getInstructorEditPanelModel(e),editPanel:this.getInstructorEditPanelModel(e),isSavingInstructorEdit:!1})),this.instructorDetailPanels.forEach(e=>{this.loadPermissionForInstructor(e)})},e=>{this.hasInstructorsLoadingFailed=!0,this.statusMessageService.showErrorToast(e.error.message)})}getInstructorEditPanelModel(e){return{googleId:e.googleId,courseId:e.courseId,email:e.email,isDisplayedToStudents:e.isDisplayedToStudents,displayedToStudentsAs:e.displayedToStudentsAs,name:e.name,role:e.role,joinState:e.joinState,permission:{privilege:{canModifyCourse:!1,canModifySession:!1,canModifyStudent:!1,canModifyInstructor:!1,canViewStudentInSections:!1,canModifySessionCommentsInSections:!1,canViewSessionInSections:!1,canSubmitSessionInSections:!1},sectionLevel:[]},isEditing:!1,isSavingInstructorEdit:!1}}viewRolePrivilegeModel(e){const n=this.ngbModal.open(se);n.result.then(()=>{},()=>{}),this.instructorService.loadInstructorPrivilege({courseId:this.courseId,instructorRole:e}).subscribe(i=>{n.componentInstance.instructorPrivilege=i,n.componentInstance.role=e},e=>{this.statusMessageService.showErrorToast(e.error.message)})}cancelEditingInstructor(e){const n=this.instructorDetailPanels[e];n.editPanel=JSON.parse(JSON.stringify(n.originalPanel)),n.editPanel.isSavingInstructorEdit=!1,n.editPanel.isEditing=!1}saveInstructor(e){const n=this.instructorDetailPanels[e];n.editPanel.isSavingInstructorEdit=!0,this.instructorService.updateInstructor({courseId:n.originalInstructor.courseId,requestBody:{id:n.originalInstructor.joinState===p.j.JOINED?n.originalInstructor.googleId:void 0,name:n.editPanel.name,email:n.originalInstructor.joinState===p.j.JOINED?n.editPanel.email:n.originalInstructor.email,role:n.editPanel.role,displayName:n.editPanel.displayedToStudentsAs,isDisplayedToStudent:n.editPanel.isDisplayedToStudents}}).pipe(Object(S.a)(()=>n.editPanel.isSavingInstructorEdit=!1)).subscribe(e=>{n.editPanel.isEditing=!1,n.originalInstructor=Object.assign({},e);const i=n.editPanel.permission;n.editPanel=this.getInstructorEditPanelModel(e),n.editPanel.permission=i,this.updatePrivilegeForInstructor(n.originalInstructor,n.editPanel.permission),this.statusMessageService.showSuccessToast(`The instructor ${e.name} has been updated.`)},e=>{this.statusMessageService.showErrorToast(e.error.message)}),n.originalPanel=JSON.parse(JSON.stringify(n.editPanel))}deleteInstructor(e){const n=this.instructorDetailPanels[e];this.simpleModalService.openConfirmationModal(`Delete instructor <strong>${n.originalInstructor.name}</strong>?`,C.a.DANGER,n.originalInstructor.googleId===this.currInstructorGoogleId?`Are you sure you want to delete your instructor role from the course <strong>${n.originalInstructor.courseId}</strong>?\n        You will not be able to access the course anymore.`:`Are you sure you want to delete the instructor <strong>${n.originalInstructor.name}</strong> from the course <strong>${n.originalInstructor.courseId}</strong>?\n        He/she will not be able to access the course anymore.`).result.then(()=>{this.instructorService.deleteInstructor({courseId:n.originalInstructor.courseId,instructorEmail:n.originalInstructor.email}).subscribe(()=>{n.originalInstructor.googleId===this.currInstructorGoogleId?this.navigationService.navigateWithSuccessMessage(this.router,"/web/instructor/courses","Instructor is successfully deleted."):(this.instructorDetailPanels.splice(e,1),this.statusMessageService.showSuccessToast("Instructor is successfully deleted."))},e=>{this.statusMessageService.showErrorToast(e.error.message)})},()=>{})}resendReminderEmail(e){const n=this.instructorDetailPanels[e];this.simpleModalService.openConfirmationModal("Re-send invitation email?",C.a.INFO,`Do you wish to re-send the invitation email to instructor ${n.originalInstructor.name} from course ${n.originalInstructor.courseId}?`).result.then(()=>{this.courseService.remindInstructorForJoin(n.originalInstructor.courseId,n.originalInstructor.email).subscribe(e=>{this.statusMessageService.showSuccessToast(e.message)},e=>{this.statusMessageService.showErrorToast(e.error.message)})},()=>{})}addNewInstructor(){this.isSavingNewInstructor=!0,this.instructorService.createInstructor({courseId:this.courseId,requestBody:{name:this.newInstructorPanel.name,email:this.newInstructorPanel.email,role:this.newInstructorPanel.role,displayName:this.newInstructorPanel.displayedToStudentsAs,isDisplayedToStudent:this.newInstructorPanel.isDisplayedToStudents}}).pipe(Object(S.a)(()=>this.isSavingNewInstructor=!1)).subscribe(e=>{const n={originalInstructor:Object.assign({},e),originalPanel:this.getInstructorEditPanelModel(e),editPanel:this.getInstructorEditPanelModel(e)};n.editPanel.permission=this.newInstructorPanel.permission,n.originalPanel=JSON.parse(JSON.stringify(n.editPanel)),this.instructorDetailPanels.push(n),this.statusMessageService.showSuccessToast(`"The instructor ${e.name} has been added successfully.\n          An email containing how to 'join' this course will be sent to ${e.email} in a few minutes."`),this.updatePrivilegeForInstructor(n.originalInstructor,n.editPanel.permission),this.isAddingNewInstructor=!1,this.newInstructorPanel={googleId:"",courseId:"",email:"",isDisplayedToStudents:!0,displayedToStudentsAs:"",name:"",role:p.i.INSTRUCTOR_PERMISSION_ROLE_COOWNER,joinState:p.j.NOT_JOINED,permission:{privilege:{canModifyCourse:!0,canModifySession:!0,canModifyStudent:!0,canModifyInstructor:!0,canViewStudentInSections:!0,canModifySessionCommentsInSections:!0,canViewSessionInSections:!0,canSubmitSessionInSections:!0},sectionLevel:[]},isEditing:!0,isSavingInstructorEdit:!1}},e=>{this.statusMessageService.showErrorToast(e.error.message)})}loadPermissionForInstructor(e){const n=e.originalInstructor,i=e.editPanel.permission;if(n.role!==p.i.INSTRUCTOR_PERMISSION_ROLE_CUSTOM)return void(this.isInstructorsLoading=!1);const t=[];t.push(this.instructorService.loadInstructorPrivilege({courseId:n.courseId,instructorEmail:n.email}).pipe(Object(m.a)(e=>{i.privilege.canModifyCourse=e.canModifyCourse,i.privilege.canModifySession=e.canModifySession,i.privilege.canModifyStudent=e.canModifyStudent,i.privilege.canModifyInstructor=e.canModifyInstructor,i.privilege.canViewStudentInSections=e.canViewStudentInSections,i.privilege.canModifySessionCommentsInSections=e.canModifySessionCommentsInSections,i.privilege.canViewSessionInSections=e.canViewSessionInSections,i.privilege.canSubmitSessionInSections=e.canSubmitSessionInSections}))),this.allSections.forEach(e=>{const s={sectionNames:[e],privilege:{canModifyCourse:!1,canModifySession:!1,canModifyStudent:!1,canModifyInstructor:!1,canViewStudentInSections:!1,canModifySessionCommentsInSections:!1,canViewSessionInSections:!1,canSubmitSessionInSections:!1},sessionLevel:[]};i.sectionLevel.push(s),t.push(this.instructorService.loadInstructorPrivilege({sectionName:e,courseId:n.courseId,instructorEmail:n.email}).pipe(Object(m.a)(e=>{s.privilege.canViewStudentInSections=e.canViewStudentInSections,s.privilege.canModifySessionCommentsInSections=e.canModifySessionCommentsInSections,s.privilege.canViewSessionInSections=e.canViewSessionInSections,s.privilege.canSubmitSessionInSections=e.canSubmitSessionInSections}))),this.allSessions.forEach(i=>{t.push(this.instructorService.loadInstructorPrivilege({sectionName:e,feedbackSessionName:i,courseId:n.courseId,instructorEmail:n.email}).pipe(Object(m.a)(e=>{s.sessionLevel.push({sessionName:i,privilege:{canModifyCourse:!1,canModifySession:!1,canModifyStudent:!1,canModifyInstructor:!1,canViewStudentInSections:!1,canModifySessionCommentsInSections:e.canModifySessionCommentsInSections,canViewSessionInSections:e.canViewSessionInSections,canSubmitSessionInSections:e.canSubmitSessionInSections}})})))})}),Object(b.a)(t).pipe(Object(S.a)(()=>this.isInstructorsLoading=!1)).subscribe(()=>{i.sectionLevel=i.sectionLevel.filter(e=>e.privilege.canViewStudentInSections!==i.privilege.canViewStudentInSections||e.privilege.canModifySessionCommentsInSections!==i.privilege.canModifySessionCommentsInSections||e.privilege.canViewSessionInSections!==i.privilege.canViewSessionInSections||e.privilege.canSubmitSessionInSections!==i.privilege.canSubmitSessionInSections||e.sessionLevel.some(n=>e.privilege.canModifySessionCommentsInSections!==n.privilege.canModifySessionCommentsInSections||e.privilege.canViewSessionInSections!==n.privilege.canViewSessionInSections||e.privilege.canSubmitSessionInSections!==n.privilege.canSubmitSessionInSections)),i.sectionLevel.forEach(e=>{e.sessionLevel.every(n=>e.privilege.canModifySessionCommentsInSections===n.privilege.canModifySessionCommentsInSections&&e.privilege.canViewSessionInSections===n.privilege.canViewSessionInSections&&e.privilege.canSubmitSessionInSections===n.privilege.canSubmitSessionInSections)&&(e.sessionLevel=[])}),e.originalPanel=JSON.parse(JSON.stringify(e.editPanel))},e=>{this.hasInstructorsLoadingFailed=!0,this.statusMessageService.showErrorToast(e.error.message)})}updatePrivilegeForInstructor(e,n){if(e.role!==p.i.INSTRUCTOR_PERMISSION_ROLE_CUSTOM)return;const i=[];i.push(this.instructorService.updateInstructorPrivilege({courseId:e.courseId,instructorEmail:e.email,requestBody:{canModifyCourse:n.privilege.canModifyCourse,canModifySession:n.privilege.canModifySession,canModifyStudent:n.privilege.canModifyStudent,canModifyInstructor:n.privilege.canModifyInstructor,canViewStudentInSections:n.privilege.canViewStudentInSections,canModifySessionCommentsInSections:n.privilege.canModifySessionCommentsInSections,canViewSessionInSections:n.privilege.canViewSessionInSections,canSubmitSessionInSections:n.privilege.canSubmitSessionInSections}}).pipe(Object(m.a)(e=>{n.privilege.canModifyCourse=e.canModifyCourse,n.privilege.canModifySession=e.canModifySession,n.privilege.canModifyStudent=e.canModifyStudent,n.privilege.canModifyInstructor=e.canModifyInstructor,n.privilege.canViewStudentInSections=e.canViewStudentInSections,n.privilege.canModifySessionCommentsInSections=e.canModifySessionCommentsInSections,n.privilege.canViewSessionInSections=e.canViewSessionInSections,n.privilege.canSubmitSessionInSections=e.canSubmitSessionInSections}))),n.sectionLevel.forEach(n=>{n.sectionNames.forEach(t=>{i.push(this.instructorService.updateInstructorPrivilege({courseId:e.courseId,instructorEmail:e.email,requestBody:{sectionName:t,canViewStudentInSections:n.privilege.canViewStudentInSections,canModifySessionCommentsInSections:n.privilege.canModifySessionCommentsInSections,canViewSessionInSections:n.privilege.canViewSessionInSections,canSubmitSessionInSections:n.privilege.canSubmitSessionInSections}}).pipe(Object(m.a)(e=>{n.privilege.canViewStudentInSections=e.canViewStudentInSections,n.privilege.canModifySessionCommentsInSections=e.canModifySessionCommentsInSections,n.privilege.canViewSessionInSections=e.canViewSessionInSections,n.privilege.canSubmitSessionInSections=e.canSubmitSessionInSections}))),n.sessionLevel.forEach(n=>{i.push(this.instructorService.updateInstructorPrivilege({courseId:e.courseId,instructorEmail:e.email,requestBody:{sectionName:t,feedbackSessionName:n.sessionName,canModifySessionCommentsInSections:n.privilege.canModifySessionCommentsInSections,canViewSessionInSections:n.privilege.canViewSessionInSections,canSubmitSessionInSections:n.privilege.canSubmitSessionInSections}}).pipe(Object(m.a)(e=>{n.privilege.canModifySessionCommentsInSections=e.canModifySessionCommentsInSections,n.privilege.canViewSessionInSections=e.canViewSessionInSections,n.privilege.canSubmitSessionInSections=e.canSubmitSessionInSections})))})})}),Object(g.a)(...i).pipe(Object(f.a)()).subscribe(()=>{n.sectionLevel=n.sectionLevel.filter(e=>0!==e.sectionNames.length)},e=>{this.statusMessageService.showErrorToast(e.error.message)})}}return e.\u0275fac=function(n){return new(n||e)(V.Qb(o.a),V.Qb(o.d),V.Qb(oe.a),V.Qb(re.b),V.Qb(ce.a),V.Qb(ae.a),V.Qb(de.a),V.Qb(le.a),V.Qb(ue.a),V.Qb(be.a),V.Qb(r.m),V.Qb(ge.a))},e.\u0275cmp=V.Kb({type:e,selectors:[["tm-instructor-course-edit-page"]],viewQuery:function(e,n){var i;1&e&&V.Wc(pe,!0),2&e&&V.Bc(i=V.jc())&&(n.form=i.first)},decls:10,vars:12,consts:[[3,"shouldShowRetry","message","retryEvent"],["class","card bg-light top-padded text-center",4,"tmIsLoading"],[1,"right","top-padded"],["tmRouterLink","/web/instructor/help","rel","noopener noreferrer","target","_blank",1,"small",3,"queryParams"],["aria-hidden","true",1,"fa","fa-info-circle"],[4,"tmIsLoading"],["class","text-center",4,"ngIf"],[4,"ngIf"],[1,"card","bg-light","top-padded","text-center"],[1,"card-header","bg-primary","text-white"],[1,"card-header-btn-toolbar"],["id","btn-edit-course","class","btn btn-primary btn-sm",3,"disabled","click",4,"ngIf"],["id","btn-cancel-course","class","btn btn-primary btn-sm",3,"disabled","click",4,"ngIf"],["id","btn-delete-course","ngbTooltip","Delete the course and its corresponding students and sessions",1,"btn","btn-primary","btn-sm",3,"disabled","click"],["aria-hidden","true",1,"fa","fa-trash"],[1,"card-body","fill-plain"],[3,"ngSubmit"],["courseForm","ngForm"],[1,"form-row","form-group"],[1,"col-sm-3","font-weight-bold","text-md-right"],[1,"col-sm-9"],["id","course-id","type","text","tabindex","1","name","courseId","required","","disabled","",1,"col-xs-12","form-control",3,"ngModel","maxlength","ngModelChange"],["courseId","ngModel"],["id","course-name","type","text","tabindex","2","name","courseName","required","",1,"form-control",3,"disabled","ngModel","maxlength","ngModelChange"],["courseName","ngModel"],[1,"invalid-field",3,"hidden"],["aria-hidden","true",1,"fa","fa-exclamation-circle"],[1,"col-xs-12","col-sm-3","font-weight-bold","text-md-right"],["ngbTooltip","You should not need to change this as it is auto-detected based on your\n                device settings. TEAMMATES automatically adjusts to match the current time offset in your area, including clock changes due to daylight saving time.",1,"ngb-tooltip-class"],[1,"col-xs-12","col-sm-9"],[1,"input-group"],["id","time-zone","required","","name","timeZone",1,"form-control",3,"ngModel","disabled","ngModelChange"],["timeZone","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"input-group-btn"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"form-group","m-0"],[1,"col-sm-12","text-center"],["id","btn-save-course","class","btn btn-success","type","submit",3,"disabled",4,"ngIf"],["id","btn-edit-course",1,"btn","btn-primary","btn-sm",3,"disabled","click"],["aria-hidden","true",1,"fa","fa-pen"],["id","btn-cancel-course",1,"btn","btn-primary","btn-sm",3,"disabled","click"],["aria-hidden","true",1,"fa","fa-times"],[3,"value"],["id","btn-save-course","type","submit",1,"btn","btn-success",3,"disabled"],[4,"ngFor","ngForOf"],[3,"editMode","instructor","instructorIndex","currInstructorCoursePrivilege","allSections","allSessions","instructorChange","viewRolePrivilegeModel","deleteInstructor","saveInstructor","cancelEditing","sendRemindJoinEmail"],[1,"text-center"],["id","btn-add-instructor","tabindex","6","type","button",1,"btn","btn-success",3,"click"],[3,"editMode","instructor","instructorIndex","isSavingNewInstructor","currInstructorCoursePrivilege","allSections","allSessions","instructorChange","viewRolePrivilegeModel","saveInstructor","cancelEditing"]],template:function(e,n){1&e&&(V.Wb(0,"tm-loading-retry",0),V.ic("retryEvent",(function(){return n.loadCourseInfo()})),V.Oc(1,ye,43,14,"div",1),V.Wb(2,"div",2),V.Wb(3,"a",3),V.Rb(4,"i",4),V.Qc(5," More about configuring access permissions "),V.Vb(),V.Vb(),V.Vb(),V.Wb(6,"tm-loading-retry",0),V.ic("retryEvent",(function(){return n.loadCourseInstructors()})),V.Oc(7,Ve,2,1,"div",5),V.Vb(),V.Oc(8,Ee,3,0,"div",6),V.Oc(9,Re,2,8,"div",7)),2&e&&(V.sc("shouldShowRetry",n.hasCourseLoadingFailed)("message","Failed to load course"),V.Cb(1),V.sc("tmIsLoading",n.isCourseLoading),V.Cb(2),V.sc("queryParams",V.xc(9,we,n.CoursesSectionQuestions.COURSE_INSTRUCTOR_ACCESS,n.Sections.courses)),V.Cb(3),V.sc("shouldShowRetry",n.hasInstructorsLoadingFailed)("message","Failed to load instructors of course"),V.Cb(1),V.sc("tmIsLoading",n.isInstructorsLoading),V.Cb(1),V.sc("ngIf",!n.isAddingNewInstructor),V.Cb(1),V.sc("ngIf",n.isAddingNewInstructor))},directives:[Se.a,me.a,fe.a,t.u,r.w,s.F,s.q,s.r,s.c,s.A,s.p,s.s,s.k,s.B,t.t,s.u,s.E,N.a,ie],styles:[".invalid-field[_ngcontent-%COMP%]{padding-top:5px;color:#b50000}.form-row[_ngcontent-%COMP%]{-ms-flex-align:center;align-items:center}.fill-plain[_ngcontent-%COMP%]{background-color:#eaeff5}"],data:{animation:[M.a]}}),e})()}];let Te=(()=>{class e{}return e.\u0275mod=V.Ob({type:e}),e.\u0275inj=V.Nb({factory:function(n){return new(n||e)},imports:[[t.c,s.j,o.h.forChild(We),r.y,l.a,d.a,c.a,a.a,u.a]]}),e})()},Babz:function(e,n,i){"use strict";i.d(n,"a",(function(){return a}));var t=i("fXoL"),s=i("ofXK");function o(e,n){if(1&e){const e=t.Xb();t.Wb(0,"div",2),t.Wb(1,"p",3),t.Qc(2),t.Vb(),t.Wb(3,"button",4),t.ic("click",(function(){return t.Fc(e),t.kc().retryEvent.emit()})),t.Rb(4,"i",5),t.Qc(5,"\xa0Retry"),t.Vb(),t.Vb()}if(2&e){const e=t.kc();t.Cb(2),t.Rc(e.message)}}function r(e,n){1&e&&t.qc(0)}const c=["*"];let a=(()=>{class e{constructor(){this.message="",this.shouldShowRetry=!1,this.retryEvent=new t.n}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Kb({type:e,selectors:[["tm-loading-retry"]],inputs:{message:"message",shouldShowRetry:"shouldShowRetry"},outputs:{retryEvent:"retryEvent"},ngContentSelectors:c,decls:3,vars:2,consts:[["class","text-center",4,"ngIf","ngIfElse"],["content",""],[1,"text-center"],[1,"text-muted","m-1"],[1,"btn","btn-primary",3,"click"],["aria-hidden","true",1,"fas","fa-redo"]],template:function(e,n){if(1&e&&(t.rc(),t.Oc(0,o,6,1,"div",0),t.Oc(1,r,1,0,"ng-template",null,1,t.Pc)),2&e){const e=t.Cc(2);t.sc("ngIf",n.shouldShowRetry)("ngIfElse",e)}},directives:[s.u],styles:[""]}),e})()},JUCI:function(e,n,i){"use strict";i.d(n,"a",(function(){return s}));var t=i("R0Ic");const s=Object(t.j)("collapseAnim",[Object(t.i)(":leave",[Object(t.h)({height:"*",overflow:"hidden"}),Object(t.e)("300ms ease-in-out",Object(t.h)({height:0,opacity:0}))]),Object(t.i)(":enter",[Object(t.h)({height:"0",overflow:"hidden"}),Object(t.e)("300ms ease-in-out",Object(t.h)({height:"*",opacity:1}))])])},Mdjh:function(e,n,i){"use strict";i.d(n,"a",(function(){return t}));const t={canModifyCourse:!1,canModifySession:!1,canModifyStudent:!1,canSubmitSessionInSections:!1,canModifyInstructor:!1,canViewStudentInSections:!1,canModifySessionCommentsInSections:!1,canViewSessionInSections:!1}},RNOZ:function(e,n,i){"use strict";i.d(n,"a",(function(){return o}));var t=i("R8lv"),s=i("fXoL");let o=(()=>{class e{transform(e){switch(e){case t.i.INSTRUCTOR_PERMISSION_ROLE_COOWNER:return"Co-owner";case t.i.INSTRUCTOR_PERMISSION_ROLE_MANAGER:return"Manager";case t.i.INSTRUCTOR_PERMISSION_ROLE_OBSERVER:return"Observer";case t.i.INSTRUCTOR_PERMISSION_ROLE_TUTOR:return"Tutor";case t.i.INSTRUCTOR_PERMISSION_ROLE_CUSTOM:default:return"Custom"}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=s.Pb({name:"instructorRoleName",type:e,pure:!0}),e})()},RkgC:function(e,n,i){"use strict";i.d(n,"a",(function(){return t}));var t=function(e){return e.students="students",e.courses="courses",e.sessions="sessions",e.questions="questions",e.body="body",e}({})},UGSt:function(e,n,i){"use strict";i.d(n,"a",(function(){return s}));var t=i("fXoL");let s=(()=>{class e{transform(e){return Object.keys(e).map(n=>e[n])}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=t.Pb({name:"enumToArray",type:e,pure:!0}),e})()},Wsbs:function(e,n,i){"use strict";i.d(n,"a",(function(){return s}));var t=i("fXoL");let s=(()=>{class e{constructor(){this.useBlueSpinner=!1}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Kb({type:e,selectors:[["tm-ajax-loading"]],inputs:{useBlueSpinner:"useBlueSpinner"},decls:2,vars:3,consts:[[1,"loading-container"],["role","status"]],template:function(e,n){1&e&&(t.Wb(0,"div",0),t.Rb(1,"div",1),t.Vb()),2&e&&(t.Cb(1),t.Fb("spinner-border spinner-border-sm text-",n.useBlueSpinner?"primary":"white",""))},styles:[".loading-container[_ngcontent-%COMP%]{display:inline;margin-right:10px}"]}),e})()},ax2R:function(e,n,i){"use strict";i.d(n,"a",(function(){return o}));var t=i("XNiG"),s=i("fXoL");let o=(()=>{class e{constructor(){this.progressPercentage=new t.a}updateProgress(e){this.progressPercentage.next(e)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=s.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},eQqG:function(e,n,i){"use strict";i.d(n,"a",(function(){return C}));var t=i("fXoL"),s=i("/Tzu"),o=i("1kSV"),r=i("ofXK"),c=i("ax2R");let a=(()=>{class e{constructor(e){this.progressBarService=e,this.progressPercentage=0}ngOnInit(){this.getProgress()}getProgress(){this.progressBarService.progressPercentage.subscribe(e=>{this.progressPercentage=e})}}return e.\u0275fac=function(n){return new(n||e)(t.Qb(c.a))},e.\u0275cmp=t.Kb({type:e,selectors:[["tm-progress-bar"]],decls:2,vars:3,consts:[["type","info","height","26px","showValue","true",3,"value","striped","animated"]],template:function(e,n){1&e&&(t.Wb(0,"div"),t.Rb(1,"ngb-progressbar",0),t.Vb()),2&e&&(t.Cb(1),t.sc("value",n.progressPercentage)("striped",!0)("animated",!0))},directives:[o.q],encapsulation:2}),e})();function d(e,n){1&e&&t.Rb(0,"i",16)}function l(e,n){1&e&&t.Rb(0,"i",17)}function u(e,n){1&e&&t.Rb(0,"i",18)}function b(e,n){1&e&&t.Sb(0)}function g(e,n){if(1&e&&(t.Wb(0,"div"),t.Oc(1,b,1,0,"ng-container",19),t.Vb()),2&e){const e=t.kc();t.Cb(1),t.sc("ngTemplateOutlet",e.content)}}function S(e,n){if(1&e&&t.Rb(0,"div",20),2&e){const e=t.kc();t.sc("innerHTML",e.content,t.Gc)}}function m(e,n){1&e&&(t.Wb(0,"div",21),t.Rb(1,"tm-progress-bar"),t.Vb())}function f(e,n){if(1&e){const e=t.Xb();t.Wb(0,"button",22),t.ic("click",(function(){return t.Fc(e),t.kc().activeModal.dismiss()})),t.Qc(1),t.Vb()}if(2&e){const e=t.kc();t.Cb(1),t.Sc(" ",e.cancelMessage," ")}}const p=function(e){return{"display-none":e}},I=function(e,n,i,t){return{"alert-danger":e,"alert-warning":n,"alert-info":i,"bg-white":t}},h=function(e,n,i,t){return{"btn-danger":e,"btn-warning":n,"btn-info":i,"btn-primary":t}};let v=(()=>{class e{constructor(e){this.activeModal=e,this.SimpleModalType=s.a,this.header="",this.content="",this.type=s.a.NEUTRAL,this.isInformationOnly=!1,this.confirmMessage="Yes",this.cancelMessage="No, cancel the operation"}get isTemplate(){return this.content instanceof t.L}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)(t.Qb(o.a))},e.\u0275cmp=t.Kb({type:e,selectors:[["tm-confirmation-modal"]],inputs:{header:"header",content:"content",type:"type",isInformationOnly:"isInformationOnly",confirmMessage:"confirmMessage",cancelMessage:"cancelMessage"},decls:18,vars:24,consts:[[1,"transparent-overlay",3,"ngClass"],[1,"modal-header",3,"ngClass"],[1,"modal-title"],["class","fas fa-times-circle",4,"ngIf"],["class","fas fa-exclamation-circle",4,"ngIf"],["class","fas fa-info-circle",4,"ngIf"],[1,"margin-left-5px",3,"innerHTML"],["type","button",1,"close",3,"click"],[1,"fas","fa-times"],[1,"modal-body"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],["class","progress-bar-container",4,"ngIf"],[1,"modal-footer"],["type","button","class","btn btn-light modal-btn-cancel",3,"click",4,"ngIf"],["type","button",1,"btn","modal-btn-ok","z-index-1",3,"ngClass","click"],[1,"fas","fa-times-circle"],[1,"fas","fa-exclamation-circle"],[1,"fas","fa-info-circle"],[4,"ngTemplateOutlet"],[3,"innerHTML"],[1,"progress-bar-container"],["type","button",1,"btn","btn-light","modal-btn-cancel",3,"click"]],template:function(e,n){1&e&&(t.Rb(0,"div",0),t.Wb(1,"div",1),t.Wb(2,"div"),t.Wb(3,"h5",2),t.Oc(4,d,1,0,"i",3),t.Oc(5,l,1,0,"i",4),t.Oc(6,u,1,0,"i",5),t.Rb(7,"span",6),t.Vb(),t.Vb(),t.Wb(8,"button",7),t.ic("click",(function(){return n.type===n.SimpleModalType.LOAD?n.activeModal.close():n.activeModal.dismiss()})),t.Rb(9,"i",8),t.Vb(),t.Vb(),t.Wb(10,"div",9),t.Oc(11,g,2,1,"div",10),t.Oc(12,S,1,1,"div",11),t.Oc(13,m,2,0,"div",12),t.Vb(),t.Wb(14,"div",13),t.Oc(15,f,2,1,"button",14),t.Wb(16,"button",15),t.ic("click",(function(){return n.activeModal.close()})),t.Qc(17),t.Vb(),t.Vb()),2&e&&(t.sc("ngClass",t.wc(12,p,n.type!==n.SimpleModalType.LOAD)),t.Cb(1),t.sc("ngClass",t.zc(14,I,n.type===n.SimpleModalType.DANGER,n.type===n.SimpleModalType.WARNING,n.type===n.SimpleModalType.INFO||n.type===n.SimpleModalType.LOAD,n.type===n.SimpleModalType.NEUTRAL)),t.Cb(3),t.sc("ngIf",n.type===n.SimpleModalType.DANGER),t.Cb(1),t.sc("ngIf",n.type===n.SimpleModalType.WARNING),t.Cb(1),t.sc("ngIf",n.type===n.SimpleModalType.INFO||n.type===n.SimpleModalType.LOAD),t.Cb(1),t.sc("innerHTML",n.header,t.Gc),t.Cb(4),t.sc("ngIf",n.isTemplate),t.Cb(1),t.sc("ngIf",!n.isTemplate),t.Cb(1),t.sc("ngIf",n.type===n.SimpleModalType.LOAD),t.Cb(2),t.sc("ngIf",!n.isInformationOnly),t.Cb(1),t.sc("ngClass",t.zc(19,h,n.type===n.SimpleModalType.DANGER||n.type===n.SimpleModalType.LOAD,n.type===n.SimpleModalType.WARNING,n.type===n.SimpleModalType.INFO,n.type===n.SimpleModalType.NEUTRAL)),t.Cb(1),t.Rc(n.confirmMessage))},directives:[r.r,r.u,r.B,a],styles:[".margin-left-5px[_ngcontent-%COMP%]{margin-left:5px}.progress-bar-container[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:2px}.transparent-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;visibility:false;z-index:0}.display-none[_ngcontent-%COMP%]{display:none}.z-index-1[_ngcontent-%COMP%]{z-index:1}"]}),e})(),C=(()=>{class e{constructor(e){this.ngbModal=e}open(e,n,i,t){const s=this.ngbModal.open(v);return s.componentInstance.header=e,s.componentInstance.content=i,s.componentInstance.type=n,t&&Object.entries(t).map(([e,n])=>{s.componentInstance[e]=n}),s}openConfirmationModal(e,n,i,t){const s=Object.assign({isInformationOnly:!1,confirmMessage:"Yes",cancelMessage:"No, cancel the operation"},t);return this.open(e,n,i,s)}openInformationModal(e,n,i,t){const s=Object.assign({isInformationOnly:!0,confirmMessage:"OK"},t);return this.open(e,n,i,s)}openLoadingModal(e,n,i,t){const s=Object.assign({isInformationOnly:!0,confirmMessage:"Abort"},t);return this.open(e,n,i,s)}}return e.\u0275fac=function(n){return new(n||e)(t.ec(o.m))},e.\u0275prov=t.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},mYbV:function(e,n,i){"use strict";i.d(n,"a",(function(){return o}));var t=i("ofXK"),s=i("fXoL");let o=(()=>{class e{}return e.\u0275mod=s.Ob({type:e}),e.\u0275inj=s.Nb({factory:function(n){return new(n||e)},imports:[[t.c]]}),e})()}}]);