<ng-container *ngFor="let course of courses">
  <div class="card bg-light top-padded">
    <div class="card-header bg-primary text-white">
      <strong>[{{ course.id }}]: {{ course.name }}</strong>
      <span class="float-sm-right">
        <a routerLink="../course" [queryParams]="{user: this.user, courseid: course.id}"
           class="btn btn-light btn-sm button">
          View team
        </a>
      </span>
    </div>

    <div class="table-responsive">
      <table class="table table-striped table-bordered margin-0" *ngIf="course.sessions.length">
        <thead>
        <tr>
          <th>Session Name</th>
          <th>Deadline</th>
          <th>Submissions</th>
          <th>Responses</th>
          <th>Action(s)</th>
        </tr>
        </thead>
        <tbody>
          <tr *ngFor="let session of course.sessions">
            <td>{{ session.name }}</td>
            <td>{{ session.deadline }}</td>
            <td>{{ session.isOpened | sessionSubmissionStatus:
                    session.isWaitingToOpen : sessionSubmissionStatusMap.get(session) }}</td>
            <td>{{ session.isSessionPublished | sessionResponseStatus }}</td>
            <td>
              <a *ngIf="session.isSessionPublished"
                 routerLink="../sessions/result"
                 [queryParams]="{courseid: course.id, fsname: session.name, user: this.user}"
                 class="btn btn-light btn-sm btn-left button">
                View Responses
              </a>
              <a *ngIf="!session.isSessionPublished" class="btn btn-light btn-sm btn-left disabled button" type="button">
                View Responses
              </a>
              <a *ngIf="session.isOpened && !sessionSubmissionStatusMap.get(session)"
                 routerLink="../sessions/submission"
                 [queryParams]="{courseid: course.id, fsname: session.name, user: this.user}"
                 class="btn btn-light btn-sm button">
                Start Submission
              </a>
              <a *ngIf="session.isWaitingToOpen" class="btn btn-light btn-sm disabled button">
                Start Submission
              </a>
              <a *ngIf="session.isOpened && sessionSubmissionStatusMap.get(session)"
                 routerLink="../sessions/submission"
                 [queryParams]="{courseid: course.id, fsname: session.name, user: this.user}"
                 class="btn btn-light btn-sm button">
                Edit Submission
              </a>
              <a *ngIf="!session.isOpened && !session.isWaitingToOpen"
                 routerLink="../sessions/submission"
                 [queryParams]="{courseid: course.id, fsname: session.name, user: this.user}"
                 class="btn btn-light btn-sm button">
                View Submission
              </a>
            </td>
          </tr>
        </tbody>
      </table>

      <table class="table table-striped table-bordered margin-0" *ngIf="!course.sessions.length">
        <tbody>
        <tr>
          <th class="align-center white">
            Currently, there are no open evaluation/feedback sessions in this course. When a session is open for submission you will be notified.
          </th>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
</ng-container>
