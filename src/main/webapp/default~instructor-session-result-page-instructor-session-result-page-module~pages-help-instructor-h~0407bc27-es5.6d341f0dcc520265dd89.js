function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?Array.from(e):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,n=new Array(t);s<t;s++)n[s]=e[s];return n}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var s,n=_getPrototypeOf(e);if(t){var i=_getPrototypeOf(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return _possibleConstructorReturn(this,s)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _defineProperties(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,s){return t&&_defineProperties(e.prototype,t),s&&_defineProperties(e,s),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"DW2+":function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var n=function(e){return e.ESSAY="essay-questions",e.SINGLE_ANSWER_MCQ="single-answer-mcq",e.MULTIPLE_ANSWER_MCQ="multiple-answer-mcq",e.NUMERICAL_SCALE="numerical-scale",e.POINTS_OPTIONS="points-options",e.POINTS_RECIPIENTS="points-recipients",e.CONTRIBUTION="contribution",e.RUBRIC="rubric",e.RANK_OPTIONS="rank-options",e.RANK_RECIPIENTS="rank-recipients",e}({})},RkgC:function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var n=function(e){return e.students="students",e.courses="courses",e.sessions="sessions",e.questions="questions",e.body="body",e}({})},r4OI:function(e,t,s){"use strict";s.d(t,"a",(function(){return m}));var n,i,a=s("ofXK"),o=s("3Pt+"),r=s("tyNb"),c=s("1kSV"),u=s("9Jqy"),l=s("TOej"),b=s("Puad"),p=s("fXoL"),f=((i=function e(){_classCallCheck(this,e)}).\u0275mod=p.Ob({type:i}),i.\u0275inj=p.Nb({factory:function(e){return new(e||i)},imports:[[a.c,o.j,c.y,u.a,r.h,b.a,l.a]]}),i),m=((n=function e(){_classCallCheck(this,e)}).\u0275mod=p.Ob({type:n}),n.\u0275inj=p.Nb({factory:function(e){return new(e||n)},imports:[[a.c,f]]}),n)},uWR1:function(e,t,s){"use strict";s.d(t,"a",(function(){return Ke}));var n=s("R8lv"),i=s("C58a"),a=s("fXoL"),o=s("eoFM"),r=s("ofXK"),c=s("q1I8"),u=s("p6cw"),l=s("DW2+"),b=s("RkgC"),p=s("/Tzu"),f=s("768o"),m=s("RmXC"),h=s("1kSV");function v(e,t){if(1&e&&(a.Wb(0,"span",5),a.Qc(1),a.Vb()),2&e){var s=a.kc(2);a.Cb(1),a.Sc("+",s.value,"%")}}function d(e,t){1&e&&(a.Wb(0,"span",6),a.Qc(1,"0"),a.Vb())}function y(e,t){if(1&e&&(a.Wb(0,"span",7),a.Qc(1),a.Vb()),2&e){var s=a.kc(2);a.Cb(1),a.Sc("",s.value,"%")}}function T(e,t){1&e&&(a.Wb(0,"span",8),a.Qc(1,"N/A"),a.Vb())}function g(e,t){if(1&e&&(a.Wb(0,"span"),a.Oc(1,v,2,1,"span",1),a.Oc(2,d,2,0,"span",2),a.Oc(3,y,2,1,"span",3),a.Oc(4,T,2,0,"span",4),a.Vb()),2&e){var s=a.kc();a.Cb(1),a.sc("ngIf",s.value>0),a.Cb(1),a.sc("ngIf",0===s.value),a.Cb(1),a.sc("ngIf",s.value<0&&s.value>=-100),a.Cb(1),a.sc("ngIf",s.value===s.CONTRIBUTION_POINT_NOT_SUBMITTED||s.value===s.CONTRIBUTION_POINT_NOT_INITIALIZED)}}function C(e,t){if(1&e&&(a.Wb(0,"span",5),a.Qc(1),a.Vb()),2&e){var s=a.kc(2);a.Cb(1),a.Sc("E +",s.value-100,"%")}}function O(e,t){1&e&&(a.Wb(0,"span",6),a.Qc(1,"E"),a.Vb())}function R(e,t){if(1&e&&(a.Wb(0,"span",7),a.Qc(1),a.Vb()),2&e){var s=a.kc(2);a.Cb(1),a.Sc("E -",100-s.value,"%")}}function S(e,t){1&e&&(a.Wb(0,"span",8),a.Qc(1,"N/A"),a.Vb())}function I(e,t){if(1&e&&(a.Wb(0,"span"),a.Oc(1,C,2,1,"span",1),a.Oc(2,O,2,0,"span",2),a.Oc(3,R,2,1,"span",3),a.Oc(4,S,2,0,"span",4),a.Vb()),2&e){var s=a.kc();a.Cb(1),a.sc("ngIf",s.value>100),a.Cb(1),a.sc("ngIf",100===s.value),a.Cb(1),a.sc("ngIf",s.value<100&&s.value>=0),a.Cb(1),a.sc("ngIf",s.value===s.CONTRIBUTION_POINT_NOT_SUBMITTED||s.value===s.CONTRIBUTION_POINT_NOT_INITIALIZED)}}var _,w=((_=function(){function e(){_classCallCheck(this,e),this.CONTRIBUTION_POINT_NOT_INITIALIZED=m.b,this.CONTRIBUTION_POINT_NOT_SUBMITTED=m.c,this.value=100,this.diffOnly=!1}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||_)},_.\u0275cmp=a.Kb({type:_,selectors:[["tm-contribution"]],inputs:{value:"value",diffOnly:"diffOnly"},decls:2,vars:2,consts:[[4,"ngIf"],["class","positive",4,"ngIf"],["class","neutral",4,"ngIf"],["class","negative",4,"ngIf"],["class","ngb-tooltip-class neutral","container","body","ngbTooltip","Not Available: There is no data for this or the data is not enough",4,"ngIf"],[1,"positive"],[1,"neutral"],[1,"negative"],["container","body","ngbTooltip","Not Available: There is no data for this or the data is not enough",1,"ngb-tooltip-class","neutral"]],template:function(e,t){1&e&&(a.Oc(0,g,5,4,"span",0),a.Oc(1,I,5,4,"span",0)),2&e&&(a.sc("ngIf",t.diffOnly),a.Cb(1),a.sc("ngIf",!t.diffOnly))},directives:[r.u,h.w],styles:[".positive[_ngcontent-%COMP%]{color:#108627}.negative[_ngcontent-%COMP%]{color:#e74c3c}.neutral[_ngcontent-%COMP%]{color:grey}"]}),_);function E(e,t){1&e&&(a.Wb(0,"span"),a.Qc(1,",\xa0"),a.Vb())}function W(e,t){if(1&e&&(a.Wb(0,"span"),a.Oc(1,E,2,0,"span",1),a.Rb(2,"tm-contribution",2),a.Vb()),2&e){var s=t.$implicit,n=t.index;a.Cb(1),a.sc("ngIf",0!==n),a.Cb(1),a.sc("value",s)}}function N(e,t){if(1&e&&(a.Wb(0,"span"),a.Rb(1,"tm-contribution",2),a.Vb()),2&e){var s=a.kc();a.Cb(1),a.sc("value",s.CONTRIBUTION_POINT_NOT_SUBMITTED)}}var V,k=((V=function(){function e(){_classCallCheck(this,e),this.CONTRIBUTION_POINT_NOT_SUBMITTED=m.c,this.ratingsList=[]}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||V)},V.\u0275cmp=a.Kb({type:V,selectors:[["tm-contribution-ratings-list"]],inputs:{ratingsList:"ratingsList"},decls:2,vars:2,consts:[[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"]],template:function(e,t){1&e&&(a.Oc(0,W,3,2,"span",0),a.Oc(1,N,2,1,"span",1)),2&e&&(a.sc("ngForOf",t.ratingsList),a.Cb(1),a.sc("ngIf",!t.ratingsList.length))},directives:[r.t,r.u,w],styles:[""]}),V),A=s("eQqG"),P=s("W872"),D=s("h8PG");function Q(e,t){1&e&&(a.Wb(0,"span"),a.Qc(1,",\xa0"),a.Vb())}function q(e,t){if(1&e&&(a.Wb(0,"span"),a.Oc(1,Q,2,0,"span",0),a.Rb(2,"tm-contribution",9),a.Vb()),2&e){var s=t.$implicit,n=t.index;a.Cb(1),a.sc("ngIf",0!==n),a.Cb(1),a.sc("value",s)}}function B(e,t){1&e&&(a.Wb(0,"span"),a.Qc(1,",\xa0"),a.Vb())}function M(e,t){if(1&e&&(a.Wb(0,"span"),a.Oc(1,B,2,0,"span",0),a.Rb(2,"tm-contribution",9),a.Vb()),2&e){var s=t.$implicit,n=t.index;a.Cb(1),a.sc("ngIf",0!==n),a.Cb(1),a.sc("value",s)}}function U(e,t){if(1&e){var s=a.Xb();a.Wb(0,"div"),a.Wb(1,"div",2),a.Wb(2,"div",3),a.Qc(3," Comparison of Work Distribution "),a.Vb(),a.Wb(4,"div",4),a.Wb(5,"div",5),a.Wb(6,"div",6),a.Wb(7,"span",7),a.Wb(8,"strong"),a.Qc(9,"My view:"),a.Vb(),a.Vb(),a.Vb(),a.Wb(10,"div",8),a.Wb(11,"strong"),a.Qc(12,"of me:"),a.Vb(),a.Qc(13,"\xa0"),a.Rb(14,"tm-contribution",9),a.Vb(),a.Wb(15,"div",10),a.Wb(16,"strong"),a.Qc(17,"of others:"),a.Vb(),a.Qc(18,"\xa0 "),a.Oc(19,q,3,2,"span",11),a.Qc(20," \xa0"),a.Wb(21,"a",12),a.ic("click",(function(){a.Fc(s);var e=a.kc(),t=a.Cc(3);return e.openHelpModal(t)})),a.Rb(22,"i",13),a.Vb(),a.Vb(),a.Vb(),a.Wb(23,"div",14),a.Wb(24,"div",6),a.Wb(25,"strong"),a.Qc(26,"Team view:"),a.Vb(),a.Vb(),a.Wb(27,"div",15),a.Wb(28,"span",16),a.Wb(29,"strong"),a.Qc(30,"of me:\xa0"),a.Vb(),a.Vb(),a.Rb(31,"tm-contribution",9),a.Vb(),a.Wb(32,"div",17),a.Wb(33,"strong"),a.Qc(34,"of others:"),a.Vb(),a.Qc(35,"\xa0 "),a.Oc(36,M,3,2,"span",11),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb()}if(2&e){var n=a.kc();a.Cb(14),a.sc("value",n.questionStatisticsForStudent.claimed),a.Cb(5),a.sc("ngForOf",n.questionStatisticsForStudent.claimedOthersValues),a.Cb(12),a.sc("value",n.questionStatisticsForStudent.perceived),a.Cb(5),a.sc("ngForOf",n.questionStatisticsForStudent.perceivedOthers)}}var x=function(e,t){return{questionId:e,section:t}};function L(e,t){if(1&e&&(a.Wb(0,"div"),a.Wb(1,"div",14),a.Wb(2,"div",18),a.Wb(3,"strong"),a.Qc(4," Response Summary "),a.Vb(),a.Vb(),a.Wb(5,"div",19),a.Qc(6," ["),a.Wb(7,"a",20),a.Qc(8,"How do I interpret/use these values?"),a.Vb(),a.Qc(9,"] "),a.Vb(),a.Vb(),a.Wb(10,"div",14),a.Wb(11,"div",21),a.Rb(12,"tm-sortable-table",22),a.Vb(),a.Vb(),a.Vb()),2&e){var s=a.kc();a.Cb(7),a.sc("queryParams",a.xc(3,x,s.QuestionsSectionQuestions.CONTRIBUTION,s.Sections.questions)),a.Cb(5),a.sc("rows",s.rowsData)("columns",s.columnsData)}}function j(e,t){1&e&&(a.Wb(0,"h4"),a.Qc(1,"How do I interpret these results?"),a.Vb(),a.Wb(2,"ul"),a.Wb(3,"li"),a.Qc(4," Compare the values given in 'My view' with those under 'Team's view'. This tells you whether your perception matches what the team thinks, particularly regarding your own contribution. You may ignore minor differences. "),a.Vb(),a.Wb(5,"li"),a.Qc(6," From the estimates you submit, we try to deduce the answer to this question: In your opinion, if your teammates are doing the project by themselves without you, how do they compare against each other in terms of contribution? We want to deduce your unbiased opinion about your team members' contributions. "),a.Vb(),a.Wb(7,"li"),a.Qc(8," Please note that the \u2018Team view\u2019 shown to you has been adjusted to match the total of your own view (i.e., the \u2018My view\u2019). In the example below, \u2018My view\u2019 adds up to 4E+10% and therefore, the \u2018Team view\u2019 has been scaled up to add up to 4E+10% as well (give or take minor differences due to rounding off errors). "),a.Wb(9,"div",2),a.Wb(10,"div",3),a.Qc(11," Comparison of Work Distribution "),a.Vb(),a.Wb(12,"div",4),a.Wb(13,"div",5),a.Wb(14,"div",6),a.Wb(15,"span",7),a.Wb(16,"strong"),a.Qc(17,"My view:"),a.Vb(),a.Vb(),a.Vb(),a.Wb(18,"div",8),a.Wb(19,"strong"),a.Qc(20,"of me:"),a.Vb(),a.Qc(21,"\xa0 "),a.Rb(22,"tm-contribution",9),a.Vb(),a.Wb(23,"div",10),a.Wb(24,"strong"),a.Qc(25,"of others:"),a.Vb(),a.Qc(26,"\xa0 "),a.Wb(27,"span"),a.Rb(28,"tm-contribution",9),a.Vb(),a.Qc(29,"\xa0 "),a.Wb(30,"span"),a.Rb(31,"tm-contribution",9),a.Vb(),a.Qc(32,"\xa0 "),a.Wb(33,"span"),a.Rb(34,"tm-contribution",9),a.Vb(),a.Vb(),a.Vb(),a.Wb(35,"div",14),a.Wb(36,"div",6),a.Wb(37,"strong"),a.Qc(38,"Team view:"),a.Vb(),a.Vb(),a.Wb(39,"div",15),a.Wb(40,"span",16),a.Wb(41,"strong"),a.Qc(42,"of me:"),a.Vb(),a.Qc(43,"\xa0 "),a.Vb(),a.Rb(44,"tm-contribution",9),a.Vb(),a.Wb(45,"div",17),a.Wb(46,"strong"),a.Qc(47,"of others:"),a.Vb(),a.Qc(48,"\xa0 "),a.Wb(49,"span"),a.Rb(50,"tm-contribution",9),a.Vb(),a.Qc(51,"\xa0 "),a.Wb(52,"span"),a.Rb(53,"tm-contribution",9),a.Vb(),a.Qc(54,"\xa0 "),a.Wb(55,"span"),a.Rb(56,"tm-contribution",9),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Qc(57," The reason for such an adjustment is to allow you to make a direct comparison between your own view of work distribution against that of the team. In the example above, the \u2018Team view\u2019 is quite close to the \u2018My view\u2019 which means the respondent has an accurate view of how much each contributed (in other words, the team agrees with the respondent\u2019s view). "),a.Rb(58,"br"),a.Qc(59," Note that the above also means the \u2018Team view\u2019 seen by each team member could be different. "),a.Vb(),a.Vb(),a.Wb(60,"h4"),a.Qc(61,"How are contribution question results used in grading?"),a.Vb(),a.Wb(62,"ul"),a.Wb(63,"li"),a.Qc(64," TEAMMATES does not calculate grades. Instructors are free to choose how they use contribution question results. "),a.Vb(),a.Wb(65,"li"),a.Qc(66," TEAMMATES recommends that contribution question results be used only as flags to identify teams with contribution imbalances. Once identified, the instructor is recommended to investigate further before taking action. "),a.Vb(),a.Vb(),a.Wb(67,"h4"),a.Qc(68,"How are the scores for contribution questions calculated?"),a.Vb(),a.Wb(69,"p"),a.Qc(70," Here are the important things to note about "),a.Wb(71,"a",23),a.Qc(72,"how contribution scores are calculated"),a.Vb(),a.Qc(73,": "),a.Vb(),a.Wb(74,"ul"),a.Wb(75,"li"),a.Qc(76," The contribution value you attribute to yourself is not used to calculate the team's view of your contribution. That means you cannot boost your perceived contribution by claiming a high contribution for yourself or attributing a low contribution to team members. "),a.Vb(),a.Wb(77,"li"),a.Qc(78," We adjust the estimates you submitted to remove artificial inflation/deflation. For example, giving everyone "),a.Wb(79,"code"),a.Qc(80,"[Equal share + 20%]"),a.Vb(),a.Qc(81," is as same as giving everyone "),a.Wb(82,"code"),a.Qc(83,"[Equal share]"),a.Vb(),a.Qc(84," because in both cases all members have done a similar share of work. "),a.Vb(),a.Wb(85,"li"),a.Qc(86," The sum of values in the team's view has been scaled to equal the sum of values in your view. That way, you can make a direct comparison between your view and the team's view. As this scaling is specific to you, the values you see in team's view may not match the values your team members see in their results. "),a.Vb(),a.Vb()),2&e&&(a.Cb(22),a.sc("value",110),a.Cb(6),a.sc("value",110),a.Cb(3),a.sc("value",110),a.Cb(3),a.sc("value",80),a.Cb(10),a.sc("value",109),a.Cb(6),a.sc("value",109),a.Cb(3),a.sc("value",109),a.Cb(3),a.sc("value",82))}var F,K,G=((F=function(e){_inherits(s,e);var t=_createSuper(s);function s(e){var n;return _classCallCheck(this,s),(n=t.call(this,Object(c.d)())).simpleModalService=e,n.QuestionsSectionQuestions=l.a,n.Sections=b.a,n.displayContributionStats=!0,n.columnsData=[],n.rowsData=[],n}return _createClass(s,[{key:"ngOnInit",value:function(){this.parseStatistics(),this.getTableData()}},{key:"ngOnChanges",value:function(){this.parseStatistics(),this.getTableData()}},{key:"getTableData",value:function(){var e=this;if(this.questionOverallStatistics){var t=this.questionOverallStatistics;this.columnsData=[{header:"Team",sortBy:u.a.CONTRIBUTION_TEAM},{header:"Recipient",sortBy:u.a.CONTRIBUTION_RECIPIENT},{header:"CC",sortBy:u.a.CONTRIBUTION_VALUE,headerToolTip:"Claimed Contribution: This is the student's own estimation of his/her contributions"},{header:"PC",sortBy:u.a.CONTRIBUTION_VALUE,headerToolTip:"Perceived Contribution: This is the average of what other team members think this student contributed"},{header:"Diff",sortBy:u.a.CONTRIBUTION_VALUE,headerToolTip:"Perceived Contribution - Claimed Contribution"},{header:"Ratings Received",headerToolTip:"The list of points that this student received from others"}],this.rowsData=Object.keys(this.emailToName).map((function(s){return[{value:e.emailToTeamName[s]},{value:e.emailToName[s]},{value:t.results[s].claimed,customComponent:{component:w,componentData:{value:t.results[s].claimed}}},{value:t.results[s].perceived,customComponent:{component:w,componentData:{value:t.results[s].perceived}}},{value:e.emailToDiff[s],customComponent:{component:w,componentData:{value:e.emailToDiff[s],diffOnly:!0}}},{customComponent:{component:k,componentData:{ratingsList:t.results[s].perceivedOthers}}}]}))}}},{key:"openHelpModal",value:function(e){this.simpleModalService.openInformationModal("More info about contribution questions",p.a.NEUTRAL,e)}}]),s}(f.a)).\u0275fac=function(e){return new(e||F)(a.Qb(A.a))},F.\u0275cmp=a.Kb({type:F,selectors:[["tm-contribution-question-statistics"]],inputs:{displayContributionStats:"displayContributionStats"},features:[a.zb,a.Ab],decls:4,vars:2,consts:[[4,"ngIf"],["contributionHelpModal",""],[1,"card",2,"margin-top","20px"],[1,"card-header","bg-primary","text-white"],[1,"card-body"],[1,"row",2,"margin-bottom","5px"],[1,"col-sm-2"],["ngbTooltip","Compare 'My view' with 'Team's view' to see if your perception is similar to your team's perception",1,"ngb-tooltip-class"],["id","own-view-me",1,"col-sm-2"],[3,"value"],["id","own-view-others",1,"col-sm-8"],[4,"ngFor","ngForOf"],["queryParamsHandling","preserve",3,"tmRouterLink","click"],[1,"fas","fa-info-circle"],[1,"row"],["id","team-view-me",1,"col-sm-2"],["ngbTooltip","The average contribution the other members of your team attributed to you",1,"ngb-tooltip-class"],["id","team-view-others",1,"col-sm-8"],[1,"col-sm-4","text-color-gray"],[1,"col-sm-8",2,"text-align","right"],["tmRouterLink","/web/instructor/help","rel","noopener noreferrer","target","_blank",3,"queryParams"],[1,"col-sm-12","table-responsive"],[3,"rows","columns"],["href","/web/front/help/instructor#team-contribution-questions","rel","noopener noreferrer","target","_blank"]],template:function(e,t){1&e&&(a.Oc(0,U,37,4,"div",0),a.Oc(1,L,13,6,"div",0),a.Oc(2,j,87,8,"ng-template",null,1,a.Pc)),2&e&&(a.sc("ngIf",t.isStudent&&t.displayContributionStats&&t.questionStatisticsForStudent),a.Cb(1),a.sc("ngIf",!t.isStudent&&t.displayContributionStats&&t.questionOverallStatistics&&t.responses.length))},directives:[r.u,h.w,w,r.t,P.a,D.a],styles:[""]}),F),H=s("7YQd"),z=((K=function(e){_inherits(s,e);var t=_createSuper(s);function s(){return _classCallCheck(this,s),t.call(this,Object(c.r)())}return s}(H.a)).\u0275fac=function(e){return new(e||K)},K.\u0275cmp=a.Kb({type:K,selectors:[["tm-text-question-statistics"]],features:[a.zb],decls:0,vars:0,template:function(e,t){},styles:[""]}),K),X=s("PTBt");function Y(e,t){if(1&e&&(a.Wb(0,"div"),a.Wb(1,"div",1),a.Wb(2,"div",2),a.Wb(3,"strong"),a.Qc(4," Response Summary "),a.Vb(),a.Vb(),a.Vb(),a.Wb(5,"div",1),a.Wb(6,"div",3),a.Rb(7,"tm-sortable-table",4),a.Vb(),a.Vb(),a.Vb()),2&e){var s=a.kc();a.Cb(7),a.sc("columns",s.columnsData)("rows",s.rowsData)("initialSortBy",s.SortBy.CONSTSUM_OPTIONS_POINTS)}}var J,$=((J=function(e){_inherits(s,e);var t=_createSuper(s);function s(){var e;return _classCallCheck(this,s),(e=t.call(this,Object(c.b)())).SortBy=u.a,e.columnsData=[],e.rowsData=[],e}return _createClass(s,[{key:"ngOnInit",value:function(){this.calculateStatistics(),this.getTableData()}},{key:"ngOnChanges",value:function(){this.calculateStatistics(),this.getTableData()}},{key:"getTableData",value:function(){var e=this;this.columnsData=[{header:"Option",sortBy:u.a.CONSTSUM_OPTIONS_OPTION},{header:"Points Received"},{header:"Total Points",sortBy:u.a.CONSTSUM_OPTIONS_POINTS},{header:"Average Points",sortBy:u.a.CONSTSUM_OPTIONS_POINTS}],this.rowsData=Object.keys(this.pointsPerOption).map((function(t){return[{value:t},{value:e.pointsPerOption[t].join(", ")},{value:e.totalPointsPerOption[t]},{value:e.averagePointsPerOption[t]}]}))}}]),s}(X.a)).\u0275fac=function(e){return new(e||J)},J.\u0275cmp=a.Kb({type:J,selectors:[["tm-constsum-options-question-statistics"]],features:[a.zb,a.Ab],decls:1,vars:1,consts:[[4,"ngIf"],[1,"row"],[1,"col-sm-4","text-color-gray","mt-2"],[1,"col-sm-12","table-responsive"],[3,"columns","rows","initialSortBy"]],template:function(e,t){1&e&&a.Oc(0,Y,8,3,"div",0),2&e&&a.sc("ngIf",t.responses.length&&!t.isStudent)},directives:[r.u,D.a],styles:[""]}),J),Z=s("DL64");function ee(e,t){if(1&e&&(a.Wb(0,"div"),a.Wb(1,"div",1),a.Wb(2,"div",2),a.Wb(3,"strong"),a.Qc(4," Response Summary "),a.Vb(),a.Vb(),a.Vb(),a.Wb(5,"div",1),a.Wb(6,"div",3),a.Rb(7,"tm-sortable-table",4),a.Vb(),a.Vb(),a.Vb()),2&e){var s=a.kc();a.Cb(7),a.sc("columns",s.columnsData)("rows",s.rowsData)("initialSortBy",s.SortBy.CONSTSUM_RECIPIENTS_POINTS)}}var te,se=((te=function(e){_inherits(s,e);var t=_createSuper(s);function s(){var e;return _classCallCheck(this,s),(e=t.call(this,Object(c.a)())).SortBy=u.a,e.columnsData=[],e.rowsData=[],e}return _createClass(s,[{key:"ngOnInit",value:function(){this.calculateStatistics(),this.getTableData()}},{key:"ngOnChanges",value:function(){this.calculateStatistics(),this.getTableData()}},{key:"getTableData",value:function(){var e=this;this.columnsData=[{header:"Team",sortBy:u.a.TEAM_NAME},{header:"Recipient",sortBy:u.a.RECIPIENT_NAME},{header:"Points Received"},{header:"Total Points",sortBy:u.a.CONSTSUM_RECIPIENTS_POINTS},{header:"Average Points",sortBy:u.a.CONSTSUM_RECIPIENTS_POINTS}],this.rowsData=Object.keys(this.pointsPerOption).map((function(t){return[{value:e.emailToTeamName[t]},{value:e.emailToName[t]},{value:e.pointsPerOption[t].join(", ")},{value:e.totalPointsPerOption[t]},{value:e.averagePointsPerOption[t]}]}))}}]),s}(Z.a)).\u0275fac=function(e){return new(e||te)},te.\u0275cmp=a.Kb({type:te,selectors:[["tm-constsum-recipients-question-statistics"]],features:[a.zb,a.Ab],decls:1,vars:1,consts:[[4,"ngIf"],[1,"row"],[1,"col-sm-4","text-color-gray","mt-2"],[1,"col-sm-12","table-responsive"],[3,"columns","rows","initialSortBy"]],template:function(e,t){1&e&&a.Oc(0,ee,8,3,"div",0),2&e&&a.sc("ngIf",t.responses.length&&!t.isStudent)},directives:[r.u,D.a],styles:[""]}),te),ne=s("5HvB");function ie(e,t){1&e&&(a.Wb(0,"strong"),a.Qc(1,"Summary of responses received by you"),a.Vb())}function ae(e,t){1&e&&(a.Wb(0,"strong"),a.Qc(1,"Response Summary"),a.Vb())}function oe(e,t){if(1&e&&(a.Wb(0,"div"),a.Wb(1,"div",1),a.Wb(2,"div",2),a.Oc(3,ie,2,0,"strong",0),a.Oc(4,ae,2,0,"strong",0),a.Vb(),a.Vb(),a.Wb(5,"div",1),a.Wb(6,"div",3),a.Rb(7,"tm-sortable-table",4),a.Vb(),a.Vb(),a.Vb()),2&e){var s=a.kc();a.Cb(3),a.sc("ngIf",s.isStudent),a.Cb(1),a.sc("ngIf",!s.isStudent),a.Cb(3),a.sc("rows",s.rowsData)("columns",s.columnsData)}}var re,ce=((re=function(e){_inherits(s,e);var t=_createSuper(s);function s(){var e;return _classCallCheck(this,s),(e=t.call(this,Object(c.j)())).columnsData=[],e.rowsData=[],e}return _createClass(s,[{key:"ngOnInit",value:function(){this.calculateStatistics(),this.getTableData()}},{key:"ngOnChanges",value:function(){this.calculateStatistics(),this.getTableData()}},{key:"getTableData",value:function(){this.columnsData=[{header:"Team",sortBy:u.a.TEAM_NAME},{header:"Recipient",sortBy:u.a.RECIPIENT_NAME},{header:"Average",sortBy:u.a.NUMERICAL_SCALE_AVERAGE,headerToolTip:"Average of the visible responses"},{header:"Max",sortBy:u.a.NUMERICAL_SCALE_MAX,headerToolTip:"Maximum of the visible responses"},{header:"Min",sortBy:u.a.NUMERICAL_SCALE_MIN,headerToolTip:"Minimum of the visible responses"},{header:"Average excluding self response",sortBy:u.a.NUMERICAL_SCALE_AVERAGE_EXCLUDE_SELF,headerToolTip:"Average of the visible responses excluding recipient's own response to himself/herself"}],this.rowsData=[];for(var e=0,t=Object.keys(this.teamToRecipientToScores);e<t.length;e++)for(var s=t[e],n=0,i=Object.keys(this.teamToRecipientToScores[s]);n<i.length;n++){var a=i[n],o=this.teamToRecipientToScores[s][a];this.rowsData.push([{value:s},{value:a},{value:o.average},{value:o.max},{value:o.min},{value:o.averageExcludingSelf}])}}}]),s}(ne.a)).\u0275fac=function(e){return new(e||re)},re.\u0275cmp=a.Kb({type:re,selectors:[["tm-num-scale-question-statistics"]],features:[a.zb,a.Ab],decls:1,vars:1,consts:[[4,"ngIf"],[1,"row"],[1,"col-sm-4","text-color-gray","mt-2"],["id","numscale-statistics",1,"col-sm-12","table-responsive"],[3,"rows","columns"]],template:function(e,t){1&e&&a.Oc(0,oe,8,4,"div",0),2&e&&a.sc("ngIf",t.responses.length)},directives:[r.u,D.a],styles:[""]}),re),ue=s("4JDO"),le=s("khBm"),be=s("3Pt+");function pe(e,t){1&e&&(a.Wb(0,"span"),a.Qc(1,"(of received responses)"),a.Vb())}function fe(e,t){if(1&e&&(a.Ub(0),a.Wb(1,"div",0),a.Wb(2,"div",10),a.Wb(3,"strong"),a.Qc(4," Per Recipient Statistics "),a.Vb(),a.Rb(5,"span",11),a.Vb(),a.Vb(),a.Wb(6,"div",0),a.Wb(7,"div",12),a.Rb(8,"tm-sortable-table",9),a.Vb(),a.Vb(),a.Tb()),2&e){var s=a.kc();a.Cb(8),a.sc("rows",s.perRecipientRowsData)("columns",s.perRecipientColumnsData)}}var me,he=((me=function(e){_inherits(s,e);var t=_createSuper(s);function s(){var e;return _classCallCheck(this,s),(e=t.call(this,Object(c.p)())).excludeSelf=!1,e.summaryColumnsData=[],e.summaryRowsData=[],e.perRecipientColumnsData=[],e.perRecipientRowsData=[],e}return _createClass(s,[{key:"ngOnInit",value:function(){this.calculateStatistics(),this.getTableData()}},{key:"ngOnChanges",value:function(){this.calculateStatistics(),this.getTableData()}},{key:"getTableData",value:function(){var e=this;this.summaryColumnsData=[{header:"Question",sortBy:u.a.RUBRIC_SUBQUESTION}].concat(_toConsumableArray(this.choices.map((function(e){return{header:e,sortBy:u.a.RUBRIC_CHOICE}})))),this.hasWeights&&this.summaryColumnsData.push({header:"Average",sortBy:u.a.RUBRIC_WEIGHT_AVERAGE}),this.summaryRowsData=this.subQuestions.map((function(t,s){var n=[{value:"".concat(ue.a.integerToLowerCaseAlphabeticalIndex(s+1),") ").concat(t)}].concat(_toConsumableArray(e.choices.map((function(t,n){return e.excludeSelf?{value:e.percentagesExcludeSelf[s][n]+"%"+" (".concat(e.answersExcludeSelf[s][n],")")+(e.hasWeights?" [".concat(e.weights[s][n],"]"):"")}:{value:e.percentages[s][n]+"%"+" (".concat(e.answers[s][n],")")+(e.hasWeights?" [".concat(e.weights[s][n],"]"):"")}}))));return e.hasWeights&&n.push(e.excludeSelf?{value:e.subQuestionWeightAverageExcludeSelf[s]}:{value:e.subQuestionWeightAverage[s]}),n})),this.hasWeights&&(this.perRecipientColumnsData=[{header:"Team",sortBy:u.a.TEAM_NAME},{header:"Recipient Name",sortBy:u.a.RECIPIENT_NAME},{header:"Sub Question",sortBy:u.a.QUESTION_TEXT}].concat(_toConsumableArray(this.choices.map((function(e){return{header:e,sortBy:u.a.RUBRIC_CHOICE}}))),[{header:"Total",sortBy:u.a.RUBRIC_TOTAL_CHOSEN_WEIGHT},{header:"Average",sortBy:u.a.RUBRIC_WEIGHT_AVERAGE}]),this.perRecipientRowsData=[],Object.values(this.perRecipientStatsMap).forEach((function(t){e.subQuestions.forEach((function(s,n){e.perRecipientRowsData.push([{value:t.recipientTeam},{value:t.recipientName},{value:"".concat(ue.a.integerToLowerCaseAlphabeticalIndex(n+1),") ").concat(s)}].concat(_toConsumableArray(e.choices.map((function(s,i){return{value:t.percentages[n][i]+"%"+" (".concat(t.answers[n][i],")")+" [".concat(e.weights[n][i],"]")}}))),[{value:t.subQuestionTotalChosenWeight[n]},{value:t.subQuestionWeightAverage[n]}]))}))})))}}]),s}(le.a)).\u0275fac=function(e){return new(e||me)},me.\u0275cmp=a.Kb({type:me,selectors:[["tm-rubric-question-statistics"]],features:[a.zb,a.Ab],decls:16,vars:6,consts:[[1,"row"],[1,"col-sm-4","text-color-gray","mt-2"],[4,"ngIf"],["container","body",1,"fa","fa-info-circle",3,"ngbTooltip"],[1,"col-sm-8",2,"text-align","right"],[1,"form-check-label"],["id","exclude-self-checkbox","type","checkbox",1,"form-check-input",3,"ngModel","ngModelChange"],["container","body","ngbTooltip","Excludes giver's responses to himself/herself from statistics",1,"ngb-tooltip-class"],["id","rubric-statistics",1,"col-sm-12","table-responsive"],[3,"rows","columns"],[1,"col-sm-4","text-color-gray"],["ngbTooltip","Format: Response percentage (Response count) [Weight of option], e.g. 50% (2) [1.0]",1,"fa","fa-info-circle"],["id","rubric-recipient-statistics",1,"col-sm-12","table-responsive"]],template:function(e,t){1&e&&(a.Wb(0,"div"),a.Wb(1,"div",0),a.Wb(2,"div",1),a.Wb(3,"strong"),a.Qc(4," Response Summary "),a.Oc(5,pe,2,0,"span",2),a.Vb(),a.Rb(6,"span",3),a.Vb(),a.Wb(7,"div",4),a.Wb(8,"label",5),a.Wb(9,"input",6),a.ic("ngModelChange",(function(e){return t.excludeSelf=e}))("ngModelChange",(function(){return t.getTableData()})),a.Vb(),a.Wb(10,"span",7),a.Qc(11,"Exclude self evaluation"),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Wb(12,"div",0),a.Wb(13,"div",8),a.Rb(14,"tm-sortable-table",9),a.Vb(),a.Vb(),a.Oc(15,fe,9,2,"ng-container",2),a.Vb()),2&e&&(a.Cb(5),a.sc("ngIf",t.isStudent),a.Cb(1),a.sc("ngbTooltip","Format: Response percentage (Response count)"+(t.hasWeights?"[Weight of option]":"")+", e.g. 50% (2) "+(t.hasWeights?"[1.0]":"")),a.Cb(3),a.sc("ngModel",t.excludeSelf),a.Cb(5),a.sc("rows",t.summaryRowsData)("columns",t.summaryColumnsData),a.Cb(1),a.sc("ngIf",t.hasWeights))},directives:[r.u,h.w,be.a,be.p,be.s,D.a],styles:[""]}),me),ve=s("BWB/");function de(e,t){if(1&e&&(a.Wb(0,"div"),a.Wb(1,"div",1),a.Wb(2,"div",2),a.Wb(3,"strong"),a.Qc(4," Response Summary "),a.Vb(),a.Vb(),a.Vb(),a.Wb(5,"div",1),a.Wb(6,"div",3),a.Rb(7,"tm-sortable-table",4),a.Vb(),a.Vb(),a.Vb()),2&e){var s=a.kc();a.Cb(7),a.sc("rows",s.rowsData)("columns",s.columnsData)("initialSortBy",s.SortBy.RANK_OPTIONS_OVERALL_RANK)}}var ye,Te=((ye=function(e){_inherits(s,e);var t=_createSuper(s);function s(){var e;return _classCallCheck(this,s),(e=t.call(this,Object(c.l)())).SortBy=u.a,e.columnsData=[],e.rowsData=[],e}return _createClass(s,[{key:"ngOnInit",value:function(){this.calculateStatistics(),this.getTableData()}},{key:"ngOnChanges",value:function(){this.calculateStatistics(),this.getTableData()}},{key:"getTableData",value:function(){var e=this;this.columnsData=[{header:"Option",sortBy:u.a.RANK_OPTIONS_OPTION},{header:"Ranks Received"},{header:"Overall Rank",sortBy:u.a.RANK_OPTIONS_OVERALL_RANK}],this.rowsData=Object.keys(this.ranksReceivedPerOption).map((function(t){return[{value:t},{value:e.ranksReceivedPerOption[t].join(", ")},{value:e.rankPerOption[t]?e.rankPerOption[t]:""}]}))}}]),s}(ve.a)).\u0275fac=function(e){return new(e||ye)},ye.\u0275cmp=a.Kb({type:ye,selectors:[["tm-rank-options-question-statistics"]],features:[a.zb,a.Ab],decls:1,vars:1,consts:[[4,"ngIf"],[1,"row"],[1,"col-sm-4","text-color-gray","mt-2"],[1,"col-sm-12","table-responsive"],[3,"rows","columns","initialSortBy"]],template:function(e,t){1&e&&a.Oc(0,de,8,3,"div",0),2&e&&a.sc("ngIf",t.responses.length&&!t.isStudent)},directives:[r.u,D.a],styles:[""]}),ye),ge=s("TpVY");function Ce(e,t){if(1&e&&(a.Wb(0,"div"),a.Wb(1,"div",1),a.Wb(2,"div",2),a.Wb(3,"strong"),a.Qc(4," Response Summary "),a.Vb(),a.Vb(),a.Vb(),a.Wb(5,"div",1),a.Wb(6,"div",3),a.Rb(7,"tm-sortable-table",4),a.Vb(),a.Vb(),a.Vb()),2&e){var s=a.kc();a.Cb(7),a.sc("rows",s.rowsData)("columns",s.columnsData)("initialSortBy",s.SortBy.RANK_RECIPIENTS_OVERALL_RANK)}}var Oe,Re=((Oe=function(e){_inherits(s,e);var t=_createSuper(s);function s(){var e;return _classCallCheck(this,s),(e=t.call(this,Object(c.n)())).SortBy=u.a,e.columnsData=[],e.rowsData=[],e}return _createClass(s,[{key:"ngOnInit",value:function(){this.calculateStatistics(),this.getTableData()}},{key:"ngOnChanges",value:function(){this.calculateStatistics(),this.getTableData()}},{key:"getTableData",value:function(){var e=this;this.columnsData=[{header:"Team",sortBy:u.a.RANK_RECIPIENTS_TEAM},{header:"Recipient",sortBy:u.a.RANK_RECIPIENTS_RECIPIENT},{header:"Ranks Received"},{header:"Self Rank",sortBy:u.a.RANK_RECIPIENTS_SELF_RANK},{header:"Overall Rank",sortBy:u.a.RANK_RECIPIENTS_OVERALL_RANK},{header:"Overall Rank Excluding Self",sortBy:u.a.RANK_RECIPIENTS_OVERALL_RANK_EXCLUDING_SELF},{header:"Team Rank",sortBy:u.a.RANK_RECIPIENTS_TEAM_RANK},{header:"Team Rank Excluding Self",sortBy:u.a.RANK_RECIPIENTS_TEAM_RANK_EXCLUDING_SELF}],this.rowsData=Object.keys(this.ranksReceivedPerOption).map((function(t){return[{value:e.emailToTeamName[t]},{value:e.emailToName[t]},{value:e.ranksReceivedPerOption[t].join(", ")},{value:e.selfRankPerOption[t]||"-"},{value:e.rankPerOption[t]||"-"},{value:e.rankPerOptionExcludeSelf[t]||"-"},{value:e.rankPerOptionInTeam[t]||"-"},{value:e.rankPerOptionInTeamExcludeSelf[t]||"-"}]}))}}]),s}(ge.a)).\u0275fac=function(e){return new(e||Oe)},Oe.\u0275cmp=a.Kb({type:Oe,selectors:[["tm-rank-recipients-question-statistics"]],features:[a.zb,a.Ab],decls:1,vars:1,consts:[[4,"ngIf"],[1,"row"],[1,"col-sm-4","text-color-gray","mt-2"],[1,"col-sm-12","table-responsive"],[3,"rows","columns","initialSortBy"]],template:function(e,t){1&e&&a.Oc(0,Ce,8,3,"div",0),2&e&&a.sc("ngIf",t.responses.length&&!t.isStudent)},directives:[r.u,D.a],styles:[""]}),Oe),Se=s("sBl4");function Ie(e,t){if(1&e&&(a.Wb(0,"div",6),a.Wb(1,"strong",7),a.Qc(2," Per Recipient Statistics "),a.Vb(),a.Rb(3,"tm-sortable-table",4),a.Vb()),2&e){var s=a.kc(2);a.Cb(3),a.sc("rows",s.perRecipientRowsData)("columns",s.perRecipientColumnsData)("initialSortBy",s.SortBy.MSQ_WEIGHT_AVERAGE)}}function _e(e,t){if(1&e&&(a.Wb(0,"div"),a.Wb(1,"div",1),a.Wb(2,"div",2),a.Wb(3,"strong"),a.Qc(4," Response Summary "),a.Vb(),a.Vb(),a.Vb(),a.Wb(5,"div",1),a.Wb(6,"div",3),a.Rb(7,"tm-sortable-table",4),a.Vb(),a.Oc(8,Ie,4,3,"div",5),a.Vb(),a.Vb()),2&e){var s=a.kc();a.Cb(7),a.sc("rows",s.summaryRowsData)("columns",s.summaryColumnsData)("initialSortBy",s.SortBy.MSQ_PERCENTAGE),a.Cb(1),a.sc("ngIf",s.question.hasAssignedWeights)}}var we,Ee=((we=function(e){_inherits(s,e);var t=_createSuper(s);function s(){var e;return _classCallCheck(this,s),(e=t.call(this,Object(c.h)())).SortBy=u.a,e.summaryColumnsData=[],e.summaryRowsData=[],e.perRecipientColumnsData=[],e.perRecipientRowsData=[],e}return _createClass(s,[{key:"ngOnInit",value:function(){this.calculateStatistics(),this.getTableData()}},{key:"ngOnChanges",value:function(){this.calculateStatistics(),this.getTableData()}},{key:"getTableData",value:function(){var e=this;this.summaryColumnsData=[{header:"Choice",sortBy:u.a.MSQ_CHOICE},{header:"Weight",sortBy:u.a.MSQ_WEIGHT},{header:"Response Count",sortBy:u.a.MSQ_RESPONSE_COUNT},{header:"Percentage (%)",sortBy:u.a.MSQ_PERCENTAGE},{header:"Weighted Percentage (%)",sortBy:u.a.MSQ_WEIGHTED_PERCENTAGE}],this.summaryRowsData=Object.keys(this.answerFrequency).map((function(t){return[{value:t},{value:0===e.weightPerOption[t]?0:e.weightPerOption[t]||"-"},{value:e.answerFrequency[t]},{value:e.percentagePerOption[t]},{value:0===e.weightedPercentagePerOption[t]?0:e.weightedPercentagePerOption[t]||"-"}]})),this.perRecipientColumnsData=[{header:"Team",sortBy:u.a.MSQ_TEAM},{header:"Recipient Name",sortBy:u.a.MSQ_RECIPIENT_NAME}].concat(_toConsumableArray(Object.keys(this.weightPerOption).map((function(t){return{header:"".concat(t," [").concat(e.weightPerOption[t],"]"),sortBy:u.a.MSQ_OPTION_SELECTED_TIMES}}))),[{header:"Total",sortBy:u.a.MSQ_WEIGHT_TOTAL},{header:"Average",sortBy:u.a.MSQ_WEIGHT_AVERAGE}]),this.perRecipientRowsData=Object.keys(this.perRecipientResponses).map((function(t){return[{value:e.perRecipientResponses[t].recipientTeam},{value:e.perRecipientResponses[t].recipient}].concat(_toConsumableArray(Object.keys(e.weightPerOption).map((function(s){return{value:e.perRecipientResponses[t].responses[s]}}))),[{value:e.perRecipientResponses[t].total},{value:e.perRecipientResponses[t].average}])}))}}]),s}(Se.a)).\u0275fac=function(e){return new(e||we)},we.\u0275cmp=a.Kb({type:we,selectors:[["tm-msq-question-statistics"]],features:[a.zb,a.Ab],decls:1,vars:1,consts:[[4,"ngIf"],[1,"row"],[1,"col-sm-4","text-color-gray","mt-2"],[1,"col-sm-12","table-responsive"],[3,"rows","columns","initialSortBy"],["class","col-sm-12 table-responsive","style","margin-top: 20px;",4,"ngIf"],[1,"col-sm-12","table-responsive",2,"margin-top","20px"],[1,"text-color-gray"]],template:function(e,t){1&e&&a.Oc(0,_e,9,4,"div",0),2&e&&a.sc("ngIf",t.responses.length&&!t.isStudent&&t.hasAnswers)},directives:[r.u,D.a],styles:[""]}),we),We=s("jA8U");function Ne(e,t){if(1&e&&(a.Wb(0,"div",7),a.Wb(1,"strong",8),a.Qc(2," Per Recipient Statistics "),a.Vb(),a.Rb(3,"tm-sortable-table",9),a.Vb()),2&e){var s=a.kc(2);a.Cb(3),a.sc("columns",s.perRecipientColumnsData)("rows",s.perRecipientRowsData)("initialSortBy",s.SortBy.MCQ_WEIGHT_AVERAGE)}}function Ve(e,t){if(1&e&&(a.Wb(0,"div",1),a.Wb(1,"div",2),a.Wb(2,"div",3),a.Wb(3,"strong"),a.Qc(4," Response Summary "),a.Vb(),a.Vb(),a.Vb(),a.Wb(5,"div",2),a.Wb(6,"div",4),a.Rb(7,"tm-sortable-table",5),a.Vb(),a.Oc(8,Ne,4,3,"div",6),a.Vb(),a.Vb()),2&e){var s=a.kc();a.Cb(7),a.sc("columns",s.summaryColumnsData)("rows",s.summaryRowsData),a.Cb(1),a.sc("ngIf",s.question.hasAssignedWeights)}}var ke,Ae=((ke=function(e){_inherits(s,e);var t=_createSuper(s);function s(){var e;return _classCallCheck(this,s),(e=t.call(this,Object(c.f)())).SortBy=u.a,e.summaryColumnsData=[],e.summaryRowsData=[],e.perRecipientColumnsData=[],e.perRecipientRowsData=[],e}return _createClass(s,[{key:"ngOnInit",value:function(){this.calculateStatistics(),this.getTableData()}},{key:"ngOnChanges",value:function(){this.calculateStatistics(),this.getTableData()}},{key:"getTableData",value:function(){var e=this;this.summaryColumnsData=[{header:"Choice",sortBy:u.a.MCQ_CHOICE},{header:"Weight",sortBy:u.a.MCQ_WEIGHT},{header:"Response Count",sortBy:u.a.MCQ_RESPONSE_COUNT},{header:"Percentage (%)",sortBy:u.a.MCQ_PERCENTAGE},{header:"Weighted Percentage (%)",sortBy:u.a.MCQ_WEIGHTED_PERCENTAGE}],this.summaryRowsData=Object.keys(this.answerFrequency).map((function(t){return[{value:t},{value:0===e.weightPerOption[t]?0:e.weightPerOption[t]||"-"},{value:e.answerFrequency[t]},{value:e.percentagePerOption[t]},{value:0===e.weightedPercentagePerOption[t]?0:e.weightedPercentagePerOption[t]||"-"}]})),this.perRecipientColumnsData=[{header:"Team",sortBy:u.a.MCQ_TEAM},{header:"Recipient Name",sortBy:u.a.MCQ_RECIPIENT_NAME}].concat(_toConsumableArray(Object.keys(this.weightPerOption).map((function(t){return{header:"".concat(t,"[").concat(e.weightPerOption[t].toFixed(2),"]"),sortBy:u.a.MCQ_OPTION_SELECTED_TIMES}}))),[{header:"Total",sortBy:u.a.MCQ_WEIGHT_TOTAL},{header:"Average",sortBy:u.a.MCQ_WEIGHT_AVERAGE}]),this.perRecipientRowsData=Object.keys(this.perRecipientResponses).map((function(t){return[{value:e.perRecipientResponses[t].recipientTeam},{value:e.perRecipientResponses[t].recipient}].concat(_toConsumableArray(Object.keys(e.weightPerOption).map((function(s){return{value:e.perRecipientResponses[t].responses[s]}}))),[{value:e.perRecipientResponses[t].total.toFixed(2)},{value:e.perRecipientResponses[t].average.toFixed(2)}])}))}}]),s}(We.a)).\u0275fac=function(e){return new(e||ke)},ke.\u0275cmp=a.Kb({type:ke,selectors:[["tm-mcq-question-statistics"]],features:[a.zb,a.Ab],decls:1,vars:1,consts:[["id","mcq-statistics",4,"ngIf"],["id","mcq-statistics"],[1,"row"],[1,"col-sm-4","text-color-gray","mt-2"],[1,"col-sm-12","table-responsive"],[3,"columns","rows"],["class","col-sm-12 table-responsive","style","margin-top: 20px;",4,"ngIf"],[1,"col-sm-12","table-responsive",2,"margin-top","20px"],[1,"text-color-gray"],[3,"columns","rows","initialSortBy"]],template:function(e,t){1&e&&a.Oc(0,Ve,9,3,"div",0),2&e&&a.sc("ngIf",t.responses.length&&!t.isStudent)},directives:[r.u,D.a],styles:[""]}),ke);function Pe(e,t){if(1&e&&a.Rb(0,"tm-contribution-question-statistics",2),2&e){var s=a.kc();a.sc("responses",s.responsesToUse)("question",s.question)("recipientType",s.recipientType)("isStudent",s.isStudent)("displayContributionStats",s.displayContributionStats)("statistics",s.statistics)}}function De(e,t){if(1&e&&a.Rb(0,"tm-text-question-statistics",3),2&e){var s=a.kc();a.sc("responses",s.responsesToUse)("question",s.question)("recipientType",s.recipientType)("isStudent",s.isStudent)}}function Qe(e,t){if(1&e&&a.Rb(0,"tm-constsum-options-question-statistics",3),2&e){var s=a.kc();a.sc("responses",s.responsesToUse)("question",s.question)("recipientType",s.recipientType)("isStudent",s.isStudent)}}function qe(e,t){if(1&e&&a.Rb(0,"tm-constsum-recipients-question-statistics",3),2&e){var s=a.kc();a.sc("responses",s.responsesToUse)("question",s.question)("recipientType",s.recipientType)("isStudent",s.isStudent)}}function Be(e,t){if(1&e&&a.Rb(0,"tm-num-scale-question-statistics",3),2&e){var s=a.kc();a.sc("responses",s.responsesToUse)("question",s.question)("recipientType",s.recipientType)("isStudent",s.isStudent)}}function Me(e,t){if(1&e&&a.Rb(0,"tm-rubric-question-statistics",3),2&e){var s=a.kc();a.sc("responses",s.responsesToUse)("question",s.question)("recipientType",s.recipientType)("isStudent",s.isStudent)}}function Ue(e,t){if(1&e&&a.Rb(0,"tm-rank-options-question-statistics",3),2&e){var s=a.kc();a.sc("responses",s.responsesToUse)("question",s.question)("recipientType",s.recipientType)("isStudent",s.isStudent)}}function xe(e,t){if(1&e&&a.Rb(0,"tm-rank-recipients-question-statistics",3),2&e){var s=a.kc();a.sc("responses",s.responsesToUse)("question",s.question)("recipientType",s.recipientType)("isStudent",s.isStudent)}}function Le(e,t){if(1&e&&a.Rb(0,"tm-msq-question-statistics",3),2&e){var s=a.kc();a.sc("responses",s.responsesToUse)("question",s.question)("recipientType",s.recipientType)("isStudent",s.isStudent)}}function je(e,t){if(1&e&&a.Rb(0,"tm-mcq-question-statistics",3),2&e){var s=a.kc();a.sc("responses",s.responsesToUse)("question",s.question)("recipientType",s.recipientType)("isStudent",s.isStudent)}}var Fe,Ke=((Fe=function(){function e(t){_classCallCheck(this,e),this.feedbackResponsesService=t,this.responses=[],this.question={questionType:n.d.TEXT,questionText:""},this.recipientType=n.c.NONE,this.isStudent=!1,this.statistics="",this.displayContributionStats=!0,this.section="",this.sectionType=i.a.EITHER,this.FeedbackQuestionType=n.d,this.responsesToUse=[]}return _createClass(e,[{key:"ngOnInit",value:function(){this.filterResponses()}},{key:"ngOnChanges",value:function(){this.filterResponses()}},{key:"filterResponses",value:function(){var e=this;this.responsesToUse=this.responses.filter((function(t){return(!t.isMissingResponse||e.question.questionType===n.d.CONTRIB)&&(!e.isUsingResponsesToSelf()||"You"===t.recipient)&&e.feedbackResponsesService.isFeedbackResponsesDisplayedOnSection(t,e.section,e.sectionType)}))}},{key:"isUsingResponsesToSelf",value:function(){return this.isStudent&&this.question.questionType===n.d.NUMSCALE}}]),e}()).\u0275fac=function(e){return new(e||Fe)(a.Qb(o.a))},Fe.\u0275cmp=a.Kb({type:Fe,selectors:[["tm-single-statistics"]],inputs:{responses:"responses",question:"question",recipientType:"recipientType",isStudent:"isStudent",statistics:"statistics",displayContributionStats:"displayContributionStats",section:"section",sectionType:"sectionType"},features:[a.Ab],decls:10,vars:10,consts:[[3,"responses","question","recipientType","isStudent","displayContributionStats","statistics",4,"ngIf"],[3,"responses","question","recipientType","isStudent",4,"ngIf"],[3,"responses","question","recipientType","isStudent","displayContributionStats","statistics"],[3,"responses","question","recipientType","isStudent"]],template:function(e,t){1&e&&(a.Oc(0,Pe,1,6,"tm-contribution-question-statistics",0),a.Oc(1,De,1,4,"tm-text-question-statistics",1),a.Oc(2,Qe,1,4,"tm-constsum-options-question-statistics",1),a.Oc(3,qe,1,4,"tm-constsum-recipients-question-statistics",1),a.Oc(4,Be,1,4,"tm-num-scale-question-statistics",1),a.Oc(5,Me,1,4,"tm-rubric-question-statistics",1),a.Oc(6,Ue,1,4,"tm-rank-options-question-statistics",1),a.Oc(7,xe,1,4,"tm-rank-recipients-question-statistics",1),a.Oc(8,Le,1,4,"tm-msq-question-statistics",1),a.Oc(9,je,1,4,"tm-mcq-question-statistics",1)),2&e&&(a.sc("ngIf",t.question.questionType===t.FeedbackQuestionType.CONTRIB),a.Cb(1),a.sc("ngIf",t.question.questionType===t.FeedbackQuestionType.TEXT),a.Cb(1),a.sc("ngIf",t.question.questionType===t.FeedbackQuestionType.CONSTSUM_OPTIONS),a.Cb(1),a.sc("ngIf",t.question.questionType===t.FeedbackQuestionType.CONSTSUM_RECIPIENTS),a.Cb(1),a.sc("ngIf",t.question.questionType===t.FeedbackQuestionType.NUMSCALE),a.Cb(1),a.sc("ngIf",t.question.questionType===t.FeedbackQuestionType.RUBRIC),a.Cb(1),a.sc("ngIf",t.question.questionType===t.FeedbackQuestionType.RANK_OPTIONS),a.Cb(1),a.sc("ngIf",t.question.questionType===t.FeedbackQuestionType.RANK_RECIPIENTS),a.Cb(1),a.sc("ngIf",t.question.questionType===t.FeedbackQuestionType.MSQ),a.Cb(1),a.sc("ngIf",t.question.questionType===t.FeedbackQuestionType.MCQ))},directives:[r.u,G,z,$,se,ce,he,Te,Re,Ee,Ae],styles:[""]}),Fe)}}]);