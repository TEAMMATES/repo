<div class="section pb-3"*ngIf="courses">
  <div class="card">
    <div class="card-body fill-plain">
      <div class="form form-horizontal">
        <div class="form-group row">
          <div class="col-sm-3 float-left">
            <div class="checkbox-outer-div">
              <input type="checkbox">
              <label class="ml-1"> Select All Courses </label>
            </div>
            <div class="checkbox-outer-div" *ngFor="let course of courses">
              <input type="checkbox"
                     (change)="toggleCourseStateAtInput(course)"
                     [checked]="course.isChecked">
              <label class="ml-1">
                [{{course.id}}]{{course.name}}
              </label>
            </div>
          </div>

          <div class="col-sm-3 float-left">
            <ng-container *ngIf="courseDetailsList.length">
              <div class="checkbox-outer-div">
                <input type="checkbox">
                <label class="ml-1"> Select All Sections </label>
              </div>
              <ng-container *ngFor="let courseDetails of courseDetailsList">
                <div class="checkbox-outer-div" *ngFor="let section of courseDetails.sections" [hidden]="!courseDetails.isChecked">
                  <input type="checkbox" [checked]="section.isChecked" (change)="toggleSectionState(section)">
                  <label class="ml-1">
                    [{{courseDetails.id}}]{{section.name}}
                  </label>
                </div>
              </ng-container>
            </ng-container>
          </div>

          <div class="col-sm-3 float-left">
            <ng-container *ngIf="courseDetailsList.length">
              <div class="checkbox-outer-div">
                <input type="checkbox">
                <label class="ml-1"> Select All Teams </label>
              </div>
              <ng-container *ngFor="let courseDetails of courseDetailsList">
                <ng-container *ngFor="let section of courseDetails.sections">
                  <div class="checkbox-outer-div" *ngFor="let team of section.teams" [hidden]="!section.isChecked" >
                    <input type="checkbox" [checked]="team.isChecked" (change)="toggleTeamState(team)">
                    <label class="ml-1">
                      [{{courseDetails.id}}][{{section.name}}]{{team.name}}
                    </label>
                  </div>
                </ng-container>
              </ng-container>
            </ng-container>
          </div>

          <div class="col-sm-3 float-left">
            <ng-container *ngIf="courseDetailsList.length">
              <div class="checkbox-outer-div">
                <input type="checkbox">
                <label class="ml-1"> Select All Students </label>
              </div>
              <ng-container *ngFor="let courseDetails of courseDetailsList">
                <ng-container *ngFor="let section of courseDetails.sections">
                  <ng-container *ngFor="let team of section.teams">
                    <div class="checkbox-outer-div" *ngFor="let student of team.students" [hidden]="!team.isChecked">
                      <input type="checkbox" [(ngModel)]="student.isChecked">
                      <label class="ml-1">
                        [{{team.name}}]{{student.email}}
                      </label>
                    </div>
                  </ng-container>
                </ng-container>
              </ng-container>
            </ng-container>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-container *ngIf="courses && courses.length" >
  <div class="p-0">
    <div *ngFor="let course of courses" class="card border mb-3 p-0">
      <div class="card-header text-dark-blue bg-light-blue font-weight-bold" (click)="toggleCourseStateAtInput(course)">
        <strong>[{{course.id}}]:</strong> {{course.name}}
        <div class="arrow-sign">
          <i class="fas fa-chevron-down"></i>
          <i class="fas fa-chevron-up"></i>
        </div>
      </div>
      <div class="card-body p-0">
        <tm-student-list
            [courseId]="course.id"
            [useGrayHeading]="true"
            [sections]="getStudentListSectionDataForCourse(course.id)"
            [listOfStudentsToHide]="getStudentsToHide()"
            [isHideTableHead]="!course.isChecked"
        >
        </tm-student-list>
      </div>
    </div>
  </div>
</ng-container>
