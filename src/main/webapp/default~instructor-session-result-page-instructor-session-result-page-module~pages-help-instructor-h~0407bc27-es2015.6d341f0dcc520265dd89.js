(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"DW2+":function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));var i=function(e){return e.ESSAY="essay-questions",e.SINGLE_ANSWER_MCQ="single-answer-mcq",e.MULTIPLE_ANSWER_MCQ="multiple-answer-mcq",e.NUMERICAL_SCALE="numerical-scale",e.POINTS_OPTIONS="points-options",e.POINTS_RECIPIENTS="points-recipients",e.CONTRIBUTION="contribution",e.RUBRIC="rubric",e.RANK_OPTIONS="rank-options",e.RANK_RECIPIENTS="rank-recipients",e}({})},RkgC:function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));var i=function(e){return e.students="students",e.courses="courses",e.sessions="sessions",e.questions="questions",e.body="body",e}({})},r4OI:function(e,t,s){"use strict";s.d(t,"a",(function(){return p}));var i=s("ofXK"),n=s("3Pt+"),o=s("tyNb"),a=s("1kSV"),c=s("9Jqy"),r=s("TOej"),u=s("Puad"),b=s("fXoL");let l=(()=>{class e{}return e.\u0275mod=b.Ob({type:e}),e.\u0275inj=b.Nb({factory:function(t){return new(t||e)},imports:[[i.c,n.j,a.y,c.a,o.h,u.a,r.a]]}),e})(),p=(()=>{class e{}return e.\u0275mod=b.Ob({type:e}),e.\u0275inj=b.Nb({factory:function(t){return new(t||e)},imports:[[i.c,l]]}),e})()},uWR1:function(e,t,s){"use strict";s.d(t,"a",(function(){return Pe}));var i=s("R8lv"),n=s("C58a"),o=s("fXoL"),a=s("eoFM"),c=s("ofXK"),r=s("q1I8"),u=s("p6cw"),b=s("DW2+"),l=s("RkgC"),p=s("/Tzu"),h=s("768o"),m=s("RmXC"),d=s("1kSV");function v(e,t){if(1&e&&(o.Wb(0,"span",5),o.Qc(1),o.Vb()),2&e){const e=o.kc(2);o.Cb(1),o.Sc("+",e.value,"%")}}function T(e,t){1&e&&(o.Wb(0,"span",6),o.Qc(1,"0"),o.Vb())}function f(e,t){if(1&e&&(o.Wb(0,"span",7),o.Qc(1),o.Vb()),2&e){const e=o.kc(2);o.Cb(1),o.Sc("",e.value,"%")}}function g(e,t){1&e&&(o.Wb(0,"span",8),o.Qc(1,"N/A"),o.Vb())}function y(e,t){if(1&e&&(o.Wb(0,"span"),o.Oc(1,v,2,1,"span",1),o.Oc(2,T,2,0,"span",2),o.Oc(3,f,2,1,"span",3),o.Oc(4,g,2,0,"span",4),o.Vb()),2&e){const e=o.kc();o.Cb(1),o.sc("ngIf",e.value>0),o.Cb(1),o.sc("ngIf",0===e.value),o.Cb(1),o.sc("ngIf",e.value<0&&e.value>=-100),o.Cb(1),o.sc("ngIf",e.value===e.CONTRIBUTION_POINT_NOT_SUBMITTED||e.value===e.CONTRIBUTION_POINT_NOT_INITIALIZED)}}function O(e,t){if(1&e&&(o.Wb(0,"span",5),o.Qc(1),o.Vb()),2&e){const e=o.kc(2);o.Cb(1),o.Sc("E +",e.value-100,"%")}}function R(e,t){1&e&&(o.Wb(0,"span",6),o.Qc(1,"E"),o.Vb())}function S(e,t){if(1&e&&(o.Wb(0,"span",7),o.Qc(1),o.Vb()),2&e){const e=o.kc(2);o.Cb(1),o.Sc("E -",100-e.value,"%")}}function I(e,t){1&e&&(o.Wb(0,"span",8),o.Qc(1,"N/A"),o.Vb())}function C(e,t){if(1&e&&(o.Wb(0,"span"),o.Oc(1,O,2,1,"span",1),o.Oc(2,R,2,0,"span",2),o.Oc(3,S,2,1,"span",3),o.Oc(4,I,2,0,"span",4),o.Vb()),2&e){const e=o.kc();o.Cb(1),o.sc("ngIf",e.value>100),o.Cb(1),o.sc("ngIf",100===e.value),o.Cb(1),o.sc("ngIf",e.value<100&&e.value>=0),o.Cb(1),o.sc("ngIf",e.value===e.CONTRIBUTION_POINT_NOT_SUBMITTED||e.value===e.CONTRIBUTION_POINT_NOT_INITIALIZED)}}let E=(()=>{class e{constructor(){this.CONTRIBUTION_POINT_NOT_INITIALIZED=m.b,this.CONTRIBUTION_POINT_NOT_SUBMITTED=m.c,this.value=100,this.diffOnly=!1}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Kb({type:e,selectors:[["tm-contribution"]],inputs:{value:"value",diffOnly:"diffOnly"},decls:2,vars:2,consts:[[4,"ngIf"],["class","positive",4,"ngIf"],["class","neutral",4,"ngIf"],["class","negative",4,"ngIf"],["class","ngb-tooltip-class neutral","container","body","ngbTooltip","Not Available: There is no data for this or the data is not enough",4,"ngIf"],[1,"positive"],[1,"neutral"],[1,"negative"],["container","body","ngbTooltip","Not Available: There is no data for this or the data is not enough",1,"ngb-tooltip-class","neutral"]],template:function(e,t){1&e&&(o.Oc(0,y,5,4,"span",0),o.Oc(1,C,5,4,"span",0)),2&e&&(o.sc("ngIf",t.diffOnly),o.Cb(1),o.sc("ngIf",!t.diffOnly))},directives:[c.u,d.w],styles:[".positive[_ngcontent-%COMP%]{color:#108627}.negative[_ngcontent-%COMP%]{color:#e74c3c}.neutral[_ngcontent-%COMP%]{color:grey}"]}),e})();function W(e,t){1&e&&(o.Wb(0,"span"),o.Qc(1,",\xa0"),o.Vb())}function w(e,t){if(1&e&&(o.Wb(0,"span"),o.Oc(1,W,2,0,"span",1),o.Rb(2,"tm-contribution",2),o.Vb()),2&e){const e=t.$implicit,s=t.index;o.Cb(1),o.sc("ngIf",0!==s),o.Cb(1),o.sc("value",e)}}function N(e,t){if(1&e&&(o.Wb(0,"span"),o.Rb(1,"tm-contribution",2),o.Vb()),2&e){const e=o.kc();o.Cb(1),o.sc("value",e.CONTRIBUTION_POINT_NOT_SUBMITTED)}}let V=(()=>{class e{constructor(){this.CONTRIBUTION_POINT_NOT_SUBMITTED=m.c,this.ratingsList=[]}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Kb({type:e,selectors:[["tm-contribution-ratings-list"]],inputs:{ratingsList:"ratingsList"},decls:2,vars:2,consts:[[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"]],template:function(e,t){1&e&&(o.Oc(0,w,3,2,"span",0),o.Oc(1,N,2,1,"span",1)),2&e&&(o.sc("ngForOf",t.ratingsList),o.Cb(1),o.sc("ngIf",!t.ratingsList.length))},directives:[c.t,c.u,E],styles:[""]}),e})();var _=s("eQqG"),P=s("W872"),D=s("h8PG");function Q(e,t){1&e&&(o.Wb(0,"span"),o.Qc(1,",\xa0"),o.Vb())}function A(e,t){if(1&e&&(o.Wb(0,"span"),o.Oc(1,Q,2,0,"span",0),o.Rb(2,"tm-contribution",9),o.Vb()),2&e){const e=t.$implicit,s=t.index;o.Cb(1),o.sc("ngIf",0!==s),o.Cb(1),o.sc("value",e)}}function q(e,t){1&e&&(o.Wb(0,"span"),o.Qc(1,",\xa0"),o.Vb())}function B(e,t){if(1&e&&(o.Wb(0,"span"),o.Oc(1,q,2,0,"span",0),o.Rb(2,"tm-contribution",9),o.Vb()),2&e){const e=t.$implicit,s=t.index;o.Cb(1),o.sc("ngIf",0!==s),o.Cb(1),o.sc("value",e)}}function k(e,t){if(1&e){const e=o.Xb();o.Wb(0,"div"),o.Wb(1,"div",2),o.Wb(2,"div",3),o.Qc(3," Comparison of Work Distribution "),o.Vb(),o.Wb(4,"div",4),o.Wb(5,"div",5),o.Wb(6,"div",6),o.Wb(7,"span",7),o.Wb(8,"strong"),o.Qc(9,"My view:"),o.Vb(),o.Vb(),o.Vb(),o.Wb(10,"div",8),o.Wb(11,"strong"),o.Qc(12,"of me:"),o.Vb(),o.Qc(13,"\xa0"),o.Rb(14,"tm-contribution",9),o.Vb(),o.Wb(15,"div",10),o.Wb(16,"strong"),o.Qc(17,"of others:"),o.Vb(),o.Qc(18,"\xa0 "),o.Oc(19,A,3,2,"span",11),o.Qc(20," \xa0"),o.Wb(21,"a",12),o.ic("click",(function(){o.Fc(e);const t=o.kc(),s=o.Cc(3);return t.openHelpModal(s)})),o.Rb(22,"i",13),o.Vb(),o.Vb(),o.Vb(),o.Wb(23,"div",14),o.Wb(24,"div",6),o.Wb(25,"strong"),o.Qc(26,"Team view:"),o.Vb(),o.Vb(),o.Wb(27,"div",15),o.Wb(28,"span",16),o.Wb(29,"strong"),o.Qc(30,"of me:\xa0"),o.Vb(),o.Vb(),o.Rb(31,"tm-contribution",9),o.Vb(),o.Wb(32,"div",17),o.Wb(33,"strong"),o.Qc(34,"of others:"),o.Vb(),o.Qc(35,"\xa0 "),o.Oc(36,B,3,2,"span",11),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb()}if(2&e){const e=o.kc();o.Cb(14),o.sc("value",e.questionStatisticsForStudent.claimed),o.Cb(5),o.sc("ngForOf",e.questionStatisticsForStudent.claimedOthersValues),o.Cb(12),o.sc("value",e.questionStatisticsForStudent.perceived),o.Cb(5),o.sc("ngForOf",e.questionStatisticsForStudent.perceivedOthers)}}const M=function(e,t){return{questionId:e,section:t}};function U(e,t){if(1&e&&(o.Wb(0,"div"),o.Wb(1,"div",14),o.Wb(2,"div",18),o.Wb(3,"strong"),o.Qc(4," Response Summary "),o.Vb(),o.Vb(),o.Wb(5,"div",19),o.Qc(6," ["),o.Wb(7,"a",20),o.Qc(8,"How do I interpret/use these values?"),o.Vb(),o.Qc(9,"] "),o.Vb(),o.Vb(),o.Wb(10,"div",14),o.Wb(11,"div",21),o.Rb(12,"tm-sortable-table",22),o.Vb(),o.Vb(),o.Vb()),2&e){const e=o.kc();o.Cb(7),o.sc("queryParams",o.xc(3,M,e.QuestionsSectionQuestions.CONTRIBUTION,e.Sections.questions)),o.Cb(5),o.sc("rows",e.rowsData)("columns",e.columnsData)}}function x(e,t){1&e&&(o.Wb(0,"h4"),o.Qc(1,"How do I interpret these results?"),o.Vb(),o.Wb(2,"ul"),o.Wb(3,"li"),o.Qc(4," Compare the values given in 'My view' with those under 'Team's view'. This tells you whether your perception matches what the team thinks, particularly regarding your own contribution. You may ignore minor differences. "),o.Vb(),o.Wb(5,"li"),o.Qc(6," From the estimates you submit, we try to deduce the answer to this question: In your opinion, if your teammates are doing the project by themselves without you, how do they compare against each other in terms of contribution? We want to deduce your unbiased opinion about your team members' contributions. "),o.Vb(),o.Wb(7,"li"),o.Qc(8," Please note that the \u2018Team view\u2019 shown to you has been adjusted to match the total of your own view (i.e., the \u2018My view\u2019). In the example below, \u2018My view\u2019 adds up to 4E+10% and therefore, the \u2018Team view\u2019 has been scaled up to add up to 4E+10% as well (give or take minor differences due to rounding off errors). "),o.Wb(9,"div",2),o.Wb(10,"div",3),o.Qc(11," Comparison of Work Distribution "),o.Vb(),o.Wb(12,"div",4),o.Wb(13,"div",5),o.Wb(14,"div",6),o.Wb(15,"span",7),o.Wb(16,"strong"),o.Qc(17,"My view:"),o.Vb(),o.Vb(),o.Vb(),o.Wb(18,"div",8),o.Wb(19,"strong"),o.Qc(20,"of me:"),o.Vb(),o.Qc(21,"\xa0 "),o.Rb(22,"tm-contribution",9),o.Vb(),o.Wb(23,"div",10),o.Wb(24,"strong"),o.Qc(25,"of others:"),o.Vb(),o.Qc(26,"\xa0 "),o.Wb(27,"span"),o.Rb(28,"tm-contribution",9),o.Vb(),o.Qc(29,"\xa0 "),o.Wb(30,"span"),o.Rb(31,"tm-contribution",9),o.Vb(),o.Qc(32,"\xa0 "),o.Wb(33,"span"),o.Rb(34,"tm-contribution",9),o.Vb(),o.Vb(),o.Vb(),o.Wb(35,"div",14),o.Wb(36,"div",6),o.Wb(37,"strong"),o.Qc(38,"Team view:"),o.Vb(),o.Vb(),o.Wb(39,"div",15),o.Wb(40,"span",16),o.Wb(41,"strong"),o.Qc(42,"of me:"),o.Vb(),o.Qc(43,"\xa0 "),o.Vb(),o.Rb(44,"tm-contribution",9),o.Vb(),o.Wb(45,"div",17),o.Wb(46,"strong"),o.Qc(47,"of others:"),o.Vb(),o.Qc(48,"\xa0 "),o.Wb(49,"span"),o.Rb(50,"tm-contribution",9),o.Vb(),o.Qc(51,"\xa0 "),o.Wb(52,"span"),o.Rb(53,"tm-contribution",9),o.Vb(),o.Qc(54,"\xa0 "),o.Wb(55,"span"),o.Rb(56,"tm-contribution",9),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Qc(57," The reason for such an adjustment is to allow you to make a direct comparison between your own view of work distribution against that of the team. In the example above, the \u2018Team view\u2019 is quite close to the \u2018My view\u2019 which means the respondent has an accurate view of how much each contributed (in other words, the team agrees with the respondent\u2019s view). "),o.Rb(58,"br"),o.Qc(59," Note that the above also means the \u2018Team view\u2019 seen by each team member could be different. "),o.Vb(),o.Vb(),o.Wb(60,"h4"),o.Qc(61,"How are contribution question results used in grading?"),o.Vb(),o.Wb(62,"ul"),o.Wb(63,"li"),o.Qc(64," TEAMMATES does not calculate grades. Instructors are free to choose how they use contribution question results. "),o.Vb(),o.Wb(65,"li"),o.Qc(66," TEAMMATES recommends that contribution question results be used only as flags to identify teams with contribution imbalances. Once identified, the instructor is recommended to investigate further before taking action. "),o.Vb(),o.Vb(),o.Wb(67,"h4"),o.Qc(68,"How are the scores for contribution questions calculated?"),o.Vb(),o.Wb(69,"p"),o.Qc(70," Here are the important things to note about "),o.Wb(71,"a",23),o.Qc(72,"how contribution scores are calculated"),o.Vb(),o.Qc(73,": "),o.Vb(),o.Wb(74,"ul"),o.Wb(75,"li"),o.Qc(76," The contribution value you attribute to yourself is not used to calculate the team's view of your contribution. That means you cannot boost your perceived contribution by claiming a high contribution for yourself or attributing a low contribution to team members. "),o.Vb(),o.Wb(77,"li"),o.Qc(78," We adjust the estimates you submitted to remove artificial inflation/deflation. For example, giving everyone "),o.Wb(79,"code"),o.Qc(80,"[Equal share + 20%]"),o.Vb(),o.Qc(81," is as same as giving everyone "),o.Wb(82,"code"),o.Qc(83,"[Equal share]"),o.Vb(),o.Qc(84," because in both cases all members have done a similar share of work. "),o.Vb(),o.Wb(85,"li"),o.Qc(86," The sum of values in the team's view has been scaled to equal the sum of values in your view. That way, you can make a direct comparison between your view and the team's view. As this scaling is specific to you, the values you see in team's view may not match the values your team members see in their results. "),o.Vb(),o.Vb()),2&e&&(o.Cb(22),o.sc("value",110),o.Cb(6),o.sc("value",110),o.Cb(3),o.sc("value",110),o.Cb(3),o.sc("value",80),o.Cb(10),o.sc("value",109),o.Cb(6),o.sc("value",109),o.Cb(3),o.sc("value",109),o.Cb(3),o.sc("value",82))}let L=(()=>{class e extends h.a{constructor(e){super(Object(r.d)()),this.simpleModalService=e,this.QuestionsSectionQuestions=b.a,this.Sections=l.a,this.displayContributionStats=!0,this.columnsData=[],this.rowsData=[]}ngOnInit(){this.parseStatistics(),this.getTableData()}ngOnChanges(){this.parseStatistics(),this.getTableData()}getTableData(){if(!this.questionOverallStatistics)return;const e=this.questionOverallStatistics;this.columnsData=[{header:"Team",sortBy:u.a.CONTRIBUTION_TEAM},{header:"Recipient",sortBy:u.a.CONTRIBUTION_RECIPIENT},{header:"CC",sortBy:u.a.CONTRIBUTION_VALUE,headerToolTip:"Claimed Contribution: This is the student's own estimation of his/her contributions"},{header:"PC",sortBy:u.a.CONTRIBUTION_VALUE,headerToolTip:"Perceived Contribution: This is the average of what other team members think this student contributed"},{header:"Diff",sortBy:u.a.CONTRIBUTION_VALUE,headerToolTip:"Perceived Contribution - Claimed Contribution"},{header:"Ratings Received",headerToolTip:"The list of points that this student received from others"}],this.rowsData=Object.keys(this.emailToName).map(t=>[{value:this.emailToTeamName[t]},{value:this.emailToName[t]},{value:e.results[t].claimed,customComponent:{component:E,componentData:{value:e.results[t].claimed}}},{value:e.results[t].perceived,customComponent:{component:E,componentData:{value:e.results[t].perceived}}},{value:this.emailToDiff[t],customComponent:{component:E,componentData:{value:this.emailToDiff[t],diffOnly:!0}}},{customComponent:{component:V,componentData:{ratingsList:e.results[t].perceivedOthers}}}])}openHelpModal(e){this.simpleModalService.openInformationModal("More info about contribution questions",p.a.NEUTRAL,e)}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(_.a))},e.\u0275cmp=o.Kb({type:e,selectors:[["tm-contribution-question-statistics"]],inputs:{displayContributionStats:"displayContributionStats"},features:[o.zb,o.Ab],decls:4,vars:2,consts:[[4,"ngIf"],["contributionHelpModal",""],[1,"card",2,"margin-top","20px"],[1,"card-header","bg-primary","text-white"],[1,"card-body"],[1,"row",2,"margin-bottom","5px"],[1,"col-sm-2"],["ngbTooltip","Compare 'My view' with 'Team's view' to see if your perception is similar to your team's perception",1,"ngb-tooltip-class"],["id","own-view-me",1,"col-sm-2"],[3,"value"],["id","own-view-others",1,"col-sm-8"],[4,"ngFor","ngForOf"],["queryParamsHandling","preserve",3,"tmRouterLink","click"],[1,"fas","fa-info-circle"],[1,"row"],["id","team-view-me",1,"col-sm-2"],["ngbTooltip","The average contribution the other members of your team attributed to you",1,"ngb-tooltip-class"],["id","team-view-others",1,"col-sm-8"],[1,"col-sm-4","text-color-gray"],[1,"col-sm-8",2,"text-align","right"],["tmRouterLink","/web/instructor/help","rel","noopener noreferrer","target","_blank",3,"queryParams"],[1,"col-sm-12","table-responsive"],[3,"rows","columns"],["href","/web/front/help/instructor#team-contribution-questions","rel","noopener noreferrer","target","_blank"]],template:function(e,t){1&e&&(o.Oc(0,k,37,4,"div",0),o.Oc(1,U,13,6,"div",0),o.Oc(2,x,87,8,"ng-template",null,1,o.Pc)),2&e&&(o.sc("ngIf",t.isStudent&&t.displayContributionStats&&t.questionStatisticsForStudent),o.Cb(1),o.sc("ngIf",!t.isStudent&&t.displayContributionStats&&t.questionOverallStatistics&&t.responses.length))},directives:[c.u,d.w,E,c.t,P.a,D.a],styles:[""]}),e})();var F=s("7YQd");let j=(()=>{class e extends F.a{constructor(){super(Object(r.r)())}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Kb({type:e,selectors:[["tm-text-question-statistics"]],features:[o.zb],decls:0,vars:0,template:function(e,t){},styles:[""]}),e})();var K=s("PTBt");function G(e,t){if(1&e&&(o.Wb(0,"div"),o.Wb(1,"div",1),o.Wb(2,"div",2),o.Wb(3,"strong"),o.Qc(4," Response Summary "),o.Vb(),o.Vb(),o.Vb(),o.Wb(5,"div",1),o.Wb(6,"div",3),o.Rb(7,"tm-sortable-table",4),o.Vb(),o.Vb(),o.Vb()),2&e){const e=o.kc();o.Cb(7),o.sc("columns",e.columnsData)("rows",e.rowsData)("initialSortBy",e.SortBy.CONSTSUM_OPTIONS_POINTS)}}let H=(()=>{class e extends K.a{constructor(){super(Object(r.b)()),this.SortBy=u.a,this.columnsData=[],this.rowsData=[]}ngOnInit(){this.calculateStatistics(),this.getTableData()}ngOnChanges(){this.calculateStatistics(),this.getTableData()}getTableData(){this.columnsData=[{header:"Option",sortBy:u.a.CONSTSUM_OPTIONS_OPTION},{header:"Points Received"},{header:"Total Points",sortBy:u.a.CONSTSUM_OPTIONS_POINTS},{header:"Average Points",sortBy:u.a.CONSTSUM_OPTIONS_POINTS}],this.rowsData=Object.keys(this.pointsPerOption).map(e=>[{value:e},{value:this.pointsPerOption[e].join(", ")},{value:this.totalPointsPerOption[e]},{value:this.averagePointsPerOption[e]}])}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Kb({type:e,selectors:[["tm-constsum-options-question-statistics"]],features:[o.zb,o.Ab],decls:1,vars:1,consts:[[4,"ngIf"],[1,"row"],[1,"col-sm-4","text-color-gray","mt-2"],[1,"col-sm-12","table-responsive"],[3,"columns","rows","initialSortBy"]],template:function(e,t){1&e&&o.Oc(0,G,8,3,"div",0),2&e&&o.sc("ngIf",t.responses.length&&!t.isStudent)},directives:[c.u,D.a],styles:[""]}),e})();var $=s("DL64");function X(e,t){if(1&e&&(o.Wb(0,"div"),o.Wb(1,"div",1),o.Wb(2,"div",2),o.Wb(3,"strong"),o.Qc(4," Response Summary "),o.Vb(),o.Vb(),o.Vb(),o.Wb(5,"div",1),o.Wb(6,"div",3),o.Rb(7,"tm-sortable-table",4),o.Vb(),o.Vb(),o.Vb()),2&e){const e=o.kc();o.Cb(7),o.sc("columns",e.columnsData)("rows",e.rowsData)("initialSortBy",e.SortBy.CONSTSUM_RECIPIENTS_POINTS)}}let z=(()=>{class e extends $.a{constructor(){super(Object(r.a)()),this.SortBy=u.a,this.columnsData=[],this.rowsData=[]}ngOnInit(){this.calculateStatistics(),this.getTableData()}ngOnChanges(){this.calculateStatistics(),this.getTableData()}getTableData(){this.columnsData=[{header:"Team",sortBy:u.a.TEAM_NAME},{header:"Recipient",sortBy:u.a.RECIPIENT_NAME},{header:"Points Received"},{header:"Total Points",sortBy:u.a.CONSTSUM_RECIPIENTS_POINTS},{header:"Average Points",sortBy:u.a.CONSTSUM_RECIPIENTS_POINTS}],this.rowsData=Object.keys(this.pointsPerOption).map(e=>[{value:this.emailToTeamName[e]},{value:this.emailToName[e]},{value:this.pointsPerOption[e].join(", ")},{value:this.totalPointsPerOption[e]},{value:this.averagePointsPerOption[e]}])}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Kb({type:e,selectors:[["tm-constsum-recipients-question-statistics"]],features:[o.zb,o.Ab],decls:1,vars:1,consts:[[4,"ngIf"],[1,"row"],[1,"col-sm-4","text-color-gray","mt-2"],[1,"col-sm-12","table-responsive"],[3,"columns","rows","initialSortBy"]],template:function(e,t){1&e&&o.Oc(0,X,8,3,"div",0),2&e&&o.sc("ngIf",t.responses.length&&!t.isStudent)},directives:[c.u,D.a],styles:[""]}),e})();var Y=s("5HvB");function J(e,t){1&e&&(o.Wb(0,"strong"),o.Qc(1,"Summary of responses received by you"),o.Vb())}function Z(e,t){1&e&&(o.Wb(0,"strong"),o.Qc(1,"Response Summary"),o.Vb())}function ee(e,t){if(1&e&&(o.Wb(0,"div"),o.Wb(1,"div",1),o.Wb(2,"div",2),o.Oc(3,J,2,0,"strong",0),o.Oc(4,Z,2,0,"strong",0),o.Vb(),o.Vb(),o.Wb(5,"div",1),o.Wb(6,"div",3),o.Rb(7,"tm-sortable-table",4),o.Vb(),o.Vb(),o.Vb()),2&e){const e=o.kc();o.Cb(3),o.sc("ngIf",e.isStudent),o.Cb(1),o.sc("ngIf",!e.isStudent),o.Cb(3),o.sc("rows",e.rowsData)("columns",e.columnsData)}}let te=(()=>{class e extends Y.a{constructor(){super(Object(r.j)()),this.columnsData=[],this.rowsData=[]}ngOnInit(){this.calculateStatistics(),this.getTableData()}ngOnChanges(){this.calculateStatistics(),this.getTableData()}getTableData(){this.columnsData=[{header:"Team",sortBy:u.a.TEAM_NAME},{header:"Recipient",sortBy:u.a.RECIPIENT_NAME},{header:"Average",sortBy:u.a.NUMERICAL_SCALE_AVERAGE,headerToolTip:"Average of the visible responses"},{header:"Max",sortBy:u.a.NUMERICAL_SCALE_MAX,headerToolTip:"Maximum of the visible responses"},{header:"Min",sortBy:u.a.NUMERICAL_SCALE_MIN,headerToolTip:"Minimum of the visible responses"},{header:"Average excluding self response",sortBy:u.a.NUMERICAL_SCALE_AVERAGE_EXCLUDE_SELF,headerToolTip:"Average of the visible responses excluding recipient's own response to himself/herself"}],this.rowsData=[];for(const e of Object.keys(this.teamToRecipientToScores))for(const t of Object.keys(this.teamToRecipientToScores[e])){const s=this.teamToRecipientToScores[e][t];this.rowsData.push([{value:e},{value:t},{value:s.average},{value:s.max},{value:s.min},{value:s.averageExcludingSelf}])}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Kb({type:e,selectors:[["tm-num-scale-question-statistics"]],features:[o.zb,o.Ab],decls:1,vars:1,consts:[[4,"ngIf"],[1,"row"],[1,"col-sm-4","text-color-gray","mt-2"],["id","numscale-statistics",1,"col-sm-12","table-responsive"],[3,"rows","columns"]],template:function(e,t){1&e&&o.Oc(0,ee,8,4,"div",0),2&e&&o.sc("ngIf",t.responses.length)},directives:[c.u,D.a],styles:[""]}),e})();var se=s("4JDO"),ie=s("khBm"),ne=s("3Pt+");function oe(e,t){1&e&&(o.Wb(0,"span"),o.Qc(1,"(of received responses)"),o.Vb())}function ae(e,t){if(1&e&&(o.Ub(0),o.Wb(1,"div",0),o.Wb(2,"div",10),o.Wb(3,"strong"),o.Qc(4," Per Recipient Statistics "),o.Vb(),o.Rb(5,"span",11),o.Vb(),o.Vb(),o.Wb(6,"div",0),o.Wb(7,"div",12),o.Rb(8,"tm-sortable-table",9),o.Vb(),o.Vb(),o.Tb()),2&e){const e=o.kc();o.Cb(8),o.sc("rows",e.perRecipientRowsData)("columns",e.perRecipientColumnsData)}}let ce=(()=>{class e extends ie.a{constructor(){super(Object(r.p)()),this.excludeSelf=!1,this.summaryColumnsData=[],this.summaryRowsData=[],this.perRecipientColumnsData=[],this.perRecipientRowsData=[]}ngOnInit(){this.calculateStatistics(),this.getTableData()}ngOnChanges(){this.calculateStatistics(),this.getTableData()}getTableData(){this.summaryColumnsData=[{header:"Question",sortBy:u.a.RUBRIC_SUBQUESTION},...this.choices.map(e=>({header:e,sortBy:u.a.RUBRIC_CHOICE}))],this.hasWeights&&this.summaryColumnsData.push({header:"Average",sortBy:u.a.RUBRIC_WEIGHT_AVERAGE}),this.summaryRowsData=this.subQuestions.map((e,t)=>{const s=[{value:`${se.a.integerToLowerCaseAlphabeticalIndex(t+1)}) ${e}`},...this.choices.map((e,s)=>this.excludeSelf?{value:this.percentagesExcludeSelf[t][s]+"%"+` (${this.answersExcludeSelf[t][s]})`+(this.hasWeights?` [${this.weights[t][s]}]`:"")}:{value:this.percentages[t][s]+"%"+` (${this.answers[t][s]})`+(this.hasWeights?` [${this.weights[t][s]}]`:"")})];return this.hasWeights&&s.push(this.excludeSelf?{value:this.subQuestionWeightAverageExcludeSelf[t]}:{value:this.subQuestionWeightAverage[t]}),s}),this.hasWeights&&(this.perRecipientColumnsData=[{header:"Team",sortBy:u.a.TEAM_NAME},{header:"Recipient Name",sortBy:u.a.RECIPIENT_NAME},{header:"Sub Question",sortBy:u.a.QUESTION_TEXT},...this.choices.map(e=>({header:e,sortBy:u.a.RUBRIC_CHOICE})),{header:"Total",sortBy:u.a.RUBRIC_TOTAL_CHOSEN_WEIGHT},{header:"Average",sortBy:u.a.RUBRIC_WEIGHT_AVERAGE}],this.perRecipientRowsData=[],Object.values(this.perRecipientStatsMap).forEach(e=>{this.subQuestions.forEach((t,s)=>{this.perRecipientRowsData.push([{value:e.recipientTeam},{value:e.recipientName},{value:`${se.a.integerToLowerCaseAlphabeticalIndex(s+1)}) ${t}`},...this.choices.map((t,i)=>({value:e.percentages[s][i]+"%"+` (${e.answers[s][i]})`+` [${this.weights[s][i]}]`})),{value:e.subQuestionTotalChosenWeight[s]},{value:e.subQuestionWeightAverage[s]}])})}))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Kb({type:e,selectors:[["tm-rubric-question-statistics"]],features:[o.zb,o.Ab],decls:16,vars:6,consts:[[1,"row"],[1,"col-sm-4","text-color-gray","mt-2"],[4,"ngIf"],["container","body",1,"fa","fa-info-circle",3,"ngbTooltip"],[1,"col-sm-8",2,"text-align","right"],[1,"form-check-label"],["id","exclude-self-checkbox","type","checkbox",1,"form-check-input",3,"ngModel","ngModelChange"],["container","body","ngbTooltip","Excludes giver's responses to himself/herself from statistics",1,"ngb-tooltip-class"],["id","rubric-statistics",1,"col-sm-12","table-responsive"],[3,"rows","columns"],[1,"col-sm-4","text-color-gray"],["ngbTooltip","Format: Response percentage (Response count) [Weight of option], e.g. 50% (2) [1.0]",1,"fa","fa-info-circle"],["id","rubric-recipient-statistics",1,"col-sm-12","table-responsive"]],template:function(e,t){1&e&&(o.Wb(0,"div"),o.Wb(1,"div",0),o.Wb(2,"div",1),o.Wb(3,"strong"),o.Qc(4," Response Summary "),o.Oc(5,oe,2,0,"span",2),o.Vb(),o.Rb(6,"span",3),o.Vb(),o.Wb(7,"div",4),o.Wb(8,"label",5),o.Wb(9,"input",6),o.ic("ngModelChange",(function(e){return t.excludeSelf=e}))("ngModelChange",(function(){return t.getTableData()})),o.Vb(),o.Wb(10,"span",7),o.Qc(11,"Exclude self evaluation"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(12,"div",0),o.Wb(13,"div",8),o.Rb(14,"tm-sortable-table",9),o.Vb(),o.Vb(),o.Oc(15,ae,9,2,"ng-container",2),o.Vb()),2&e&&(o.Cb(5),o.sc("ngIf",t.isStudent),o.Cb(1),o.sc("ngbTooltip","Format: Response percentage (Response count)"+(t.hasWeights?"[Weight of option]":"")+", e.g. 50% (2) "+(t.hasWeights?"[1.0]":"")),o.Cb(3),o.sc("ngModel",t.excludeSelf),o.Cb(5),o.sc("rows",t.summaryRowsData)("columns",t.summaryColumnsData),o.Cb(1),o.sc("ngIf",t.hasWeights))},directives:[c.u,d.w,ne.a,ne.p,ne.s,D.a],styles:[""]}),e})();var re=s("BWB/");function ue(e,t){if(1&e&&(o.Wb(0,"div"),o.Wb(1,"div",1),o.Wb(2,"div",2),o.Wb(3,"strong"),o.Qc(4," Response Summary "),o.Vb(),o.Vb(),o.Vb(),o.Wb(5,"div",1),o.Wb(6,"div",3),o.Rb(7,"tm-sortable-table",4),o.Vb(),o.Vb(),o.Vb()),2&e){const e=o.kc();o.Cb(7),o.sc("rows",e.rowsData)("columns",e.columnsData)("initialSortBy",e.SortBy.RANK_OPTIONS_OVERALL_RANK)}}let be=(()=>{class e extends re.a{constructor(){super(Object(r.l)()),this.SortBy=u.a,this.columnsData=[],this.rowsData=[]}ngOnInit(){this.calculateStatistics(),this.getTableData()}ngOnChanges(){this.calculateStatistics(),this.getTableData()}getTableData(){this.columnsData=[{header:"Option",sortBy:u.a.RANK_OPTIONS_OPTION},{header:"Ranks Received"},{header:"Overall Rank",sortBy:u.a.RANK_OPTIONS_OVERALL_RANK}],this.rowsData=Object.keys(this.ranksReceivedPerOption).map(e=>[{value:e},{value:this.ranksReceivedPerOption[e].join(", ")},{value:this.rankPerOption[e]?this.rankPerOption[e]:""}])}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Kb({type:e,selectors:[["tm-rank-options-question-statistics"]],features:[o.zb,o.Ab],decls:1,vars:1,consts:[[4,"ngIf"],[1,"row"],[1,"col-sm-4","text-color-gray","mt-2"],[1,"col-sm-12","table-responsive"],[3,"rows","columns","initialSortBy"]],template:function(e,t){1&e&&o.Oc(0,ue,8,3,"div",0),2&e&&o.sc("ngIf",t.responses.length&&!t.isStudent)},directives:[c.u,D.a],styles:[""]}),e})();var le=s("TpVY");function pe(e,t){if(1&e&&(o.Wb(0,"div"),o.Wb(1,"div",1),o.Wb(2,"div",2),o.Wb(3,"strong"),o.Qc(4," Response Summary "),o.Vb(),o.Vb(),o.Vb(),o.Wb(5,"div",1),o.Wb(6,"div",3),o.Rb(7,"tm-sortable-table",4),o.Vb(),o.Vb(),o.Vb()),2&e){const e=o.kc();o.Cb(7),o.sc("rows",e.rowsData)("columns",e.columnsData)("initialSortBy",e.SortBy.RANK_RECIPIENTS_OVERALL_RANK)}}let he=(()=>{class e extends le.a{constructor(){super(Object(r.n)()),this.SortBy=u.a,this.columnsData=[],this.rowsData=[]}ngOnInit(){this.calculateStatistics(),this.getTableData()}ngOnChanges(){this.calculateStatistics(),this.getTableData()}getTableData(){this.columnsData=[{header:"Team",sortBy:u.a.RANK_RECIPIENTS_TEAM},{header:"Recipient",sortBy:u.a.RANK_RECIPIENTS_RECIPIENT},{header:"Ranks Received"},{header:"Self Rank",sortBy:u.a.RANK_RECIPIENTS_SELF_RANK},{header:"Overall Rank",sortBy:u.a.RANK_RECIPIENTS_OVERALL_RANK},{header:"Overall Rank Excluding Self",sortBy:u.a.RANK_RECIPIENTS_OVERALL_RANK_EXCLUDING_SELF},{header:"Team Rank",sortBy:u.a.RANK_RECIPIENTS_TEAM_RANK},{header:"Team Rank Excluding Self",sortBy:u.a.RANK_RECIPIENTS_TEAM_RANK_EXCLUDING_SELF}],this.rowsData=Object.keys(this.ranksReceivedPerOption).map(e=>[{value:this.emailToTeamName[e]},{value:this.emailToName[e]},{value:this.ranksReceivedPerOption[e].join(", ")},{value:this.selfRankPerOption[e]||"-"},{value:this.rankPerOption[e]||"-"},{value:this.rankPerOptionExcludeSelf[e]||"-"},{value:this.rankPerOptionInTeam[e]||"-"},{value:this.rankPerOptionInTeamExcludeSelf[e]||"-"}])}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Kb({type:e,selectors:[["tm-rank-recipients-question-statistics"]],features:[o.zb,o.Ab],decls:1,vars:1,consts:[[4,"ngIf"],[1,"row"],[1,"col-sm-4","text-color-gray","mt-2"],[1,"col-sm-12","table-responsive"],[3,"rows","columns","initialSortBy"]],template:function(e,t){1&e&&o.Oc(0,pe,8,3,"div",0),2&e&&o.sc("ngIf",t.responses.length&&!t.isStudent)},directives:[c.u,D.a],styles:[""]}),e})();var me=s("sBl4");function de(e,t){if(1&e&&(o.Wb(0,"div",6),o.Wb(1,"strong",7),o.Qc(2," Per Recipient Statistics "),o.Vb(),o.Rb(3,"tm-sortable-table",4),o.Vb()),2&e){const e=o.kc(2);o.Cb(3),o.sc("rows",e.perRecipientRowsData)("columns",e.perRecipientColumnsData)("initialSortBy",e.SortBy.MSQ_WEIGHT_AVERAGE)}}function ve(e,t){if(1&e&&(o.Wb(0,"div"),o.Wb(1,"div",1),o.Wb(2,"div",2),o.Wb(3,"strong"),o.Qc(4," Response Summary "),o.Vb(),o.Vb(),o.Vb(),o.Wb(5,"div",1),o.Wb(6,"div",3),o.Rb(7,"tm-sortable-table",4),o.Vb(),o.Oc(8,de,4,3,"div",5),o.Vb(),o.Vb()),2&e){const e=o.kc();o.Cb(7),o.sc("rows",e.summaryRowsData)("columns",e.summaryColumnsData)("initialSortBy",e.SortBy.MSQ_PERCENTAGE),o.Cb(1),o.sc("ngIf",e.question.hasAssignedWeights)}}let Te=(()=>{class e extends me.a{constructor(){super(Object(r.h)()),this.SortBy=u.a,this.summaryColumnsData=[],this.summaryRowsData=[],this.perRecipientColumnsData=[],this.perRecipientRowsData=[]}ngOnInit(){this.calculateStatistics(),this.getTableData()}ngOnChanges(){this.calculateStatistics(),this.getTableData()}getTableData(){this.summaryColumnsData=[{header:"Choice",sortBy:u.a.MSQ_CHOICE},{header:"Weight",sortBy:u.a.MSQ_WEIGHT},{header:"Response Count",sortBy:u.a.MSQ_RESPONSE_COUNT},{header:"Percentage (%)",sortBy:u.a.MSQ_PERCENTAGE},{header:"Weighted Percentage (%)",sortBy:u.a.MSQ_WEIGHTED_PERCENTAGE}],this.summaryRowsData=Object.keys(this.answerFrequency).map(e=>[{value:e},{value:0===this.weightPerOption[e]?0:this.weightPerOption[e]||"-"},{value:this.answerFrequency[e]},{value:this.percentagePerOption[e]},{value:0===this.weightedPercentagePerOption[e]?0:this.weightedPercentagePerOption[e]||"-"}]),this.perRecipientColumnsData=[{header:"Team",sortBy:u.a.MSQ_TEAM},{header:"Recipient Name",sortBy:u.a.MSQ_RECIPIENT_NAME},...Object.keys(this.weightPerOption).map(e=>({header:`${e} [${this.weightPerOption[e]}]`,sortBy:u.a.MSQ_OPTION_SELECTED_TIMES})),{header:"Total",sortBy:u.a.MSQ_WEIGHT_TOTAL},{header:"Average",sortBy:u.a.MSQ_WEIGHT_AVERAGE}],this.perRecipientRowsData=Object.keys(this.perRecipientResponses).map(e=>[{value:this.perRecipientResponses[e].recipientTeam},{value:this.perRecipientResponses[e].recipient},...Object.keys(this.weightPerOption).map(t=>({value:this.perRecipientResponses[e].responses[t]})),{value:this.perRecipientResponses[e].total},{value:this.perRecipientResponses[e].average}])}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Kb({type:e,selectors:[["tm-msq-question-statistics"]],features:[o.zb,o.Ab],decls:1,vars:1,consts:[[4,"ngIf"],[1,"row"],[1,"col-sm-4","text-color-gray","mt-2"],[1,"col-sm-12","table-responsive"],[3,"rows","columns","initialSortBy"],["class","col-sm-12 table-responsive","style","margin-top: 20px;",4,"ngIf"],[1,"col-sm-12","table-responsive",2,"margin-top","20px"],[1,"text-color-gray"]],template:function(e,t){1&e&&o.Oc(0,ve,9,4,"div",0),2&e&&o.sc("ngIf",t.responses.length&&!t.isStudent&&t.hasAnswers)},directives:[c.u,D.a],styles:[""]}),e})();var fe=s("jA8U");function ge(e,t){if(1&e&&(o.Wb(0,"div",7),o.Wb(1,"strong",8),o.Qc(2," Per Recipient Statistics "),o.Vb(),o.Rb(3,"tm-sortable-table",9),o.Vb()),2&e){const e=o.kc(2);o.Cb(3),o.sc("columns",e.perRecipientColumnsData)("rows",e.perRecipientRowsData)("initialSortBy",e.SortBy.MCQ_WEIGHT_AVERAGE)}}function ye(e,t){if(1&e&&(o.Wb(0,"div",1),o.Wb(1,"div",2),o.Wb(2,"div",3),o.Wb(3,"strong"),o.Qc(4," Response Summary "),o.Vb(),o.Vb(),o.Vb(),o.Wb(5,"div",2),o.Wb(6,"div",4),o.Rb(7,"tm-sortable-table",5),o.Vb(),o.Oc(8,ge,4,3,"div",6),o.Vb(),o.Vb()),2&e){const e=o.kc();o.Cb(7),o.sc("columns",e.summaryColumnsData)("rows",e.summaryRowsData),o.Cb(1),o.sc("ngIf",e.question.hasAssignedWeights)}}let Oe=(()=>{class e extends fe.a{constructor(){super(Object(r.f)()),this.SortBy=u.a,this.summaryColumnsData=[],this.summaryRowsData=[],this.perRecipientColumnsData=[],this.perRecipientRowsData=[]}ngOnInit(){this.calculateStatistics(),this.getTableData()}ngOnChanges(){this.calculateStatistics(),this.getTableData()}getTableData(){this.summaryColumnsData=[{header:"Choice",sortBy:u.a.MCQ_CHOICE},{header:"Weight",sortBy:u.a.MCQ_WEIGHT},{header:"Response Count",sortBy:u.a.MCQ_RESPONSE_COUNT},{header:"Percentage (%)",sortBy:u.a.MCQ_PERCENTAGE},{header:"Weighted Percentage (%)",sortBy:u.a.MCQ_WEIGHTED_PERCENTAGE}],this.summaryRowsData=Object.keys(this.answerFrequency).map(e=>[{value:e},{value:0===this.weightPerOption[e]?0:this.weightPerOption[e]||"-"},{value:this.answerFrequency[e]},{value:this.percentagePerOption[e]},{value:0===this.weightedPercentagePerOption[e]?0:this.weightedPercentagePerOption[e]||"-"}]),this.perRecipientColumnsData=[{header:"Team",sortBy:u.a.MCQ_TEAM},{header:"Recipient Name",sortBy:u.a.MCQ_RECIPIENT_NAME},...Object.keys(this.weightPerOption).map(e=>({header:`${e}[${this.weightPerOption[e].toFixed(2)}]`,sortBy:u.a.MCQ_OPTION_SELECTED_TIMES})),{header:"Total",sortBy:u.a.MCQ_WEIGHT_TOTAL},{header:"Average",sortBy:u.a.MCQ_WEIGHT_AVERAGE}],this.perRecipientRowsData=Object.keys(this.perRecipientResponses).map(e=>[{value:this.perRecipientResponses[e].recipientTeam},{value:this.perRecipientResponses[e].recipient},...Object.keys(this.weightPerOption).map(t=>({value:this.perRecipientResponses[e].responses[t]})),{value:this.perRecipientResponses[e].total.toFixed(2)},{value:this.perRecipientResponses[e].average.toFixed(2)}])}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Kb({type:e,selectors:[["tm-mcq-question-statistics"]],features:[o.zb,o.Ab],decls:1,vars:1,consts:[["id","mcq-statistics",4,"ngIf"],["id","mcq-statistics"],[1,"row"],[1,"col-sm-4","text-color-gray","mt-2"],[1,"col-sm-12","table-responsive"],[3,"columns","rows"],["class","col-sm-12 table-responsive","style","margin-top: 20px;",4,"ngIf"],[1,"col-sm-12","table-responsive",2,"margin-top","20px"],[1,"text-color-gray"],[3,"columns","rows","initialSortBy"]],template:function(e,t){1&e&&o.Oc(0,ye,9,3,"div",0),2&e&&o.sc("ngIf",t.responses.length&&!t.isStudent)},directives:[c.u,D.a],styles:[""]}),e})();function Re(e,t){if(1&e&&o.Rb(0,"tm-contribution-question-statistics",2),2&e){const e=o.kc();o.sc("responses",e.responsesToUse)("question",e.question)("recipientType",e.recipientType)("isStudent",e.isStudent)("displayContributionStats",e.displayContributionStats)("statistics",e.statistics)}}function Se(e,t){if(1&e&&o.Rb(0,"tm-text-question-statistics",3),2&e){const e=o.kc();o.sc("responses",e.responsesToUse)("question",e.question)("recipientType",e.recipientType)("isStudent",e.isStudent)}}function Ie(e,t){if(1&e&&o.Rb(0,"tm-constsum-options-question-statistics",3),2&e){const e=o.kc();o.sc("responses",e.responsesToUse)("question",e.question)("recipientType",e.recipientType)("isStudent",e.isStudent)}}function Ce(e,t){if(1&e&&o.Rb(0,"tm-constsum-recipients-question-statistics",3),2&e){const e=o.kc();o.sc("responses",e.responsesToUse)("question",e.question)("recipientType",e.recipientType)("isStudent",e.isStudent)}}function Ee(e,t){if(1&e&&o.Rb(0,"tm-num-scale-question-statistics",3),2&e){const e=o.kc();o.sc("responses",e.responsesToUse)("question",e.question)("recipientType",e.recipientType)("isStudent",e.isStudent)}}function We(e,t){if(1&e&&o.Rb(0,"tm-rubric-question-statistics",3),2&e){const e=o.kc();o.sc("responses",e.responsesToUse)("question",e.question)("recipientType",e.recipientType)("isStudent",e.isStudent)}}function we(e,t){if(1&e&&o.Rb(0,"tm-rank-options-question-statistics",3),2&e){const e=o.kc();o.sc("responses",e.responsesToUse)("question",e.question)("recipientType",e.recipientType)("isStudent",e.isStudent)}}function Ne(e,t){if(1&e&&o.Rb(0,"tm-rank-recipients-question-statistics",3),2&e){const e=o.kc();o.sc("responses",e.responsesToUse)("question",e.question)("recipientType",e.recipientType)("isStudent",e.isStudent)}}function Ve(e,t){if(1&e&&o.Rb(0,"tm-msq-question-statistics",3),2&e){const e=o.kc();o.sc("responses",e.responsesToUse)("question",e.question)("recipientType",e.recipientType)("isStudent",e.isStudent)}}function _e(e,t){if(1&e&&o.Rb(0,"tm-mcq-question-statistics",3),2&e){const e=o.kc();o.sc("responses",e.responsesToUse)("question",e.question)("recipientType",e.recipientType)("isStudent",e.isStudent)}}let Pe=(()=>{class e{constructor(e){this.feedbackResponsesService=e,this.responses=[],this.question={questionType:i.d.TEXT,questionText:""},this.recipientType=i.c.NONE,this.isStudent=!1,this.statistics="",this.displayContributionStats=!0,this.section="",this.sectionType=n.a.EITHER,this.FeedbackQuestionType=i.d,this.responsesToUse=[]}ngOnInit(){this.filterResponses()}ngOnChanges(){this.filterResponses()}filterResponses(){this.responsesToUse=this.responses.filter(e=>(!e.isMissingResponse||this.question.questionType===i.d.CONTRIB)&&(!this.isUsingResponsesToSelf()||"You"===e.recipient)&&this.feedbackResponsesService.isFeedbackResponsesDisplayedOnSection(e,this.section,this.sectionType))}isUsingResponsesToSelf(){return this.isStudent&&this.question.questionType===i.d.NUMSCALE}}return e.\u0275fac=function(t){return new(t||e)(o.Qb(a.a))},e.\u0275cmp=o.Kb({type:e,selectors:[["tm-single-statistics"]],inputs:{responses:"responses",question:"question",recipientType:"recipientType",isStudent:"isStudent",statistics:"statistics",displayContributionStats:"displayContributionStats",section:"section",sectionType:"sectionType"},features:[o.Ab],decls:10,vars:10,consts:[[3,"responses","question","recipientType","isStudent","displayContributionStats","statistics",4,"ngIf"],[3,"responses","question","recipientType","isStudent",4,"ngIf"],[3,"responses","question","recipientType","isStudent","displayContributionStats","statistics"],[3,"responses","question","recipientType","isStudent"]],template:function(e,t){1&e&&(o.Oc(0,Re,1,6,"tm-contribution-question-statistics",0),o.Oc(1,Se,1,4,"tm-text-question-statistics",1),o.Oc(2,Ie,1,4,"tm-constsum-options-question-statistics",1),o.Oc(3,Ce,1,4,"tm-constsum-recipients-question-statistics",1),o.Oc(4,Ee,1,4,"tm-num-scale-question-statistics",1),o.Oc(5,We,1,4,"tm-rubric-question-statistics",1),o.Oc(6,we,1,4,"tm-rank-options-question-statistics",1),o.Oc(7,Ne,1,4,"tm-rank-recipients-question-statistics",1),o.Oc(8,Ve,1,4,"tm-msq-question-statistics",1),o.Oc(9,_e,1,4,"tm-mcq-question-statistics",1)),2&e&&(o.sc("ngIf",t.question.questionType===t.FeedbackQuestionType.CONTRIB),o.Cb(1),o.sc("ngIf",t.question.questionType===t.FeedbackQuestionType.TEXT),o.Cb(1),o.sc("ngIf",t.question.questionType===t.FeedbackQuestionType.CONSTSUM_OPTIONS),o.Cb(1),o.sc("ngIf",t.question.questionType===t.FeedbackQuestionType.CONSTSUM_RECIPIENTS),o.Cb(1),o.sc("ngIf",t.question.questionType===t.FeedbackQuestionType.NUMSCALE),o.Cb(1),o.sc("ngIf",t.question.questionType===t.FeedbackQuestionType.RUBRIC),o.Cb(1),o.sc("ngIf",t.question.questionType===t.FeedbackQuestionType.RANK_OPTIONS),o.Cb(1),o.sc("ngIf",t.question.questionType===t.FeedbackQuestionType.RANK_RECIPIENTS),o.Cb(1),o.sc("ngIf",t.question.questionType===t.FeedbackQuestionType.MSQ),o.Cb(1),o.sc("ngIf",t.question.questionType===t.FeedbackQuestionType.MCQ))},directives:[c.u,L,j,H,z,te,ce,be,he,Te,Oe],styles:[""]}),e})()}}]);