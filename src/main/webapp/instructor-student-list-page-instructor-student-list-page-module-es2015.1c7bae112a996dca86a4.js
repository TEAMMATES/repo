(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{"++8I":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var s=n("vMQM"),o=n("fXoL"),i=n("mW1j");let r=(()=>{class t{constructor(t){this.httpRequestService=t}loadInstructors(t){const e={courseid:t.courseId};return t.intent&&(e.intent=t.intent),this.httpRequestService.get(s.d.INSTRUCTORS,e)}getInstructor(t){const e={courseid:t.courseId,intent:t.intent};return t.feedbackSessionName&&(e.fsname=t.feedbackSessionName),t.key&&(e.key=t.key),t.moderatedPerson&&(e.moderatedperson=t.moderatedPerson),t.previewAs&&(e.previewas=t.previewAs),this.httpRequestService.get(s.d.INSTRUCTOR,e)}createInstructor(t){return this.httpRequestService.post(s.d.INSTRUCTOR,{courseid:t.courseId},t.requestBody)}updateInstructor(t){return this.httpRequestService.put(s.d.INSTRUCTOR,{courseid:t.courseId},t.requestBody)}deleteInstructor(t){const e={courseid:t.courseId};return t.instructorEmail&&(e.instructoremail=t.instructorEmail),t.instructorId&&(e.instructorid=t.instructorId),this.httpRequestService.delete(s.d.INSTRUCTOR,e)}loadInstructorPrivilege(t){const e={courseid:t.courseId};return t.feedbackSessionName&&(e.fsname=t.feedbackSessionName),t.sectionName&&(e.sectionname=t.sectionName),t.instructorRole&&(e.instructorrole=t.instructorRole),t.instructorEmail&&(e.instructoremail=t.instructorEmail),t.instructorId&&(e.instructorid=t.instructorId),this.httpRequestService.get(s.d.INSTRUCTOR_PRIVILEGE,e)}updateInstructorPrivilege(t){return this.httpRequestService.put(s.d.INSTRUCTOR_PRIVILEGE,{courseid:t.courseId,instructoremail:t.instructorEmail},t.requestBody)}}return t.\u0275fac=function(e){return new(e||t)(o.ec(i.a))},t.\u0275prov=o.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"/Tzu":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var s=function(t){return t[t.WARNING=0]="WARNING",t[t.DANGER=1]="DANGER",t[t.INFO=2]="INFO",t[t.NEUTRAL=3]="NEUTRAL",t[t.LOAD=4]="LOAD",t}({})},"0zMG":function(t,e,n){"use strict";n.d(e,"a",(function(){return U}));var s=n("fXoL"),o=n("R8lv"),i=n("p6cw"),r=n("/Tzu"),c=n("Uqoa"),a=n("vKUq"),u=n("eQqG"),d=n("ofXK"),l=n("ERjh"),b=n("1kSV"),f=n("W872"),m=n("VKKU"),p=n("6NZ/");function h(t,e){1&t&&s.Rb(0,"i",13)}function g(t,e){1&t&&s.Rb(0,"i",14)}function S(t,e){if(1&t){const t=s.Xb();s.Wb(0,"th",4),s.ic("click",(function(){s.Fc(t);const e=s.kc();return e.sortStudentList(e.SortBy.SECTION_NAME)})),s.Qc(1," Section "),s.Wb(2,"span",5),s.Rb(3,"i",6),s.Oc(4,h,1,0,"i",7),s.Oc(5,g,1,0,"i",8),s.Vb(),s.Vb()}if(2&t){const t=s.kc();s.Cb(4),s.sc("ngIf",t.tableSortBy===t.SortBy.SECTION_NAME&&t.tableSortOrder===t.SortOrder.DESC),s.Cb(1),s.sc("ngIf",t.tableSortBy===t.SortBy.SECTION_NAME&&t.tableSortOrder===t.SortOrder.ASC)}}function v(t,e){1&t&&s.Rb(0,"i",13)}function y(t,e){1&t&&s.Rb(0,"i",14)}function O(t,e){1&t&&s.Rb(0,"i",13)}function C(t,e){1&t&&s.Rb(0,"i",14)}function I(t,e){1&t&&s.Rb(0,"i",13)}function E(t,e){1&t&&s.Rb(0,"i",14)}function T(t,e){1&t&&s.Rb(0,"i",13)}function R(t,e){1&t&&s.Rb(0,"i",14)}function M(t,e){if(1&t&&(s.Wb(0,"td"),s.Qc(1),s.Vb()),2&t){const t=s.kc().$implicit;s.Cb(1),s.Rc(t.student.sectionName)}}const N=function(t){return{"disabled mouse-hover-only":t}};function w(t,e){if(1&t&&(s.Wb(0,"a",22),s.Qc(1),s.Vb()),2&t){const t=e.isEnabled,n=e.tooltip,o=e.name,i=e.tmRouterLink,r=e.queryParams;s.sc("id",e.id)("ngClass",s.wc(6,N,!t))("ngbTooltip",t?n:"You do not have the permissions to access this feature")("tmRouterLink",i)("queryParams",r),s.Cb(1),s.Sc(" ",o,"")}}function k(t,e){1&t&&s.Sb(0)}function L(t,e){1&t&&s.Sb(0)}function V(t,e){if(1&t){const t=s.Xb();s.Ub(0),s.Wb(1,"button",23),s.ic("click",(function(){s.Fc(t);const e=s.kc(2).$implicit;return s.kc().openRemindModal(e)})),s.Qc(2,"Send Invite"),s.Vb(),s.Tb()}if(2&t){const t=s.kc(2).$implicit,e=s.kc();s.Cb(1),s.sc("ngClass",s.wc(3,N,!t.isAllowedToModifyStudent||!e.isActionButtonsEnabled))("disabled",!e.isActionButtonsEnabled)("ngbTooltip",t.isAllowedToModifyStudent&&e.isActionButtonsEnabled?"Email an invitation to the student requesting him/her to join the course using his/her Google Account. Note: Students can use TEAMMATES without 'joining', but a joined student can access extra features e.g. set up a user profile":"You do not have the permissions to access this feature")}}function A(t,e){if(1&t&&(s.Ub(0),s.Oc(1,V,3,5,"ng-container",17),s.Tb()),2&t){const t=s.kc().$implicit,e=s.kc();s.Cb(1),s.sc("ngIf",t.student.joinState===e.JoinState.NOT_JOINED)}}function P(t,e){1&t&&s.Sb(0)}const W=function(t,e){return{courseid:t,studentemail:e}},B=function(t,e){return{id:"btn-view-details",isEnabled:t,tooltip:"View the details of the student",name:"View",tmRouterLink:"/web/instructor/courses/student/details",queryParams:e}},x=function(t,e,n){return{id:"btn-edit-details",isEnabled:t,tooltip:e,name:"Edit",tmRouterLink:"/web/instructor/courses/student/edit",queryParams:n}},F=function(t,e){return{id:"btn-view-records",isEnabled:t,tooltip:"View all data about this student",name:"All Records",tmRouterLink:"/web/instructor/students/records",queryParams:e}};function Q(t,e){if(1&t){const t=s.Xb();s.Wb(0,"tr",15),s.Wb(1,"td"),s.Rb(2,"tm-view-photo-popover",16),s.lc(3,"formatPhotoUrl"),s.Vb(),s.Oc(4,M,2,1,"td",17),s.Wb(5,"td"),s.Qc(6),s.Vb(),s.Wb(7,"td"),s.Qc(8),s.Vb(),s.Wb(9,"td"),s.Qc(10),s.lc(11,"joinState"),s.Vb(),s.Wb(12,"td"),s.Qc(13),s.Vb(),s.Wb(14,"td",18),s.Oc(15,w,2,8,"ng-template",null,19,s.Pc),s.Oc(17,k,1,0,"ng-container",20),s.Oc(18,L,1,0,"ng-container",20),s.Oc(19,A,2,1,"ng-container",17),s.Wb(20,"button",21),s.ic("click",(function(){s.Fc(t);const n=e.$implicit;return s.kc().openDeleteModal(n)})),s.Qc(21,"Delete"),s.Vb(),s.Oc(22,P,1,0,"ng-container",20),s.Vb(),s.Vb()}if(2&t){const t=e.$implicit,n=s.Cc(16),o=s.kc();s.sc("hidden",o.isStudentToHide(t.student.email)),s.Cb(2),s.sc("photoUrl",s.nc(3,18,t.student.email,o.courseId))("useViewPhotoBtn",!0),s.Cb(2),s.sc("ngIf",o.hasSection()),s.Cb(2),s.Rc(t.student.teamName),s.Cb(2),s.Rc(t.student.name),s.Cb(2),s.Rc(s.mc(11,21,t.student.joinState)),s.Cb(3),s.Rc(t.student.email),s.Cb(4),s.sc("ngTemplateOutlet",n)("ngTemplateOutletContext",s.xc(26,B,t.isAllowedToViewStudentInSection&&o.isActionButtonsEnabled,s.xc(23,W,o.courseId,t.student.email))),s.Cb(1),s.sc("ngTemplateOutlet",n)("ngTemplateOutletContext",s.yc(32,x,t.isAllowedToModifyStudent&&o.isActionButtonsEnabled,"Use this to edit the details of this student. To edit multiple students in one go, you can use the enroll page: Simply enroll students using the updated data and existing data will be updated accordingly",s.xc(29,W,o.courseId,t.student.email))),s.Cb(1),s.sc("ngIf",o.enableRemindButton),s.Cb(1),s.sc("ngClass",s.wc(36,N,!t.isAllowedToModifyStudent||!o.isActionButtonsEnabled))("ngbTooltip",t.isAllowedToModifyStudent&&o.isActionButtonsEnabled?"Delete the student and the corresponding submissions from the course":"You do not have the permissions to access this feature")("disabled",!o.isActionButtonsEnabled),s.Cb(2),s.sc("ngTemplateOutlet",n)("ngTemplateOutletContext",s.xc(41,F,o.isActionButtonsEnabled,s.xc(38,W,o.courseId,t.student.email)))}}const _=function(t,e){return{"thead-gray":t,"alert-primary font-weight-bold":e}};let U=(()=>{class t{constructor(t,e,n){this.statusMessageService=t,this.courseService=e,this.simpleModalService=n,this.courseId="",this.useGrayHeading=!0,this.listOfStudentsToHide=[],this.isHideTableHead=!1,this.enableRemindButton=!1,this.isActionButtonsEnabled=!0,this.students=[],this.tableSortBy=i.a.NONE,this.tableSortOrder=i.b.ASC,this.removeStudentFromCourseEvent=new s.n,this.sortStudentListEvent=new s.n,this.SortBy=i.a,this.SortOrder=i.b,this.JoinState=o.j}ngOnInit(){}hasSection(){return this.students.some(t=>"None"!==t.student.sectionName)}trackByFn(t,e){return e.student.email}openRemindModal(t){this.simpleModalService.openConfirmationModal("Send join request?",r.a.INFO,`Usually, there is no need to use this feature because TEAMMATES sends an automatic invite to students\n          at the opening time of each session. Send a join request to <strong>${t.student.email}</strong> anyway?`).result.then(()=>{this.remindStudentFromCourse(t.student.email)},()=>{})}openDeleteModal(t){this.simpleModalService.openConfirmationModal(`Delete student <strong>${t.student.name}</strong>?`,r.a.DANGER,`Are you sure you want to remove <strong>${t.student.name}</strong> from the course <strong>${this.courseId}?</strong>`).result.then(()=>{this.removeStudentFromCourse(t.student.email)},()=>{})}remindStudentFromCourse(t){this.courseService.remindStudentForJoin(this.courseId,t).subscribe(t=>{this.statusMessageService.showSuccessToast(t.message)},t=>{this.statusMessageService.showErrorToast(t.error.message)})}removeStudentFromCourse(t){this.removeStudentFromCourseEvent.emit(t)}isStudentToHide(t){return this.listOfStudentsToHide.indexOf(t)>-1}sortStudentList(t){this.sortStudentListEvent.emit(t)}}return t.\u0275fac=function(e){return new(e||t)(s.Qb(c.a),s.Qb(a.a),s.Qb(u.a))},t.\u0275cmp=s.Kb({type:t,selectors:[["tm-student-list"]],inputs:{courseId:"courseId",useGrayHeading:"useGrayHeading",listOfStudentsToHide:"listOfStudentsToHide",isHideTableHead:"isHideTableHead",enableRemindButton:"enableRemindButton",isActionButtonsEnabled:"isActionButtonsEnabled",students:"students",tableSortBy:"tableSortBy",tableSortOrder:"tableSortOrder"},outputs:{removeStudentFromCourseEvent:"removeStudentFromCourseEvent",sortStudentListEvent:"sortStudentListEvent"},decls:35,vars:16,consts:[[1,"table-responsive"],[1,"table","table-bordered","table-striped","m-0"],[3,"ngClass","hidden"],["class","sortable-header",3,"click",4,"ngIf"],[1,"sortable-header",3,"click"],[1,"fa-stack"],[1,"fas","fa-sort"],["class","fas fa-sort-down",4,"ngIf"],["class","fas fa-sort-up",4,"ngIf"],["id","sort-by-name",1,"sortable-header",3,"click"],["id","sort-by-status",1,"sortable-header",3,"click"],[1,"align-center"],["s","",3,"hidden",4,"ngFor","ngForOf","ngForTrackBy"],[1,"fas","fa-sort-down"],[1,"fas","fa-sort-up"],["s","",3,"hidden"],[3,"photoUrl","useViewPhotoBtn"],[4,"ngIf"],[1,"no-print","align-center"],["actionButton",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["id","btn-delete",1,"btn","btn-light","btn-sm","btn-margin-right",3,"ngClass","ngbTooltip","disabled","click"],["target","_blank","rel","noopener noreferrer",1,"btn","btn-light","btn-sm","btn-margin-right",3,"id","ngClass","ngbTooltip","tmRouterLink","queryParams"],["id","btn-send-invite",1,"btn","btn-light","btn-sm","btn-margin-right",3,"ngClass","disabled","ngbTooltip","click"]],template:function(t,e){1&t&&(s.Wb(0,"div",0),s.Wb(1,"table",1),s.Wb(2,"thead",2),s.Wb(3,"tr"),s.Wb(4,"th"),s.Qc(5,"Photo"),s.Vb(),s.Oc(6,S,6,2,"th",3),s.Wb(7,"th",4),s.ic("click",(function(){return e.sortStudentList(e.SortBy.TEAM_NAME)})),s.Qc(8," Team "),s.Wb(9,"span",5),s.Rb(10,"i",6),s.Oc(11,v,1,0,"i",7),s.Oc(12,y,1,0,"i",8),s.Vb(),s.Vb(),s.Wb(13,"th",9),s.ic("click",(function(){return e.sortStudentList(e.SortBy.RESPONDENT_NAME)})),s.Qc(14," Student Name "),s.Wb(15,"span",5),s.Rb(16,"i",6),s.Oc(17,O,1,0,"i",7),s.Oc(18,C,1,0,"i",8),s.Vb(),s.Vb(),s.Wb(19,"th",10),s.ic("click",(function(){return e.sortStudentList(e.SortBy.JOIN_STATUS)})),s.Qc(20," Status "),s.Wb(21,"span",5),s.Rb(22,"i",6),s.Oc(23,I,1,0,"i",7),s.Oc(24,E,1,0,"i",8),s.Vb(),s.Vb(),s.Wb(25,"th",4),s.ic("click",(function(){return e.sortStudentList(e.SortBy.RESPONDENT_EMAIL)})),s.Qc(26," Email "),s.Wb(27,"span",5),s.Rb(28,"i",6),s.Oc(29,T,1,0,"i",7),s.Oc(30,R,1,0,"i",8),s.Vb(),s.Vb(),s.Wb(31,"th",11),s.Qc(32,"Action(s)"),s.Vb(),s.Vb(),s.Vb(),s.Wb(33,"tbody"),s.Oc(34,Q,23,44,"tr",12),s.Vb(),s.Vb(),s.Vb()),2&t&&(s.Cb(2),s.sc("ngClass",s.xc(13,_,e.useGrayHeading,!e.useGrayHeading))("hidden",e.isHideTableHead),s.Cb(4),s.sc("ngIf",e.hasSection()),s.Cb(5),s.sc("ngIf",e.tableSortBy===e.SortBy.TEAM_NAME&&e.tableSortOrder===e.SortOrder.DESC),s.Cb(1),s.sc("ngIf",e.tableSortBy===e.SortBy.TEAM_NAME&&e.tableSortOrder===e.SortOrder.ASC),s.Cb(5),s.sc("ngIf",e.tableSortBy===e.SortBy.RESPONDENT_NAME&&e.tableSortOrder===e.SortOrder.DESC),s.Cb(1),s.sc("ngIf",e.tableSortBy===e.SortBy.RESPONDENT_NAME&&e.tableSortOrder===e.SortOrder.ASC),s.Cb(5),s.sc("ngIf",e.tableSortBy===e.SortBy.JOIN_STATUS&&e.tableSortOrder===e.SortOrder.DESC),s.Cb(1),s.sc("ngIf",e.tableSortBy===e.SortBy.JOIN_STATUS&&e.tableSortOrder===e.SortOrder.ASC),s.Cb(5),s.sc("ngIf",e.tableSortBy===e.SortBy.RESPONDENT_EMAIL&&e.tableSortOrder===e.SortOrder.DESC),s.Cb(1),s.sc("ngIf",e.tableSortBy===e.SortBy.RESPONDENT_EMAIL&&e.tableSortOrder===e.SortOrder.ASC),s.Cb(4),s.sc("ngForOf",e.students)("ngForTrackBy",e.trackByFn))},directives:[d.r,d.u,d.t,l.a,d.B,b.w,f.a],pipes:[m.a,p.a],styles:[".align-center[_ngcontent-%COMP%]{text-align:center}.table[_ngcontent-%COMP%]   .thead-gray[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#495057;background-color:#dadada}.mouse-hover-only[_ngcontent-%COMP%]{pointer-events:auto!important}.mouse-hover-only[_ngcontent-%COMP%]:active{pointer-events:none!important}.sortable-header[_ngcontent-%COMP%]{cursor:pointer}"]}),t})()},Babz:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var s=n("fXoL"),o=n("ofXK");function i(t,e){if(1&t){const t=s.Xb();s.Wb(0,"div",2),s.Wb(1,"p",3),s.Qc(2),s.Vb(),s.Wb(3,"button",4),s.ic("click",(function(){return s.Fc(t),s.kc().retryEvent.emit()})),s.Rb(4,"i",5),s.Qc(5,"\xa0Retry"),s.Vb(),s.Vb()}if(2&t){const t=s.kc();s.Cb(2),s.Rc(t.message)}}function r(t,e){1&t&&s.qc(0)}const c=["*"];let a=(()=>{class t{constructor(){this.message="",this.shouldShowRetry=!1,this.retryEvent=new s.n}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Kb({type:t,selectors:[["tm-loading-retry"]],inputs:{message:"message",shouldShowRetry:"shouldShowRetry"},outputs:{retryEvent:"retryEvent"},ngContentSelectors:c,decls:3,vars:2,consts:[["class","text-center",4,"ngIf","ngIfElse"],["content",""],[1,"text-center"],[1,"text-muted","m-1"],[1,"btn","btn-primary",3,"click"],["aria-hidden","true",1,"fas","fa-redo"]],template:function(t,e){if(1&t&&(s.rc(),s.Oc(0,i,6,1,"div",0),s.Oc(1,r,1,0,"ng-template",null,1,s.Pc)),2&t){const t=s.Cc(2);s.sc("ngIf",e.shouldShowRetry)("ngIfElse",t)}},directives:[o.u],styles:[""]}),t})()},ERjh:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var s=n("fXoL"),o=n("ofXK"),i=n("1kSV"),r=n("W872");function c(t,e){if(1&t){const t=s.Xb();s.Wb(0,"img",3),s.ic("error",(function(){return s.Fc(t),s.kc().missingPhotoEventHandler()})),s.Vb()}if(2&t){const t=s.kc();s.tc("src",t.photoUrl,s.Ic)}}function a(t,e){if(1&t){const t=s.Xb();s.Wb(0,"span",4,5),s.ic("click",(function(e){s.Fc(t);const n=s.Cc(1),o=s.kc();return n.open(),e.stopPropagation(),o.showPhotoEvent.emit()}))("mouseleave",(function(){return s.Fc(t),s.Cc(1).close()})),s.qc(2),s.Vb()}if(2&t){s.kc();const t=s.Cc(1);s.sc("ngbPopover",t)}}function u(t,e){if(1&t){const t=s.Xb();s.Wb(0,"a",8),s.ic("click",(function(e){return s.Fc(t),s.kc(2).isPhotoShown=!0,e.stopPropagation()})),s.Qc(1," View Photo "),s.Vb()}}function d(t,e){if(1&t){const t=s.Xb();s.Wb(0,"img",9),s.ic("error",(function(){return s.Fc(t),s.kc(2).missingPhotoEventHandler()})),s.Vb()}if(2&t){const t=s.kc(2),e=s.Cc(1);s.tc("src",t.photoUrl,s.Ic),s.sc("ngbPopover",e)}}function l(t,e){if(1&t&&(s.Oc(0,u,2,0,"a",6),s.Oc(1,d,1,2,"img",7)),2&t){const t=s.kc();s.sc("ngIf",!t.isPhotoShown),s.Cb(1),s.sc("ngIf",t.useViewPhotoBtn&&t.isPhotoShown)}}const b=["*"];let f=(()=>{class t{constructor(){this.photoUrl="",this.useViewPhotoBtn=!1,this.showPhotoEvent=new s.n,this.isPhotoShown=!1}ngOnInit(){}missingPhotoEventHandler(){this.photoUrl="/assets/images/profile_picture_default.png"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Kb({type:t,selectors:[["tm-view-photo-popover"]],inputs:{photoUrl:"photoUrl",useViewPhotoBtn:"useViewPhotoBtn"},outputs:{showPhotoEvent:"showPhotoEvent"},ngContentSelectors:b,decls:5,vars:2,consts:[["popContent",""],["triggers","manual",3,"ngbPopover","click","mouseleave",4,"ngIf","ngIfElse"],["viewPhotoBtn",""],[1,"profile-pic",3,"src","error"],["triggers","manual",3,"ngbPopover","click","mouseleave"],["p","ngbPopover"],["role","button","queryParamsHandling","preserve",3,"tmRouterLink","click",4,"ngIf"],["class","profile-pic-icon","triggers","mouseenter:mouseleave",3,"src","ngbPopover","error",4,"ngIf"],["role","button","queryParamsHandling","preserve",3,"tmRouterLink","click"],["triggers","mouseenter:mouseleave",1,"profile-pic-icon",3,"src","ngbPopover","error"]],template:function(t,e){if(1&t&&(s.rc(),s.Oc(0,c,1,1,"ng-template",null,0,s.Pc),s.Oc(2,a,3,1,"span",1),s.Oc(3,l,2,2,"ng-template",null,2,s.Pc)),2&t){const t=s.Cc(4);s.Cb(2),s.sc("ngIf",!e.useViewPhotoBtn)("ngIfElse",t)}},directives:[o.u,i.o,r.a],styles:["img.profile-pic-icon[_ngcontent-%COMP%]{height:40px;width:40px}.profile-pic[_ngcontent-%COMP%]{height:130px;width:130px}"]}),t})()},JUCI:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var s=n("R0Ic");const o=Object(s.j)("collapseAnim",[Object(s.i)(":leave",[Object(s.h)({height:"*",overflow:"hidden"}),Object(s.e)("300ms ease-in-out",Object(s.h)({height:0,opacity:0}))]),Object(s.i)(":enter",[Object(s.h)({height:"0",overflow:"hidden"}),Object(s.e)("300ms ease-in-out",Object(s.h)({height:"*",opacity:1}))])])},RPsU:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var s=n("ofXK"),o=n("fXoL");let i=(()=>{class t{}return t.\u0275mod=o.Ob({type:t}),t.\u0275inj=o.Nb({factory:function(e){return new(e||t)},imports:[[s.c]]}),t})()},RxRF:function(t,e,n){"use strict";n.r(e),n.d(e,"InstructorStudentListPageModule",(function(){return x}));var s=n("ofXK"),o=n("3Pt+"),i=n("tyNb"),r=n("1kSV"),c=n("mYbV"),a=n("aSpy"),u=n("RPsU"),d=n("n94H"),l=n("TOej"),b=n("nYR2"),f=n("p6cw"),m=n("6NZ/"),p=n("JUCI"),h=n("fXoL"),g=n("++8I"),S=n("vKUq"),v=n("iRmZ"),y=n("Uqoa"),O=n("I8MS"),C=n("W872"),I=n("Babz"),E=n("Lcal"),T=n("zAMY"),R=n("0zMG");function M(t,e){1&t&&h.Rb(0,"div")}function N(t,e){if(1&t&&(h.Wb(0,"div",17),h.Wb(1,"div",5),h.Wb(2,"div",18),h.Wb(3,"h3",19),h.Qc(4),h.Vb(),h.Wb(5,"h4",20),h.Qc(6," students"),h.Vb(),h.Vb(),h.Vb(),h.Wb(7,"div",5),h.Wb(8,"div",21),h.Wb(9,"h3",19),h.Qc(10),h.Vb(),h.Wb(11,"h4",20),h.Qc(12," sections"),h.Vb(),h.Vb(),h.Vb(),h.Wb(13,"div",5),h.Wb(14,"div",22),h.Wb(15,"h3",19),h.Qc(16),h.Vb(),h.Wb(17,"h4",20),h.Qc(18," teams"),h.Vb(),h.Vb(),h.Vb(),h.Vb()),2&t){const t=h.kc(5).$implicit;h.Cb(4),h.Rc(t.stats.numOfStudents),h.Cb(6),h.Rc(t.stats.numOfSections),h.Cb(6),h.Rc(t.stats.numOfTeams)}}const w=function(t){return{courseid:t}};function k(t,e){if(1&t){const t=h.Xb();h.Ub(0),h.Oc(1,N,19,3,"div",14),h.Rb(2,"hr"),h.Wb(3,"a",15),h.Qc(4," Enroll Students "),h.Vb(),h.Rb(5,"br"),h.Rb(6,"br"),h.Wb(7,"tm-student-list",16),h.ic("sortStudentListEvent",(function(e){h.Fc(t);const n=h.kc(4).$implicit;return h.kc().sortStudentList(n,e)}))("removeStudentFromCourseEvent",(function(e){h.Fc(t);const n=h.kc(4).$implicit;return h.kc().removeStudentFromCourse(n,e)})),h.Vb(),h.Tb()}if(2&t){const t=h.kc(4).$implicit;h.Cb(1),h.sc("ngIf",t.stats),h.Cb(2),h.sc("queryParams",h.wc(8,w,t.course.courseId)),h.Cb(4),h.sc("courseId",t.course.courseId)("students",t.studentList)("tableSortBy",t.studentSortBy)("tableSortOrder",t.studentSortOrder)("useGrayHeading",!1)("enableRemindButton",!0)}}function L(t,e){if(1&t&&(h.Wb(0,"div",12),h.Oc(1,k,8,10,"ng-container",13),h.Vb()),2&t){const t=h.kc(3).$implicit,e=h.Cc(9);h.Cb(1),h.sc("ngIf",t.hasStudentLoaded&&t.stats.numOfStudents>0)("ngIfElse",e)}}function V(t,e){if(1&t&&(h.Wb(0,"div"),h.Oc(1,L,2,2,"div",11),h.Vb()),2&t){const t=h.kc(2).$implicit;h.Cb(1),h.sc("ngIf",!t.hasLoadingFailed)}}function A(t,e){if(1&t){const t=h.Xb();h.Wb(0,"div"),h.Wb(1,"tm-loading-retry",1),h.ic("retryEvent",(function(){h.Fc(t);const e=h.kc().$implicit;return h.kc().loadStudents(e)})),h.Oc(2,V,2,1,"div",2),h.Vb(),h.Vb()}if(2&t){const t=h.kc().$implicit;h.sc("@collapseAnim",void 0),h.Cb(1),h.sc("shouldShowRetry",t.hasLoadingFailed)("message","Failed to load students"),h.Cb(1),h.sc("tmIsLoading",!t.hasStudentLoaded)}}function P(t,e){if(1&t&&(h.Wb(0,"h5"),h.Qc(1,"There are no students in this course."),h.Vb(),h.Wb(2,"a",15),h.Qc(3," Enroll Students "),h.Vb()),2&t){const t=h.kc().$implicit;h.Cb(2),h.sc("queryParams",h.wc(1,w,t.course.courseId))}}function W(t,e){if(1&t){const t=h.Xb();h.Wb(0,"div",4),h.Wb(1,"div",5),h.Wb(2,"div",6),h.ic("click",(function(){h.Fc(t);const n=e.$implicit;return h.kc().toggleCard(n)})),h.Wb(3,"strong"),h.Qc(4),h.Vb(),h.Wb(5,"div",7),h.Rb(6,"tm-panel-chevron",8),h.Vb(),h.Vb(),h.Oc(7,A,3,4,"div",9),h.Oc(8,P,4,3,"ng-template",null,10,h.Pc),h.Vb(),h.Vb()}if(2&t){const t=e.$implicit;h.Cb(4),h.Tc("[",t.course.courseId,"]: ",t.course.courseName,""),h.Cb(2),h.sc("isExpanded",t.hasTabExpanded),h.Cb(1),h.sc("ngIf",t.hasTabExpanded)}}const B=[{path:"",component:(()=>{class t{constructor(t,e,n,s,o){this.instructorService=t,this.courseService=e,this.studentService=n,this.statusMessageService=s,this.tableComparatorService=o,this.courseTabList=[],this.hasLoadingFailed=!1,this.isLoadingCourses=!1}ngOnInit(){this.loadCourses()}loadCourses(){this.hasLoadingFailed=!1,this.isLoadingCourses=!0,this.courseService.getAllCoursesAsInstructor("active").pipe(Object(b.a)(()=>this.isLoadingCourses=!1)).subscribe(t=>{t.courses.forEach(t=>{this.courseTabList.push({course:t,studentList:[],studentSortBy:f.a.NONE,studentSortOrder:f.b.ASC,hasTabExpanded:!1,hasStudentLoaded:!1,hasLoadingFailed:!1,stats:{numOfSections:0,numOfStudents:0,numOfTeams:0}})})},t=>{this.courseTabList=[],this.hasLoadingFailed=!0,this.statusMessageService.showErrorToast(t.error.message)},()=>this.sortCourses())}toggleCard(t){t.hasTabExpanded=!t.hasTabExpanded,t.hasStudentLoaded||this.loadStudents(t)}loadStudents(t){t.hasLoadingFailed=!1,t.hasStudentLoaded=!1,this.studentService.getStudentsFromCourse({courseId:t.course.courseId}).pipe(Object(b.a)(()=>t.hasStudentLoaded=!0)).subscribe(e=>{t.studentList=[];const n=e.students.reduce((t,e)=>{const n=e.sectionName;return(t[n]=t[n]||[]).push(e),t},{});Object.keys(n).forEach(e=>{const s=n[e].map(t=>({student:t,isAllowedToModifyStudent:!1,isAllowedToViewStudentInSection:!1}));this.loadPrivilege(t,e,s)}),t.stats=this.courseService.calculateCourseStatistics(e.students)},e=>{t.hasLoadingFailed=!0,t.studentList=[],this.statusMessageService.showErrorToast(e.error.message)})}loadPrivilege(t,e,n){this.instructorService.loadInstructorPrivilege({sectionName:e,courseId:t.course.courseId}).subscribe(s=>{n.forEach(t=>{t.student.sectionName===e&&(t.isAllowedToViewStudentInSection=s.canViewStudentInSections,t.isAllowedToModifyStudent=s.canModifyStudent)}),t.studentList.push(...n),t.studentList.sort(this.sortStudentBy(f.a.NONE,f.b.ASC))},e=>{t.hasLoadingFailed=!0,t.studentList=[],this.statusMessageService.showErrorToast(e.error.message)})}removeStudentFromCourse(t,e){this.courseService.removeStudentFromCourse(t.course.courseId,e).subscribe(()=>{t.studentList=t.studentList.filter(t=>t.student.email!==e);const n=t.studentList.map(t=>t.student);t.stats=this.courseService.calculateCourseStatistics(n),this.statusMessageService.showSuccessToast(`Student is successfully deleted from course "${t.course.courseId}"`)},t=>{this.statusMessageService.showErrorToast(t.error.message)})}sortCourses(){this.courseTabList.sort((t,e)=>this.tableComparatorService.compare(f.a.COURSE_ID,f.b.ASC,t.course.courseId,e.course.courseId))}sortStudentList(t,e){t.studentSortBy=e,t.studentSortOrder=t.studentSortOrder===f.b.DESC?f.b.ASC:f.b.DESC,t.studentList.sort(this.sortStudentBy(e,t.studentSortOrder))}sortStudentBy(t,e){const n=new m.a;return t===f.a.NONE?(t,n)=>this.tableComparatorService.compare(f.a.SECTION_NAME,e,t.student.sectionName,n.student.sectionName)||this.tableComparatorService.compare(f.a.TEAM_NAME,e,t.student.teamName,n.student.teamName)||this.tableComparatorService.compare(f.a.RESPONDENT_NAME,e,t.student.name,n.student.name):(s,o)=>{let i,r;switch(t){case f.a.SECTION_NAME:i=s.student.sectionName,r=o.student.sectionName;break;case f.a.RESPONDENT_NAME:i=s.student.name,r=o.student.name;break;case f.a.TEAM_NAME:i=s.student.teamName,r=o.student.teamName;break;case f.a.RESPONDENT_EMAIL:i=s.student.email,r=o.student.email;break;case f.a.JOIN_STATUS:i=n.transform(s.student.joinState),r=n.transform(o.student.joinState);break;default:i="",r=""}return this.tableComparatorService.compare(t,e,i,r)}}}return t.\u0275fac=function(e){return new(e||t)(h.Qb(g.a),h.Qb(S.a),h.Qb(v.a),h.Qb(y.a),h.Qb(O.a))},t.\u0275cmp=h.Kb({type:t,selectors:[["tm-instructor-student-list-page"]],decls:12,vars:4,consts:[["tmRouterLink","/web/instructor/search"],[3,"shouldShowRetry","message","retryEvent"],[4,"tmIsLoading"],["class","course-table",4,"ngFor","ngForOf"],[1,"course-table"],[1,"card"],[1,"card-header","cursor-pointer","bg-primary","text-white",3,"click"],[1,"card-header-btn-toolbar"],[3,"isExpanded"],[4,"ngIf"],["noStudentsTemplate",""],["class","card-body",4,"ngIf"],[1,"card-body"],[4,"ngIf","ngIfElse"],["class","card-deck text-center text-sm-left",4,"ngIf"],["id","btn-enroll","tmRouterLink","/web/instructor/courses/enroll",1,"btn","btn-success",3,"queryParams"],[3,"courseId","students","tableSortBy","tableSortOrder","useGrayHeading","enableRemindButton","sortStudentListEvent","removeStudentFromCourseEvent"],[1,"card-deck","text-center","text-sm-left"],["id","num-students",1,"card-body"],[1,"card-title","inline"],[1,"card-text","inline"],["id","num-sections",1,"card-body"],["id","num-teams",1,"card-body"]],template:function(t,e){1&t&&(h.Wb(0,"h1"),h.Qc(1,"Student List"),h.Vb(),h.Wb(2,"p"),h.Qc(3," This page gives the student details for all your courses. Expand the cards below to view your students. Use the "),h.Wb(4,"a",0),h.Qc(5,"search function"),h.Vb(),h.Qc(6," if you need to filter for a specific student.\n"),h.Vb(),h.Rb(7,"hr"),h.Wb(8,"tm-loading-retry",1),h.ic("retryEvent",(function(){return e.loadCourses()})),h.Oc(9,M,1,0,"div",2),h.Ub(10),h.Oc(11,W,10,4,"div",3),h.Tb(),h.Vb()),2&t&&(h.Cb(8),h.sc("shouldShowRetry",e.hasLoadingFailed)("message","Failed to load courses"),h.Cb(1),h.sc("tmIsLoading",e.isLoadingCourses),h.Cb(2),h.sc("ngForOf",e.courseTabList))},directives:[C.a,I.a,E.a,s.t,T.a,s.u,R.a],styles:[".course-card-statistic-text[_ngcontent-%COMP%]{text-align:right;padding-top:10px}.inline[_ngcontent-%COMP%]{display:inline}"],data:{animation:[p.a]}}),t})()}];let x=(()=>{class t{}return t.\u0275mod=h.Ob({type:t}),t.\u0275inj=h.Nb({factory:function(e){return new(e||t)},imports:[[s.c,o.j,i.h.forChild(B),d.a,r.d,a.a,c.a,u.a,l.a]]}),t})()},VKKU:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var s=n("dOUP"),o=n("fXoL");let i=(()=>{class t{transform(t,e){return`${s.a.backendUrl}/webapi/student/profilePic?courseid=${e}&studentemail=${t}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=o.Pb({name:"formatPhotoUrl",type:t,pure:!0}),t})()},ax2R:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var s=n("XNiG"),o=n("fXoL");let i=(()=>{class t{constructor(){this.progressPercentage=new s.a}updateProgress(t){this.progressPercentage.next(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},eQqG:function(t,e,n){"use strict";n.d(e,"a",(function(){return O}));var s=n("fXoL"),o=n("/Tzu"),i=n("1kSV"),r=n("ofXK"),c=n("ax2R");let a=(()=>{class t{constructor(t){this.progressBarService=t,this.progressPercentage=0}ngOnInit(){this.getProgress()}getProgress(){this.progressBarService.progressPercentage.subscribe(t=>{this.progressPercentage=t})}}return t.\u0275fac=function(e){return new(e||t)(s.Qb(c.a))},t.\u0275cmp=s.Kb({type:t,selectors:[["tm-progress-bar"]],decls:2,vars:3,consts:[["type","info","height","26px","showValue","true",3,"value","striped","animated"]],template:function(t,e){1&t&&(s.Wb(0,"div"),s.Rb(1,"ngb-progressbar",0),s.Vb()),2&t&&(s.Cb(1),s.sc("value",e.progressPercentage)("striped",!0)("animated",!0))},directives:[i.q],encapsulation:2}),t})();function u(t,e){1&t&&s.Rb(0,"i",16)}function d(t,e){1&t&&s.Rb(0,"i",17)}function l(t,e){1&t&&s.Rb(0,"i",18)}function b(t,e){1&t&&s.Sb(0)}function f(t,e){if(1&t&&(s.Wb(0,"div"),s.Oc(1,b,1,0,"ng-container",19),s.Vb()),2&t){const t=s.kc();s.Cb(1),s.sc("ngTemplateOutlet",t.content)}}function m(t,e){if(1&t&&s.Rb(0,"div",20),2&t){const t=s.kc();s.sc("innerHTML",t.content,s.Gc)}}function p(t,e){1&t&&(s.Wb(0,"div",21),s.Rb(1,"tm-progress-bar"),s.Vb())}function h(t,e){if(1&t){const t=s.Xb();s.Wb(0,"button",22),s.ic("click",(function(){return s.Fc(t),s.kc().activeModal.dismiss()})),s.Qc(1),s.Vb()}if(2&t){const t=s.kc();s.Cb(1),s.Sc(" ",t.cancelMessage," ")}}const g=function(t){return{"display-none":t}},S=function(t,e,n,s){return{"alert-danger":t,"alert-warning":e,"alert-info":n,"bg-white":s}},v=function(t,e,n,s){return{"btn-danger":t,"btn-warning":e,"btn-info":n,"btn-primary":s}};let y=(()=>{class t{constructor(t){this.activeModal=t,this.SimpleModalType=o.a,this.header="",this.content="",this.type=o.a.NEUTRAL,this.isInformationOnly=!1,this.confirmMessage="Yes",this.cancelMessage="No, cancel the operation"}get isTemplate(){return this.content instanceof s.L}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(s.Qb(i.a))},t.\u0275cmp=s.Kb({type:t,selectors:[["tm-confirmation-modal"]],inputs:{header:"header",content:"content",type:"type",isInformationOnly:"isInformationOnly",confirmMessage:"confirmMessage",cancelMessage:"cancelMessage"},decls:18,vars:24,consts:[[1,"transparent-overlay",3,"ngClass"],[1,"modal-header",3,"ngClass"],[1,"modal-title"],["class","fas fa-times-circle",4,"ngIf"],["class","fas fa-exclamation-circle",4,"ngIf"],["class","fas fa-info-circle",4,"ngIf"],[1,"margin-left-5px",3,"innerHTML"],["type","button",1,"close",3,"click"],[1,"fas","fa-times"],[1,"modal-body"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],["class","progress-bar-container",4,"ngIf"],[1,"modal-footer"],["type","button","class","btn btn-light modal-btn-cancel",3,"click",4,"ngIf"],["type","button",1,"btn","modal-btn-ok","z-index-1",3,"ngClass","click"],[1,"fas","fa-times-circle"],[1,"fas","fa-exclamation-circle"],[1,"fas","fa-info-circle"],[4,"ngTemplateOutlet"],[3,"innerHTML"],[1,"progress-bar-container"],["type","button",1,"btn","btn-light","modal-btn-cancel",3,"click"]],template:function(t,e){1&t&&(s.Rb(0,"div",0),s.Wb(1,"div",1),s.Wb(2,"div"),s.Wb(3,"h5",2),s.Oc(4,u,1,0,"i",3),s.Oc(5,d,1,0,"i",4),s.Oc(6,l,1,0,"i",5),s.Rb(7,"span",6),s.Vb(),s.Vb(),s.Wb(8,"button",7),s.ic("click",(function(){return e.type===e.SimpleModalType.LOAD?e.activeModal.close():e.activeModal.dismiss()})),s.Rb(9,"i",8),s.Vb(),s.Vb(),s.Wb(10,"div",9),s.Oc(11,f,2,1,"div",10),s.Oc(12,m,1,1,"div",11),s.Oc(13,p,2,0,"div",12),s.Vb(),s.Wb(14,"div",13),s.Oc(15,h,2,1,"button",14),s.Wb(16,"button",15),s.ic("click",(function(){return e.activeModal.close()})),s.Qc(17),s.Vb(),s.Vb()),2&t&&(s.sc("ngClass",s.wc(12,g,e.type!==e.SimpleModalType.LOAD)),s.Cb(1),s.sc("ngClass",s.zc(14,S,e.type===e.SimpleModalType.DANGER,e.type===e.SimpleModalType.WARNING,e.type===e.SimpleModalType.INFO||e.type===e.SimpleModalType.LOAD,e.type===e.SimpleModalType.NEUTRAL)),s.Cb(3),s.sc("ngIf",e.type===e.SimpleModalType.DANGER),s.Cb(1),s.sc("ngIf",e.type===e.SimpleModalType.WARNING),s.Cb(1),s.sc("ngIf",e.type===e.SimpleModalType.INFO||e.type===e.SimpleModalType.LOAD),s.Cb(1),s.sc("innerHTML",e.header,s.Gc),s.Cb(4),s.sc("ngIf",e.isTemplate),s.Cb(1),s.sc("ngIf",!e.isTemplate),s.Cb(1),s.sc("ngIf",e.type===e.SimpleModalType.LOAD),s.Cb(2),s.sc("ngIf",!e.isInformationOnly),s.Cb(1),s.sc("ngClass",s.zc(19,v,e.type===e.SimpleModalType.DANGER||e.type===e.SimpleModalType.LOAD,e.type===e.SimpleModalType.WARNING,e.type===e.SimpleModalType.INFO,e.type===e.SimpleModalType.NEUTRAL)),s.Cb(1),s.Rc(e.confirmMessage))},directives:[r.r,r.u,r.B,a],styles:[".margin-left-5px[_ngcontent-%COMP%]{margin-left:5px}.progress-bar-container[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:2px}.transparent-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;visibility:false;z-index:0}.display-none[_ngcontent-%COMP%]{display:none}.z-index-1[_ngcontent-%COMP%]{z-index:1}"]}),t})(),O=(()=>{class t{constructor(t){this.ngbModal=t}open(t,e,n,s){const o=this.ngbModal.open(y);return o.componentInstance.header=t,o.componentInstance.content=n,o.componentInstance.type=e,s&&Object.entries(s).map(([t,e])=>{o.componentInstance[t]=e}),o}openConfirmationModal(t,e,n,s){const o=Object.assign({isInformationOnly:!1,confirmMessage:"Yes",cancelMessage:"No, cancel the operation"},s);return this.open(t,e,n,o)}openInformationModal(t,e,n,s){const o=Object.assign({isInformationOnly:!0,confirmMessage:"OK"},s);return this.open(t,e,n,o)}openLoadingModal(t,e,n,s){const o=Object.assign({isInformationOnly:!0,confirmMessage:"Abort"},s);return this.open(t,e,n,o)}}return t.\u0275fac=function(e){return new(e||t)(s.ec(i.m))},t.\u0275prov=s.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},mYbV:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var s=n("ofXK"),o=n("fXoL");let i=(()=>{class t{}return t.\u0275mod=o.Ob({type:t}),t.\u0275inj=o.Nb({factory:function(e){return new(e||t)},imports:[[s.c]]}),t})()},n94H:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var s=n("ofXK"),o=n("tyNb"),i=n("1kSV"),r=n("SEFB"),c=n("TOej"),a=n("fXoL");let u=(()=>{class t{}return t.\u0275mod=a.Ob({type:t}),t.\u0275inj=a.Nb({factory:function(e){return new(e||t)},imports:[[s.c,i.y,o.h,r.a,c.a]]}),t})()},zAMY:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var s=n("fXoL"),o=n("ofXK");function i(t,e){1&t&&s.Rb(0,"i",3)}function r(t,e){1&t&&s.Rb(0,"i",4)}let c=(()=>{class t{constructor(){this.isExpanded=!1}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Kb({type:t,selectors:[["tm-panel-chevron"]],inputs:{isExpanded:"isExpanded"},decls:3,vars:2,consts:[[1,"chevron"],["class","fas fa-chevron-down",4,"ngIf"],["class","fas fa-chevron-up",4,"ngIf"],[1,"fas","fa-chevron-down"],[1,"fas","fa-chevron-up"]],template:function(t,e){1&t&&(s.Wb(0,"div",0),s.Oc(1,i,1,0,"i",1),s.Oc(2,r,1,0,"i",2),s.Vb()),2&t&&(s.Cb(1),s.sc("ngIf",!e.isExpanded),s.Cb(1),s.sc("ngIf",e.isExpanded))},directives:[o.u],styles:[".chevron[_ngcontent-%COMP%]{display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle}"]}),t})()}}]);