!function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=92)}({0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={SUCCESS:"success",INFO:"info",WARNING:"warning",DANGER:"danger",PRIMARY:"primary",isValidType:function(e){return e===i.SUCCESS||e===i.INFO||e===i.PRIMARY||e===i.WARNING||e===i.DANGER}};i.DEFAULT=i.INFO;var o={COURSE_ID:"courseid",COURSE_NAME:"coursename",COURSE_TIME_ZONE:"coursetimezone",FEEDBACK_SESSION_NAME:"fsname",FEEDBACK_SESSION_STARTDATE:"startdate",FEEDBACK_SESSION_STARTTIME:"starttime",FEEDBACK_SESSION_TIMEZONE:"timezone",FEEDBACK_SESSION_VISIBLEDATE:"visibledate",FEEDBACK_SESSION_VISIBLETIME:"visibletime",FEEDBACK_SESSION_PUBLISHDATE:"publishdate",FEEDBACK_SESSION_PUBLISHTIME:"publishtime",FEEDBACK_SESSION_SESSIONVISIBLEBUTTON:"sessionVisibleFromButton",FEEDBACK_SESSION_RESULTSVISIBLEBUTTON:"resultsVisibleFromButton",FEEDBACK_QUESTION_CONSTSUMOPTION:"constSumOption",FEEDBACK_QUESTION_CONSTSUMOPTIONTABLE:"constSumOptionTable",FEEDBACK_QUESTION_CONSTSUMPOINTS:"constSumPoints",FEEDBACK_QUESTION_CONSTSUMPOINTSFOREACHOPTION:"constSumPointsForEachOption",FEEDBACK_QUESTION_CONSTSUMPOINTSFOREACHRECIPIENT:"constSumPointsForEachRecipient",FEEDBACK_QUESTION_CONSTSUMTORECIPIENTS:"constSumToRecipients",FEEDBACK_QUESTION_MCQCHOICE:"mcqOption",FEEDBACK_QUESTION_MSQCHOICE:"msqOption",FEEDBACK_QUESTION_NUMBEROFCHOICECREATED:"noofchoicecreated",FEEDBACK_QUESTION_NUMSCALE_MIN:"numscalemin",FEEDBACK_QUESTION_NUMSCALE_MAX:"numscalemax",FEEDBACK_QUESTION_NUMSCALE_STEP:"numscalestep",FEEDBACK_QUESTION_RANKOPTION:"rankOption",FEEDBACK_QUESTION_RANKOPTIONTABLE:"rankOptionTable",FEEDBACK_QUESTION_RANKTORECIPIENTS:"rankToRecipients",FEEDBACK_QUESTION_SHOWRESPONSESTO:"showresponsesto",FEEDBACK_QUESTION_SHOWGIVERTO:"showgiverto",FEEDBACK_QUESTION_SHOWRECIPIENTTO:"showrecipientto",FEEDBACK_QUESTION_TEXT:"questiontext",FEEDBACK_QUESTION_TYPE:"questiontype",FEEDBACK_QUESTION_EDITTEXT:"questionedittext",FEEDBACK_QUESTION_EDITTYPE:"questionedittype",FEEDBACK_QUESTION_NUMBEROFENTITIESTYPE:"numofrecipientstype",FEEDBACK_QUESTION_RECIPIENTTYPE:"recipienttype",FEEDBACK_QUESTION_DESCRIPTION:"questiondescription",FEEDBACK_QUESTION_DISCARDCHANGES:"questiondiscardchanges",FEEDBACK_QUESTION_SAVECHANGESTEXT:"questionsavechangestext",FEEDBACK_SESSION_ENABLE_EDIT:"editsessiondetails"},a={ModalDialog:{UNREGISTERED_STUDENT:{header:"Register for TEAMMATES",text:"You have to register using a google account in order to access this page. Would you like to proceed and register?"}},StatusMessages:{INSTRUCTOR_DETAILS_LENGTH_INVALID:"Instructor Details must have 3 columns"}};t.Const=a,t.ParamsNames=o,t.StatusType=i},1:function(e,t,n){"use strict";function i(){return("ontouchstart"in window||window.DocumentTouch)&&document instanceof window.DocumentTouch}var o=n(3);String.prototype.includes||(String.prototype.includes=function(e,t){var n="number"==typeof t?t:0;return!(n+e.length>this.length)&&-1!==this.indexOf(e,n)}),$(document).on("click",".toggle-sort",function(e){var t=$(e.currentTarget),n=t.data("toggle-sort-comparator"),i=t.data("toggle-sort-extractor");(0,o.toggleSort)(t,n,i)}),$(document).on("ajaxComplete ready",function(){var e=$('[data-toggle="tooltip"]');e.tooltip({html:!0,container:"body"}),i()&&e.tooltip("disable"),$('span[data-toggle="tooltip"]').each(function(){$(this).text().replace(/\s/g,"")&&$(this).addClass("tool-tip-decorate")})})},10:function(e,t,n){"use strict";function i(e){""===e.getContent()?tinymce.DOM.addClass(e.bodyElement,"empty"):tinymce.DOM.removeClass(e.bodyElement,"empty")}function o(e){tinymce.DOM.addClass(e.bodyElement,"content-editor"),i(e),e.on("selectionchange",function(){i(e)})}function a(e){if("undefined"!=typeof tinymce){var t=tinymce.get(e);t&&t.destroy()}}Object.defineProperty(t,"__esModule",{value:!0});var s={getDefaultConfiguration:function(){return{theme:"modern",fontsize_formats:"8pt 9pt 10pt 11pt 12pt 14pt 16pt 18pt 20pt 24pt 26pt 28pt 36pt 48pt 72pt",font_formats:"Andale Mono=andale mono,times;Arial=arial,helvetica,sans-serif;Arial Black=arial black,avant garde;Book Antiqua=book antiqua,palatino;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier;Georgia=georgia,palatino;Helvetica=helvetica;Impact=impact,chicago;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco;Times New Roman=times new roman,times;Trebuchet MS=trebuchet ms,geneva;Verdana=verdana,geneva;Webdings=webdings;Wingdings=wingdings,zapf dingbats",relative_urls:!1,convert_urls:!1,remove_linebreaks:!1,plugins:["advlist autolink lists link image charmap print preview hr anchor pagebreak","searchreplace wordcount visualblocks visualchars code fullscreen","insertdatetime nonbreaking save table contextmenu directionality","emoticons template paste textcolor colorpicker textpattern"],toolbar1:"insertfile undo redo | styleselect | bold italic underline | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image",toolbar2:"print preview | forecolor backcolor | fontsizeselect fontselect | emoticons | fullscreen",init_instance_callback:"initEditorCallback"}},initEditor:function(e,t){tinymce.init($.extend(this.getDefaultConfiguration(),{selector:e},t))}};window.initEditorCallback=o,t.destroyEditor=a,t.richTextEditorBuilder=s},12:function(e,t,n){"use strict";function i(e){for(var t=document.cookie.split("; ").map(function(e){return e.split("=")}),n=0;n<t.length;n+=1){var i=t[n][0],o=t[n][1];if(i===e)return o}return null}function o(){return"token="+i("token")}Object.defineProperty(t,"__esModule",{value:!0}),t.makeCsrfTokenParam=o},16:function(e,t,n){"use strict";function i(e){$.each(e,function(e,t){t.on("click",function(){t.prop("disabled")||t.datepicker("show")})})}function o(e,t){return null===t||void 0===t?e:e>t?t:e}function a(e){return e}function s(){var e=new Date,t=new Date;t.setDate(t.getDate()-1);var n=new Date;n.setDate(n.getDate()+1),$("#startdate").datepicker({dateFormat:"dd/mm/yy",showOtherMonths:!0,gotoCurrent:!0,defaultDate:e,onSelect:function(){var e=o($("#startdate").datepicker("getDate"),$("#publishdate").datepicker("getDate"));$("#visibledate").datepicker("option","maxDate",e);var t=a($("#visibledate").datepicker("getDate"));$("#publishdate").datepicker("option","minDate",t)}}),$("#enddate").datepicker({dateFormat:"dd/mm/yy",showOtherMonths:!0,gotoCurrent:!0,defaultDate:n}),$("#visibledate").datepicker({dateFormat:"dd/mm/yy",showOtherMonths:!0,gotoCurrent:!0,defaultDate:t,maxDate:e,onSelect:function(){var e=a($("#visibledate").datepicker("getDate"));$("#publishdate").datepicker("option","minDate",e)}}),$("#publishdate").datepicker({dateFormat:"dd/mm/yy",showOtherMonths:!0,gotoCurrent:!0,defaultDate:n,onSelect:function(){var e=o($("#startdate").datepicker("getDate"),$("#publishdate").datepicker("getDate"));$("#visibledate").datepicker("option","maxDate",e)}}),i([$("#startdate"),$("#enddate"),$("#visibledate"),$("#publishdate")])}Object.defineProperty(t,"__esModule",{value:!0}),t.getMaxDateForVisibleDate=o,t.getMinDateForPublishDate=a,t.prepareDatepickers=s,t.triggerDatepickerOnClick=i},18:function(e,t,n){"use strict";function i(){$("#uncommonSettingsSessionResponsesVisibleInfoText").html("Session is visible at submission opening time, responses are only visible when you publish the results.")}function o(){$("#uncommonSettingsSendEmailsInfoText").html("Emails are sent when session opens (within 15 mins), 24 hrs before session closes and when results are published.")}function a(){i(),o()}function s(){return $("#sessionVisibleFromButton_atopen").prop("checked")&&$("#resultsVisibleFromButton_later").prop("checked")}function r(){return $("#sendreminderemail_open").prop("checked")&&$("#sendreminderemail_closing").prop("checked")&&$("#sendreminderemail_published").prop("checked")}function c(){var e=$("#sessionResponsesVisiblePanel");$("#uncommonSettingsSessionResponsesVisible").after(e),e.show(),$("#uncommonSettingsSessionResponsesVisibleInfoText").parent().hide()}function l(){var e=$("#sendEmailsForPanel");$("#uncommonSettingsSendEmails").after(e),e.show(),$("#uncommonSettingsSendEmailsInfoText").parent().hide()}function u(){s()||c(),r()||l()}function d(){$("#editUncommonSettingsSessionResponsesVisibleButton").click(c),$("#editUncommonSettingsSendEmailsButton").click(l)}function p(e,t){$("#"+e).prop("disabled",t),$("#"+e).data("last",$("#"+e).prop("disabled"))}function m(){"never"===$("[name="+b.ParamsNames.FEEDBACK_SESSION_SESSIONVISIBLEBUTTON+"]").filter(":checked").val()?$("#timeFramePanel, #instructionsRow, #responsesVisibleFromColumn").hide():$("#timeFramePanel, #instructionsRow, #responsesVisibleFromColumn").show()}function h(){var e=$("[name="+b.ParamsNames.FEEDBACK_SESSION_RESULTSVISIBLEBUTTON+"]");e.change(function(){"custom"===e.filter(":checked").val()?(p(b.ParamsNames.FEEDBACK_SESSION_PUBLISHDATE,!1),p(b.ParamsNames.FEEDBACK_SESSION_PUBLISHTIME,!1)):(p(b.ParamsNames.FEEDBACK_SESSION_PUBLISHDATE,!0),p(b.ParamsNames.FEEDBACK_SESSION_PUBLISHTIME,!0))})}function f(){var e=$("[name="+b.ParamsNames.FEEDBACK_SESSION_SESSIONVISIBLEBUTTON+"]");e.change(function(){m(),"custom"===e.filter(":checked").val()?(p(b.ParamsNames.FEEDBACK_SESSION_VISIBLEDATE,!1),p(b.ParamsNames.FEEDBACK_SESSION_VISIBLETIME,!1)):(p(b.ParamsNames.FEEDBACK_SESSION_VISIBLEDATE,!0),p(b.ParamsNames.FEEDBACK_SESSION_VISIBLETIME,!0))})}Object.defineProperty(t,"__esModule",{value:!0}),t.updateUncommonSettingsInfo=t.showUncommonPanelsIfNotInDefaultValues=t.formatSessionVisibilityGroup=t.formatResponsesVisibilityGroup=t.collapseIfPrivateSession=t.bindUncommonSettingsEvents=void 0;var b=n(0);t.bindUncommonSettingsEvents=d,t.collapseIfPrivateSession=m,t.formatResponsesVisibilityGroup=h,t.formatSessionVisibilityGroup=f,t.showUncommonPanelsIfNotInDefaultValues=u,t.updateUncommonSettingsInfo=a},2:function(e,t,n){"use strict";function i(e){return!isNaN(Date.parse(e))}function o(e){return("string"==typeof e||"number"==typeof e)&&!isNaN(e-0)&&""!==e}function a(e){var t=$(e)[0],n=t.getBoundingClientRect(),i=$(window);return n.top>=-.25&&n.left>=-.25&&n.right<=i.width()+.25&&n.bottom<=i.height()+.25}Object.defineProperty(t,"__esModule",{value:!0}),t.isDate=i,t.isNumber=o,t.isWithinView=a},3:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){return null!==e&&void 0!==e}function a(e,t){var n=e;return-1!==n.indexOf("/")?-1!==n.indexOf("S")?201:202:"0%"===n?t?0:100:(n=n.replace("E","").replace("%",""),""===n?100:100+parseFloat(n))}function s(e,t,n,i,a,s){for(var r=0,c=[],p=$("tr",e),m=s;m<p.length;m+=1)if(void 0!==p[m].cells[t-1]){var h=o(i)?i:d.getDefaultExtractor(),f=$.trim(h($(p[m].cells[t-1])));c.push([f,p[m],m]),r=0!==r&&1!==r||!(0,l.isNumber)(f)?0!==r&&2!==r||!(0,l.isDate)(f)?3:2:1}var b=o(n)?n:u.getDefaultComparator(r);c.sort(function(e,t){var n=a?b(e[0].toUpperCase(),t[0].toUpperCase()):b(t[0].toUpperCase(),e[0].toUpperCase());return 0===n?e[2]-t[2]:n});var E=$(e.get(0)).children("tbody");E.size<1&&(E=e);for(var v=0;v<c.length;v+=1)E.get(0).appendChild(c[v][1]);c=null}function r(e,t,n){var i=e.hasClass("button-sort-ascending"),a=p.getEnclosingTable(e),r=p.getColumnPositionOfButton(e,1),c=o(t)?u[t]:null,l=o(n)?d[n]:null,m=!i;s(a,r,c,l,m,1),m?p.setButtonToSortedAscending(e):p.setButtonToSortedDescending(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.toggleSort=t.getPointValue=t.Comparators=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(2),u=function(){function e(){i(this,e)}return c(e,null,[{key:"sortBase",value:function(e,t){return e<t?-1:e>t?1:0}},{key:"sortNum",value:function(e,t){return e-t}},{key:"sortDate",value:function(e,t){var n=Date.parse(e),i=Date.parse(t);return n>i?1:n<i?-1:0}},{key:"sortByPoints",value:function(t,n){var i=a(t,!0),o=a(n,!0);return(0,l.isNumber)(i)&&(0,l.isNumber)(o)?e.sortNum(i,o):e.sortBase(i,o)}},{key:"sortByDiff",value:function(t,n){var i=a(t,!1),o=a(n,!1);return(0,l.isNumber)(i)&&(0,l.isNumber)(o)?e.sortNum(i,o):e.sortBase(i,o)}},{key:"getDefaultComparator",value:function(t){return 1===t?e.sortNum:2===t?e.sortDate:e.sortBase}}]),e}(),d=function(){function e(){i(this,e)}return c(e,null,[{key:"textExtractor",value:function(e){return e.text()}},{key:"tooltipExtractor",value:function(e){return e.find("span").attr("data-original-title")}},{key:"dateStampExtractor",value:function(e){return e.data("dateStamp")}},{key:"getDefaultExtractor",value:function(){return e.textExtractor}}]),e}(),p=function(){function e(){i(this,e)}return c(e,null,[{key:"getEnclosingTable",value:function(e){return $(e.parents("table")[0])}},{key:"getColumnPositionOfButton",value:function(e,t){return e.parent().children().index(e)+t}},{key:"clearAllSortStates",value:function(e){e.find(".icon-sort").attr("class","icon-sort unsorted"),e.find(".button-sort-ascending").removeClass("button-sort-ascending").addClass("button-sort-none"),e.find(".button-sort-descending").removeClass("button-sort-descending").addClass("button-sort-none")}},{key:"setButtonToSortedAscending",value:function(e){this.clearAllSortStates(this.getEnclosingTable(e)),e.addClass("button-sort-ascending"),e.find(".icon-sort").attr("class","icon-sort sorted-ascending")}},{key:"setButtonToSortedDescending",value:function(e){this.clearAllSortStates(this.getEnclosingTable(e)),e.addClass("button-sort-descending"),e.find(".icon-sort").attr("class","icon-sort sorted-descending")}}]),e}();t.Comparators=u,t.getPointValue=a,t.toggleSort=r},4:function(e,t,n){"use strict";function i(e,t){void 0===t||null===t?$(window).scrollTop(e):$("html, body").animate({scrollTop:e},t)}function o(e,t){var n={type:"top",offset:0,duration:0},o=t||{},a=o.type||n.type,r=o.offset||n.offset,c=o.duration||n.duration,l="view"===a;if(!l||!(0,s.isWithinView)(e)){var u=$(".navbar")[0],d=u?u.offsetHeight:0,p=$("#footerComponent")[0],m=p?p.offsetHeight:0,h=window.innerHeight-d-m,f=h<e.offsetHeight,b=window.scrollY<e.offsetTop,E=!l||f||!b;void 0===o.offset&&(r=E?-1*d:-1*m),E||(r*=-1,r+=e.offsetHeight-window.innerHeight);i(e.offsetTop+r,c)}}function a(e){i(0,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.scrollToTop=t.scrollToElement=void 0;var s=n(2);t.scrollToElement=o,t.scrollToTop=a},41:function(e,t,n){"use strict";function i(){return $("#"+Q.ParamsNames.FEEDBACK_SESSION_PUBLISHDATE).add("#"+Q.ParamsNames.FEEDBACK_SESSION_PUBLISHTIME).add("#"+Q.ParamsNames.FEEDBACK_SESSION_VISIBLEDATE).add("#"+Q.ParamsNames.FEEDBACK_SESSION_VISIBLETIME)}function o(e){return parseInt(e.substring("form_editquestion-".length,e.length),10)}function a(e){return"form_addquestions"===$(e).attr("name")?-1:o($(e).attr("id"))}function s(e){var t=$(e).find("select[name|="+Q.ParamsNames.FEEDBACK_QUESTION_RECIPIENTTYPE+"]").find(":selected").val();if(("STUDENTS"===t||"TEAMS"===t)&&"custom"===$(e).find("[name|="+Q.ParamsNames.FEEDBACK_QUESTION_NUMBEROFENTITIESTYPE+"]:checked").val()&&!$(e).find(".numberOfEntitiesBox").val())return(0,ae.setStatusMessageToForm)(ke,Q.StatusType.DANGER,e),!1;if(!$(e).find("[name="+Q.ParamsNames.FEEDBACK_QUESTION_TEXT+"]").val())return(0,ae.setStatusMessageToForm)(Ie,Q.StatusType.DANGER,e),!1;if("NUMSCALE"===$(e).find("[name="+Q.ParamsNames.FEEDBACK_QUESTION_TYPE+"]").val()){if(!$(e).find("[name="+Q.ParamsNames.FEEDBACK_QUESTION_NUMSCALE_MIN+"]").val()||!$(e).find("[name="+Q.ParamsNames.FEEDBACK_QUESTION_NUMSCALE_MAX+"]").val()||!$(e).find("[name="+Q.ParamsNames.FEEDBACK_QUESTION_NUMSCALE_STEP+"]").val())return(0,ae.setStatusMessageToForm)(ye,Q.StatusType.DANGER,e),!1;var n=a(e);return!!(0,ee.updateNumScalePossibleValues)(n)||((0,ae.setStatusMessageToForm)(Re,Q.StatusType.DANGER,e),!1)}return!0}function r(e){return e.visibledate.getAttribute("disabled")&&!e.visibledate.value?((0,ae.setStatusMessageToForm)(we,Q.StatusType.DANGER,e),!1):!(e.publishdate.getAttribute("disabled")&&!e.publishdate.value)||((0,ae.setStatusMessageToForm)(Me,Q.StatusType.DANGER,e),!1)}function c(){i().each(function(){$(this).data("last",$(this).prop("disabled"))}),$("#form_feedbacksession").find("text,input,button,textarea,select").prop("disabled",!0),void 0!==ie.richTextEditorBuilder&&((0,ie.destroyEditor)("instructions"),ie.richTextEditorBuilder.initEditor("#instructions",{inline:!0,readonly:!0})),$("#fsEditLink").show(),$("#fsSaveLink").hide(),$("#button_submit").hide()}function l(){$("#form_feedbacksession").submit(function(e){e.preventDefault(),"undefined"!=typeof tinymce&&tinymce.get("instructions").save();var t=$(e.target);$.ajax({url:"/page/instructorFeedbackEditSave?"+(0,V.makeCsrfTokenParam)(),type:"POST",data:t.serialize(),beforeSend:function(){(0,ae.clearStatusMessages)()},success:function(e){e.hasError?(0,ae.setStatusMessage)(e.statusForAjax,Q.StatusType.DANGER):((0,ae.setStatusMessage)(e.statusForAjax,Q.StatusType.SUCCESS),c())}})})}function u(e){void 0!==ie.richTextEditorBuilder&&((0,ie.destroyEditor)(Q.ParamsNames.FEEDBACK_QUESTION_DESCRIPTION+"-"+e),ie.richTextEditorBuilder.initEditor("#"+Q.ParamsNames.FEEDBACK_QUESTION_DESCRIPTION+"-"+e,{inline:!0,readonly:!0})),$("#"+Q.ParamsNames.FEEDBACK_QUESTION_DESCRIPTION+"-"+e).addClass("well");var t=$("#questionTable-"+e);t.find("text,button,textarea,select,input").prop("disabled",!0),t.find('[id^="mcqAddOptionLink-"]').hide(),t.find('[id^="msqAddOptionLink-"]').hide(),t.find(".removeOptionLink").hide(),t.find("#generateMcqOptionsCheckbox-"+e).prop("checked")?t.find("#mcqOtherOptionFlag-"+e).closest(".checkbox").hide():t.find("#generateMsqOptionsCheckbox-"+e).prop("checked")?t.find("#msqOtherOptionFlag-"+e).closest(".checkbox").hide():(t.find("#mcqOtherOptionFlag-"+e).closest(".checkbox").show(),t.find("#msqOtherOptionFlag-"+e).closest(".checkbox").show()),t.find("#rubricAddChoiceLink-"+e).hide(),t.find("#rubricAddSubQuestionLink-"+e).hide(),t.find(".rubricRemoveChoiceLink-"+e).hide(),t.find(".rubricRemoveSubQuestionLink-"+e).hide(),(0,ne.moveAssignWeightsCheckbox)(t.find('input[id^="rubricAssignWeights"]')),(0,ne.hasAssignedWeights)(e)||t.find("#rubricWeights-"+e).hide(),$("#"+Q.ParamsNames.FEEDBACK_QUESTION_EDITTEXT+"-"+e).show(),$("#"+Q.ParamsNames.FEEDBACK_QUESTION_SAVECHANGESTEXT+"-"+e).hide(),$("#button_question_submit-"+e).hide()}function d(){for(var e=$(".questionTable").length,t=0;t<e;t+=1)u(t)}function p(){var e=i();e.each(function(){$(this).prop("disabled",$(this).data("last"))});var t=$("#sendreminderemail_open");$("#form_feedbacksession").find("text,input,button,textarea,select").not(e).not(t).not(".disabled").prop("disabled",!1),void 0!==ie.richTextEditorBuilder&&((0,ie.destroyEditor)("instructions"),ie.richTextEditorBuilder.initEditor("#instructions",{inline:!0})),$("#fsEditLink").hide(),$("#fsSaveLink").show(),$("#button_submit").show()}function m(e){Ae[e]=Ae[e]||$("#questionTable-"+e+" > .panel-body").html()}function h(e){void 0!==ie.richTextEditorBuilder&&((0,ie.destroyEditor)(Q.ParamsNames.FEEDBACK_QUESTION_DESCRIPTION+"-"+e),ie.richTextEditorBuilder.initEditor("#"+Q.ParamsNames.FEEDBACK_QUESTION_DESCRIPTION+"-"+e,{inline:!0})),$("#"+Q.ParamsNames.FEEDBACK_QUESTION_DESCRIPTION+"-"+e).removeClass("well");var t=$("#questionTable-"+e);t.find("text,button,textarea,select,input").not('[name="receiverFollowerCheckbox"]').not(".disabled_radio").prop("disabled",!1),t.find(".removeOptionLink").show(),t.find(".addOptionLink").show(),t.find("#rubricAddChoiceLink-"+e).show(),t.find("#rubricAddSubQuestionLink-"+e).show(),t.find(".rubricRemoveChoiceLink-"+e).show(),t.find(".rubricRemoveSubQuestionLink-"+e).show(),$("#generateMcqOptionsCheckbox-"+e).prop("checked")?($("#mcqChoiceTable-"+e).hide(),$("#mcqOtherOptionFlag-"+e).closest(".checkbox").hide(),$("#mcqGenerateForSelect-"+e).prop("disabled",!1)):$("#generateMsqOptionsCheckbox-"+e).prop("checked")?($("#msqChoiceTable-"+e).hide(),$("#msqOtherOptionFlag-"+e).closest(".checkbox").hide(),$("#msqGenerateForSelect-"+e).prop("disabled",!1)):($("#mcqChoiceTable-"+e).show(),$("#msqChoiceTable-"+e).show(),$("#mcqOtherOptionFlag-"+e).closest(".checkbox").show(),$("#msqOtherOptionFlag-"+e).closest(".checkbox").show(),$("#mcqGenerateForSelect-"+e).prop("disabled",!0),$("#msqGenerateForSelect-"+e).prop("disabled",!0)),(0,J.toggleMsqMaxSelectableChoices)(e),(0,J.toggleMsqMinSelectableChoices)(e),"true"===$("#constSumToRecipients-"+e).val()?($("#constSumOptionTable-"+e).hide(),$("#constSumOption_Option-"+e).hide(),$("#constSumOption_Recipient-"+e).show()):($("#constSumOptionTable-"+e).show(),$("#constSumOption_Recipient-"+e).hide()),$("#constSumOption_distributeUnevenly-"+e).prop("disabled",!1),"CONTRIB"===$("#questionTable-"+e).parent().find('input[name="questiontype"]').val()&&((0,z.fixContribQnGiverRecipient)(e),(0,z.setContribQnVisibilityFormat)(e)),$("#"+Q.ParamsNames.FEEDBACK_QUESTION_EDITTEXT+"-"+e).hide(),$("#"+Q.ParamsNames.FEEDBACK_QUESTION_SAVECHANGESTEXT+"-"+e).show(),$("#"+Q.ParamsNames.FEEDBACK_QUESTION_DISCARDCHANGES+"-"+e).show(),$("#"+Q.ParamsNames.FEEDBACK_QUESTION_EDITTYPE+"-"+e).val("edit"),$("#button_question_submit-"+e).show(),(0,te.toggleMaxOptionsToBeRanked)(e),(0,te.toggleMinOptionsToBeRanked)(e);var n=t.closest("form");(0,re.showVisibilityCheckboxesIfCustomOptionSelected)(n),(0,ne.disableCornerMoveRubricColumnButtons)(e)}function f(e,t){for(var n=t;n;)e===n?(m(n),h(n)):u(n),n-=1;return!1}function b(){void 0!==ie.richTextEditorBuilder&&((0,ie.destroyEditor)(Q.ParamsNames.FEEDBACK_QUESTION_DESCRIPTION+"-"+ce),ie.richTextEditorBuilder.initEditor("#"+Q.ParamsNames.FEEDBACK_QUESTION_DESCRIPTION+"-"+ce,{inline:!0}));var e=$("#questionTable-"+ce);e.find("text,button,textarea,select,input").not('[name="receiverFollowerCheckbox"]').not(".disabled_radio").prop("disabled",!1),e.find(".removeOptionLink").show(),e.find(".addOptionLink").show(),e.find("#rubricAddChoiceLink-"+ce).show(),e.find("#rubricAddSubQuestionLink-"+ce).show(),(0,ne.hasAssignedWeights)(ce)?e.find("#rubricWeights-"+ce).show():e.find("#rubricWeights-"+ce).hide(),e.find(".rubricRemoveChoiceLink-"+ce).show(),e.find(".rubricRemoveSubQuestionLink-"+ce).show(),(0,ne.moveAssignWeightsCheckbox)(e.find("#rubricAssignWeights-"+ce)),$("#generateOptionsCheckbox-"+ce).prop("checked")?($("#mcqChoiceTable-"+ce).hide(),$("#msqChoiceTable-"+ce).hide(),$("#mcqGenerateForSelect-"+ce).prop("disabled",!1),$("#msqGenerateForSelect-"+ce).prop("disabled",!1)):($("#mcqChoiceTable-"+ce).show(),$("#msqChoiceTable-"+ce).show(),$("#mcqGenerateForSelect-"+ce).prop("disabled",!0),$("#msqGenerateForSelect-"+ce).prop("disabled",!0)),(0,J.toggleMsqMaxSelectableChoices)(ce),(0,J.toggleMsqMinSelectableChoices)(ce),$("#"+Q.ParamsNames.FEEDBACK_QUESTION_EDITTEXT+"-"+ce).hide(),$("#"+Q.ParamsNames.FEEDBACK_QUESTION_SAVECHANGESTEXT+"-"+ce).show(),$("#"+Q.ParamsNames.FEEDBACK_QUESTION_EDITTYPE+"-"+ce).val("edit"),$("#button_question_submit-"+ce).show(),(0,ne.disableCornerMoveRubricColumnButtons)(ce),(0,te.toggleMaxOptionsToBeRanked)(ce),(0,te.toggleMinOptionsToBeRanked)(ce)}function E(e){if(e===ce)return window.location.reload(),!1;var t=function(){$("#"+Q.ParamsNames.FEEDBACK_QUESTION_EDITTYPE+"-"+e).val("delete"),$("#form_editquestion-"+e).submit()};return(0,K.showModalConfirmation)(pe,me,t,null,null,null,Q.StatusType.DANGER),!1}function v(){$("#questionTable-"+ce).hide(),$("#addNewQuestionTable").show(),$("#givertype-"+ce).find("option").show().prop("disabled",!1),$("#recipienttype-"+ce).find("option").show().prop("disabled",!1),$("#questionTable-"+ce).find(".feedback-path-dropdown > button").removeClass("disabled"),$("#questionTable-"+ce).find(".visibility-options-dropdown .dropdown-menu li").removeClass("hidden"),H.FeedbackPath.attachEvents()}function g(e){var t=e.closest("form"),n=t.attr("id");if(n.endsWith("-"+ce))return ce;var i=n.split("-");return i[i.length-1]}function S(e,t){var n=$("#form_editquestion-"+t),i=n.find(".numberOfEntitiesElements");if("STUDENTS"===e||"TEAMS"===e){i.show();i.find(".number-of-entities-inner-text").html("STUDENTS"===e?"students":"teams")}else i.hide();(0,re.tallyCheckboxes)(t)}function C(e){e===ce?v():($("#questionTable-"+e+" > .panel-body").html(Ae[e]),$("#"+Q.ParamsNames.FEEDBACK_QUESTION_EDITTEXT+"-"+e).show(),$("#"+Q.ParamsNames.FEEDBACK_QUESTION_SAVECHANGESTEXT+"-"+e).hide(),$("#"+Q.ParamsNames.FEEDBACK_QUESTION_DISCARDCHANGES+"-"+e).hide(),$("#"+Q.ParamsNames.FEEDBACK_QUESTION_EDITTYPE+"-"+e).val(""),$("#button_question_submit-"+e).hide(),$("#questionnum-"+e).val(e),$("#questionnum-"+e).prop("disabled",!0)),$("#"+Q.ParamsNames.FEEDBACK_QUESTION_RECIPIENTTYPE+"-"+e).change(De),H.FeedbackPath.attachEvents()}function T(e){var t=e===ce?de:ue,n=function(){C(e)};(0,K.showModalConfirmation)(le,t,n,null,null,null,Q.StatusType.WARNING)}function O(){(0,se.disallowNonNumericEntries)($("input.numberOfEntitiesBox"),!1,!1),(0,se.disallowNonNumericEntries)($("input.minScaleBox"),!1,!0),(0,se.disallowNonNumericEntries)($("input.maxScaleBox"),!1,!0),(0,se.disallowNonNumericEntries)($("input.stepBox"),!0,!1),(0,se.disallowNonNumericEntries)($("input.pointsBox"),!1,!1),(0,se.disallowNonNumericEntries)($('input[id^="rubricWeight"]'),!0,!0),$("select[name="+Q.ParamsNames.FEEDBACK_QUESTION_RECIPIENTTYPE+"]").each(De).change(De)}function N(){$("#textForm").hide(),$("#mcqForm").hide(),$("#msqForm").hide(),$("#numScaleForm").hide(),$("#constSumForm").hide(),$("#rubricForm").hide(),$("#contribForm").hide(),$("#rankOptionsForm").hide(),$("#rankRecipientsForm").hide()}function _(e){switch(N(),e){case"TEXT":$("#questionTypeHeader").html(be),$("#textForm").show();break;case"MCQ":$("#"+Q.ParamsNames.FEEDBACK_QUESTION_NUMBEROFCHOICECREATED+"-"+ce).val(2),$("#questionTypeHeader").html(Ee),$("#mcqForm").show();break;case"MSQ":$("#"+Q.ParamsNames.FEEDBACK_QUESTION_NUMBEROFCHOICECREATED+"-"+ce).val(2),$("#questionTypeHeader").html(ve),$("#msqForm").show();break;case"NUMSCALE":$("#questionTypeHeader").html(ge),$("#numScaleForm").show(),$("#"+Q.ParamsNames.FEEDBACK_QUESTION_TEXT).attr("placeholder","e.g. Rate the class from 1 (very bad) to 5 (excellent)");break;case"CONSTSUM_OPTION":$("#"+Q.ParamsNames.FEEDBACK_QUESTION_NUMBEROFCHOICECREATED+"-"+ce).val(2),$("#"+Q.ParamsNames.FEEDBACK_QUESTION_CONSTSUMTORECIPIENTS+"-"+ce).val("false"),$("#constSumOption_Recipient-"+ce).hide(),$("#questionTypeHeader").html(Se),$("#constSumForm").show();break;case"CONSTSUM_RECIPIENT":var t=$("#constSum_labelText-"+ce).text(),n=$("#constSum_tooltipText-"+ce).attr("data-original-title");$("#"+Q.ParamsNames.FEEDBACK_QUESTION_CONSTSUMTORECIPIENTS+"-"+ce).val("true"),$("#constSumOption_Option-"+ce).hide(),$("#constSumOption_Recipient-"+ce).show(),(0,X.hideConstSumOptionTable)(ce),$("#questionTypeHeader").html(Ce),$("#constSumForm").show(),$("#constSum_labelText-"+ce).text(t.replace("option","recipient")),$("#constSum_tooltipText-"+ce).attr("data-original-title",n.replace("option","recipient"));break;case"CONTRIB":$("#questionTypeHeader").html(Te),$("#contribForm").show(),(0,z.fixContribQnGiverRecipient)(ce),(0,z.setContribQnVisibilityFormat)(ce),(0,z.setDefaultContribQnVisibilityIfNeeded)(ce);break;case"RUBRIC":$("#questionTypeHeader").html($e),$("#rubricForm").show();break;case"RANK_OPTIONS":$("#"+Q.ParamsNames.FEEDBACK_QUESTION_NUMBEROFCHOICECREATED+"-"+ce).val(2),$("#"+Q.ParamsNames.FEEDBACK_QUESTION_RANKTORECIPIENTS+"-"+ce).val("false"),$("#rankOption_Recipient-"+ce).hide(),$("#questionTypeHeader").html(Oe),$("#rankOptionsForm").show();break;case"RANK_RECIPIENTS":$("#"+Q.ParamsNames.FEEDBACK_QUESTION_RANKTORECIPIENTS+"-"+ce).val("true"),$("#rankOption_Option-"+ce).hide(),(0,te.hideRankOptionTable)(ce),$("#questionTypeHeader").html(Ne),$("#rankRecipientsForm").show()}}function k(e){if(!($(".questionTable").size()<2)){var t=$('input[name="questiontype"]').eq(-2).val();if("CONTRIB"!==e||"CONTRIB"===t){var n=$('select[name="givertype"]').eq(-2),i=$('select[name="givertype"]').last();i.val(n.val());var o=$('select[name="recipienttype"]').eq(-2),a=$('select[name="recipienttype"]').last();a.val(o.val());var s=$('form[id^="form_editquestion-"]').eq(-2),r=$("#form_editquestion-"+ce);if(H.FeedbackPath.isCommonOptionSelected(s)){H.FeedbackPath.hideOtherOption(r);var c=H.FeedbackPath.getDropdownText(s);H.FeedbackPath.setDropdownText(c,r)}else H.FeedbackPath.showOtherOption(r),H.FeedbackPath.setDropdownText("Predefined combinations:",r);S(a.val(),ce);var l=$(".questionTable").eq(-2).find('input[name="numofrecipientstype"]');$(".questionTable").last().find('input[name="numofrecipientstype"]').each(function(e){$(this).prop("checked",l.eq(e).prop("checked"))});var u=$('input[name="numofrecipients"]').eq(-2);$('input[name="numofrecipients"]').last().val(u.val());var d=$(".dataTable").eq(-2).find(".visibilityCheckbox");$(".dataTable").last().find(".visibilityCheckbox").each(function(e){$(this).prop("checked",d.eq(e).prop("checked"))});var p=s.find(".visibility-options-dropdown > button").text();r.find(".visibility-options-dropdown > button").text(p);"Custom visibility option:"!==p.trim()?r.find(".visibilityOptions").hide():r.find(".visibilityOptions").show(),(0,re.matchVisibilityOptionToFeedbackPath)(i)}}}function I(){var e=$(".questionTable");e.each(function(t){var n=$(this).find(".questionNumber");n.val(t+1),t!==e.size()-1&&n.prop("disabled",!0)})}function y(){$("#copyModal").on("show.bs.modal",function(e){var t=$(e.relatedTarget),n=t.data("actionlink"),i=t.data("courseid"),o=t.data("fsname"),a=$("#question-copy-modal-status");$.ajax({type:"GET",url:n+"&courseid="+encodeURIComponent(i)+"&fsname="+encodeURIComponent(o),beforeSend:function(){$("#button_copy_submit").prop("disabled",!0),$("#copyTableModal").remove(),a.removeClass("alert alert-danger"),a.html("Loading possible questions to copy. Please wait ...<br><img class='margin-center-horizontal' src='/images/ajax-loader.gif'/>")},error:function(){a.html("Error retrieving questions. Please close the dialog window and try again."),a.addClass("alert alert-danger")},success:function(e){$(e).find("tbody > tr").length?($("#copyModalForm").prepend(e),a.html("")):(a.addClass("alert alert-danger"),a.prepend("<br>").html(_e))}})})}function R(){$("#button_copy_submit").click(function(e){e.preventDefault();var t=0,n=!1;return $("#copyTableModal > tbody > tr").each(function(){var e=$(this),i=e.children("input:first");i.length&&e.hasClass("row-selected")&&($(i).attr("name","questionid-"+t),e.find("input.courseid").attr("name","courseid-"+t),e.find("input.fsname").attr("name","fsname-"+t),t+=1,n=!0)}),n?$("#copyModalForm").submit():((0,ae.setStatusMessage)("No questions are selected to be copied",Q.StatusType.DANGER),$("#copyModal").modal("hide")),!1})}function w(){$("body").on("click","#copyTableModal > tbody > tr",function(e){return e.preventDefault(),$(this).hasClass("row-selected")?($(this).removeClass("row-selected"),$(this).children("td:first").html('<input type="checkbox">'),xe-=1):($(this).addClass("row-selected"),$(this).children("td:first").html('<input type="checkbox" checked>'),xe+=1),$("#button_copy_submit").prop("disabled",xe<=0),!1})}function M(e,t){e.find('option[value="'+t+'"]').hide()}function A(e){e.find("option").each(function(t){var n=$(this);"none"!==n.css("display")&&(e.val(n.val()),t.preventDefault())})}function D(e){var t=e.val(),n=e.closest(".form_question").find('select[name="recipienttype"]'),i=n.val();switch(t){case"STUDENTS":break;case"SELF":case"INSTRUCTORS":M(n,"OWN_TEAM_MEMBERS"),M(n,"OWN_TEAM_MEMBERS_INCLUDING_SELF"),"OWN_TEAM_MEMBERS"!==i&&"OWN_TEAM_MEMBERS_INCLUDING_SELF"!==i||A(n);break;case"TEAMS":M(n,"OWN_TEAM"),M(n,"OWN_TEAM_MEMBERS"),"OWN_TEAM"!==i&&"OWN_TEAM_MEMBERS"!==i||A(n);break;default:throw new Error("Unexpected giverType")}}function x(){$("body").on("change",'select[name="givertype"]',function(){$(this).closest(".form_question").find('select[name="recipienttype"]').find("option").show(),D($(this))})}function F(){$(".form_question").not('[name="form_addquestions"]').find('select[name="givertype"]').each(function(){D($(this))})}function B(){D($('form[name="form_addquestions"]').find('select[name="givertype"]'))}function q(e){$("#questiontype").val(e),k(e),_(e),$("#questionTable-"+ce).show(),B(),b(),$("#addNewQuestionTable").hide(),$("#empty_message").hide(),(0,oe.scrollToElement)($("#questionTable-"+ce)[0],{duration:1e3}),(0,re.getVisibilityMessage)($("#questionTable-"+ce))}function P(e){var t=g(e),n=tinymce.get("questiondescription-"+t).getContent();e.find("input[name=questiondescription]").val(n),e.find("input[name=questiondescription-"+t+"]").prop("disabled",!0)}function U(){$(document).on("click",".enable-edit-fs",function(){return p()}),d(),$("a[id|=questionsavechangestext]").click(function(){P($(this).parents("form.form_question")),$(this).parents("form.form_question").submit()}),$("form[id|=form_editquestion]").submit(function(e){if(P($(e.currentTarget)),"mustDeleteResponses"===$(this).attr("editStatus")){e.preventDefault();var t=function(){e.currentTarget.submit()};(0,K.showModalConfirmation)(he,fe,t,null,null,null,Q.StatusType.DANGER)}}),$("form.form_question").submit(function(){(0,se.addLoadingIndicator)($("#button_submit_add"),"Saving ");var e=s(this);return e||(0,se.removeLoadingIndicator)($("#button_submit_add"),"Save Question"),e}),$("form[id|=form_editquestion]").find(":input").not(".nonDestructive").not(".visibilityCheckbox").change(function(){"hasResponses"===$(this).parents("form").attr("editStatus")&&$(this).parents("form").attr("editStatus","mustDeleteResponses")}),$("#add-new-question-dropdown > li").click(function(){q($(this).data("questiontype"))}),R(),w(),y(),!0===$("#form_feedbacksession").data(""+Q.ParamsNames.FEEDBACK_SESSION_ENABLE_EDIT)?p():c(),(0,Y.formatSessionVisibilityGroup)(),(0,Y.formatResponsesVisibilityGroup)(),O(),(0,re.formatCheckBoxes)(),I(),(0,Y.collapseIfPrivateSession)(),(0,j.setupFsCopyModal)(),(0,ne.bindAssignWeightsCheckboxes)(),(0,J.bindMsqEvents)(),(0,ne.bindMoveRubricColButtons)(),(0,te.bindRankEvents)(),l()}function L(){$(".dropdown-submenu").hover(function(){$(this).children(".dropdown-menu").tooltip("toggle")})}Object.defineProperty(t,"__esModule",{value:!0}),t.extractQuestionNumFromEditFormId=void 0;var K=n(5),Q=n(0),V=n(12),G=n(16),H=n(63),W=n(2),j=n(6),Y=n(18),X=n(64),z=n(65),Z=n(66),J=n(67),ee=n(68),te=n(69),ne=n(70),ie=n(10),oe=n(4),ae=n(8),se=n(7),re=n(71),ce=-1,le="Warning: Any unsaved changes will be lost",ue="Are you sure you want to discard your unsaved edits?",de="Are you sure you want to discard this question?",pe="Warning: Deleted question cannot be recovered",me="Are you sure you want to delete this question?",he="Warning: Existing responses will be deleted by your action",fe="<p>Editing these fields will result in <strong>all existing responses for this question to be deleted.</strong></p><p>Are you sure you want to continue?</p>",be="Essay question",Ee="Multiple-choice (single answer)",ve="Multiple-choice (multiple answers)",ge="Numerical-scale question",Se="Distribute points (among options) question",Ce="Distribute points (among recipients) question",Te="Team contribution question",$e="Rubric question",Oe="Rank options question",Ne="Rank recipients question",_e="There are no questions to be copied.",ke="Please enter the maximum number of recipients each respondents should give feedback to.",Ie="Please enter a valid question. The question text cannot be empty.",ye="Please enter valid options. The min/max/step cannot be empty.",Re="Please enter valid options. The interval is not divisible by the specified increment.",we="Feedback session visible date must not be empty",Me="Feedback session publish date must not be empty",Ae=[],De=function(){var e=g($(this));S($(this).val(),e)},xe=0;$(document).ready(function(){(0,j.prepareInstructorPages)(),(0,G.prepareDatepickers)(),U(),(0,Y.bindUncommonSettingsEvents)(),x(),(0,Y.updateUncommonSettingsInfo)(),(0,Y.showUncommonPanelsIfNotInDefaultValues)(),H.FeedbackPath.attachEvents(),F(),(0,re.attachVisibilityDropdownEvent)(),(0,re.attachVisibilityCheckboxEvent)(),L(),$("#fsSaveLink").on("click",function(e){r(e.target.form)}),$(document).on("change",".participantSelect",function(e){(0,re.matchVisibilityOptionToFeedbackPath)(e.target),(0,re.getVisibilityMessage)(e.target)}),$(document).on("click",".btn-discard-changes",function(e){T($(e.target).data("qnnumber"))}),$(document).on("click",".btn-edit-qn",function(e){var t=parseInt($("#num-questions").val(),10);f($(e.target).data("qnnumber"),t)}),$(document).on("click",".btn-delete-qn",function(e){E($(e.target).data("qnnumber"))}),$(document).on("submit",".tally-checkboxes",function(e){(0,re.tallyCheckboxes)($(e.target).data("qnnumber"))})}),window.updateConstSumPointsValue=X.updateConstSumPointsValue,window.addConstSumOption=X.addConstSumOption,window.removeConstSumOption=X.removeConstSumOption,window.addMcqOption=Z.addMcqOption,window.removeMcqOption=Z.removeMcqOption,window.toggleMcqGeneratedOptions=Z.toggleMcqGeneratedOptions,window.toggleMcqOtherOptionEnabled=Z.toggleMcqOtherOptionEnabled,window.changeMcqGenerateFor=Z.changeMcqGenerateFor,window.addMsqOption=J.addMsqOption,window.removeMsqOption=J.removeMsqOption,window.toggleMsqGeneratedOptions=J.toggleMsqGeneratedOptions,window.toggleMsqOtherOptionEnabled=J.toggleMsqOtherOptionEnabled,window.changeMsqGenerateFor=J.changeMsqGenerateFor,window.updateNumScalePossibleValues=ee.updateNumScalePossibleValues,window.addRankOption=te.addRankOption,window.removeRankOption=te.removeRankOption,window.addRubricRow=ne.addRubricRow,window.removeRubricRow=ne.removeRubricRow,window.highlightRubricRow=ne.highlightRubricRow,window.addRubricCol=ne.addRubricCol,window.removeRubricCol=ne.removeRubricCol,window.highlightRubricCol=ne.highlightRubricCol,window.isWithinView=W.isWithinView,t.extractQuestionNumFromEditFormId=o},5:function(e,t,n){"use strict";function i(e,t){e.find(".modal-header").addClass("alert-"+(t||r.StatusType.DEFAULT)).find(".modal-title").addClass("icon-"+(t||r.StatusType.DEFAULT))}function o(e,t,n,o){i(bootbox.dialog({title:e,message:t,buttons:{okay:{label:n||c,className:"modal-btn-ok btn-"+(o||r.StatusType.DEFAULT)}}}),o)}function a(e,t,n,o,a,s,u){i(bootbox.dialog({title:e,message:t,buttons:{cancel:{label:s||l,className:"modal-btn-cancel btn-default",callback:o||null},ok:{label:a||c,className:"modal-btn-ok btn-"+(u||r.StatusType.DEFAULT),callback:n}}}),u)}function s(e,t,n,o,a,s,c,p,m){i(bootbox.dialog({title:e,message:t,buttons:{yes:{label:s||u,className:"modal-btn-ok btn-"+(m||r.StatusType.DEFAULT),callback:n},no:{label:c||d,className:"modal-btn-ok btn-"+(m||r.StatusType.DEFAULT),callback:o},cancel:{label:p||l,className:"modal-btn-cancel btn-default",callback:a||null}}}),m)}Object.defineProperty(t,"__esModule",{value:!0}),t.showModalConfirmationWithCancel=t.showModalConfirmation=t.showModalAlert=void 0;var r=n(0),c="OK",l="Cancel",u="Yes",d="No";t.showModalAlert=o,t.showModalConfirmation=a,t.showModalConfirmationWithCancel=s},6:function(e,t,n){"use strict";function i(){$("#fsCopyModal").on("show.bs.modal",function(e){var t=$(e.relatedTarget),n=t.data("actionlink"),i=t.data("courseid"),o=t.data("fsname"),a=window.location.origin,s=window.location.href.substring(a.length);$.ajax({type:"GET",url:n+"&courseid="+encodeURIComponent(i)+"&fsname="+encodeURIComponent(o)+"&currentPage="+encodeURIComponent(s),beforeSend:function(){$("#fscopy_submit").prop("disabled",!0),$("#courseList").html("Loading possible destination courses. Please wait ...<br><img class='margin-center-horizontal' src='/images/ajax-loader.gif'/>")},error:function(){$("#courseList").html("<p id='fs-copy-modal-error'>Error retrieving course list.Please close the dialog window and try again.</p>")},success:function(e){$("#courseList").html(e),$("#fscopy_submit").off("click").on("click",function(e){$("#fscopy_submit").prop("disabled",!0),e.preventDefault(),$("#fscopy_submit").closest("form").submit()}),$("#fscopy_submit").prop("disabled",!1)}})}),$("#instructorCopyModalForm").submit(function(e){e.preventDefault();var t=$(this),n=$("#feedback-copy-modal-status");$.ajax({type:"POST",url:t.prop("action"),data:t.serialize(),beforeSend:function(){n.removeClass("alert alert-danger"),n.html('<img src="/images/ajax-loader.gif" class="margin-center-horizontal">')},error:function(){n.addClass("alert alert-danger"),n.text("There was an error during submission. Please close the dialog window and try again.")},success:function(e){""===e.errorMessage&&e.redirectUrl?window.location.href=e.redirectUrl:(n.addClass("alert alert-danger"),n.text(e.errorMessage),$("#fscopy_submit").prop("disabled",!1))}})})}function o(e,t){$('.profile-pic-icon-hover[data-link="'+e+'"]').attr("data-link","").off("mouseenter mouseleave").popover("destroy").popover({html:!0,trigger:"manual",placement:"top",content:function(){return'<img class="profile-pic" src="'+t+'">'}}).mouseenter(function(){$(this).popover("show"),$(this).siblings(".popover").on("mouseleave",function(){$(this).siblings(".profile-pic-icon-hover").popover("hide")}),$(this).mouseleave(function(){setTimeout(function(e){0===$(e).siblings(".popover").find(":hover").length&&$(e).popover("hide")},200,this)})}).children('img[src=""]').attr("src",t)}function a(e){$(e).on("click",function(e){var t=e||window.event;t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation();var n=$(this).parent().attr("data-link"),i=$("<img>").attr("src","/images/ajax-loader.gif").addClass("center-block margin-top-7px");$(this).siblings("img").attr("src",n).load(function(){var e=$(this).attr("src");i.remove(),$(this).removeClass("hidden").parent().attr("data-link","").popover({html:!0,trigger:"manual",placement:"top",content:function(){return'<img class="profile-pic" src="'+e+'">'}}).mouseenter(function(){$(this).popover("show"),$(this).siblings(".popover").on("mouseleave",function(){$(this).siblings(".profile-pic-icon-click").popover("hide")}),$(this).mouseleave(function(){setTimeout(function(e){0===$(e).siblings(".popover").find(":hover").length&&$(e).popover("hide")},200,this)})}),o(n,e)});var a=$(this).closest("td");$(this).remove(),a.append(i)})}function s(e){e.children("img")[0].src=e.attr("data-link");var t=$("<img>").attr("src","/images/ajax-loader.gif");e.children("img").load(function(){var e=$(this).parent().attr("data-link"),n=$(this).attr("src");t.remove(),o(e,n),$(this).parent().popover("show").siblings(".popover").on("mouseleave",function(){$(this).siblings(".profile-pic-icon-hover").popover("hide")})}),e.popover("destroy").popover({html:!0,trigger:"manual",placement:"top",content:function(){return t.get(0).outerHTML}}),e.popover("show")}function r(e){$(e).mouseenter(function(){$(this).popover("show"),$(this).siblings(".popover").on("mouseleave",function(){$(this).siblings(".profile-pic-icon-hover").popover("hide")})}).mouseleave(function(){setTimeout(function(e){0===$(e).siblings(".popover").find(".profile-pic").length&&0!==$(e).siblings(".popover").find(":hover").length||$(e).popover("hide")},200,this)}),$(e).popover({html:!0,trigger:"manual",placement:"top",content:function(){return $("body").on("click",".cursor-pointer",function(e){s($(e.currentTarget).closest(".popover").siblings(".profile-pic-icon-hover"))}),'<a class="cursor-pointer">View Photo</a>'}})}function c(){$("body").on("click",".session-delete-for-test",function(e){e.preventDefault();var t=$(e.target),n=t.data("courseid"),i=t.data("fsname"),o="Are you want to delete the feedback session "+i+" in "+n+"?",a=function(){window.location=t.attr("href")};(0,S.showModalConfirmation)("Confirm deleting feedback session",o,a,null,null,null,T.StatusType.DANGER)})}function l(){$("body").on("click",".course-delete-link",function(e){e.preventDefault();var t=$(e.target),n="Are you sure you want to delete the course: "+t.data("courseId")+"? This operation will delete all students and sessions in this course. All instructors of this course will not be able to access it hereafter as well.",i=function(){window.location=t.attr("href")};(0,S.showModalConfirmation)("Confirm deleting course",n,i,null,null,null,T.StatusType.DANGER)})}function u(){$("body").on("click","#fsDeleteLink",function(e){e.preventDefault();var t=$(e.target),n="Are you sure you want to delete the feedback session "+t.data("feedbackSessionName")+" in "+t.data("courseId")+"?",i=function(){window.location=t.attr("href")};(0,S.showModalConfirmation)("Confirm deleting feedback session",n,i,null,null,null,T.StatusType.DANGER)})}function d(){$(document).on("click",".course-student-delete-link",function(e){e.preventDefault();var t=$(e.target),n="Are you sure you want to remove "+t.data("studentName")+" from the course "+t.data("courseId")+"?",i=function(){window.location=t.attr("href")};(0,S.showModalConfirmation)("Confirm deletion",n,i,null,null,null,T.StatusType.DANGER)})}function p(e){var t=$("#statusMessagesToUser");$.ajax({type:"POST",url:e,beforeSend:function(){t.html('<img src="/images/ajax-loader.gif">'),t.css("display","block")},error:function(){t.html("An error has occurred while sending reminder. Please try again.")},success:function(e){var n=$(e).find("#statusMessagesToUser").html();t.html(n),(0,C.scrollToElement)(t[0],{duration:1e3})}})}function m(){$("body").on("click",".course-student-delete-all-link",function(e){e.preventDefault();var t=$(e.target),n="Are you sure you want to remove all students\n                from the course "+t.data("courseId")+"?",i=function(){window.location=t.attr("href")};(0,S.showModalConfirmation)("Confirm deletion",n,i,null,null,null,T.StatusType.DANGER)})}function h(){$("body").on("click",".session-remind-inner-for-test, .session-remind-for-test",function(e){e.preventDefault();var t=$(e.target),n="Send e-mails to remind students who have not submitted their feedback for "+t.data("fsname")+"?",i=function(){p(t.attr("href"))};(0,S.showModalConfirmation)("Confirm sending reminders",n,i,null,null,null,T.StatusType.INFO)})}function f(){$("body").on("click",".session-publish-for-test",function(e){e.preventDefault();var t=$(this),n=t.data("fsname"),i='Are you sure you want to publish the responses for the session "'+n+'"?';t.data("sending-published-email")&&(i+=" An email will be sent to students to inform them that the responses are ready for viewing.");var o=function(){window.location=t.attr("href")};(0,S.showModalConfirmation)("Confirm publishing responses",i,o,null,null,null,T.StatusType.WARNING)})}function b(){$("body").on("click",".session-unpublish-for-test",function(e){e.preventDefault();var t=$(e.target),n='Are you sure you want to unpublish the session "'+t.data("fsname")+'"?\n                             An email will be sent to students to inform them that the session has been unpublished\n                             and the session responses will no longer be viewable by students.',i=function(){window.location=t.attr("href")};(0,S.showModalConfirmation)("Confirm unpublishing responses",n,i,null,null,null,T.StatusType.WARNING)})}function E(e){var t=document.body,n=void 0;if(document.createRange&&window.getSelection){n=document.createRange();var i=window.getSelection();i.removeAllRanges();try{n.selectNodeContents(e),i.addRange(n)}catch(t){n.selectNode(e),i.addRange(n)}}else t.createTextRange&&(n=t.createTextRange(),n.moveToElementText(e),n.select())}function v(){document.execCommand("copy")}function g(){a(".profile-pic-icon-click > .student-profile-pic-view-link"),r(".profile-pic-icon-hover"),l(),u()}Object.defineProperty(t,"__esModule",{value:!0}),t.sendRemindersToStudents=t.setupFsCopyModal=t.selectElementContents=t.prepareInstructorPages=t.executeCopyCommand=t.bindUnpublishButtons=t.bindStudentPhotoLink=t.bindStudentPhotoHoverLink=t.bindRemindButtons=t.bindPublishButtons=t.bindDeleteButtons=t.attachEventToDeleteAllStudentLink=t.attachEventToDeleteStudentLink=void 0;var S=n(5),C=n(4),T=n(0);t.attachEventToDeleteStudentLink=d,t.attachEventToDeleteAllStudentLink=m,t.bindDeleteButtons=c,t.bindPublishButtons=f,t.bindRemindButtons=h,t.bindStudentPhotoHoverLink=r,t.bindStudentPhotoLink=a,t.bindUnpublishButtons=b,t.executeCopyCommand=v,t.prepareInstructorPages=g,t.selectElementContents=E,t.setupFsCopyModal=i,t.sendRemindersToStudents=p},63:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={attachEvents:function(){var e=$(".feedback-path-dropdown-option");i.attachEventsForAllOptions(e);var t=e.not(".feedback-path-dropdown-option-other");i.attachEventsForCommonOptions(t);var n=$(".feedback-path-dropdown-option-other");i.attachEventsForOtherOption(n)},attachEventsForAllOptions:function(e){e.on("click",function(e){var t=$(e.target),n=i.getContainingForm(t);i.setDropdownText(t.data("pathDescription"),n)})},attachEventsForCommonOptions:function(e){e.on("click",function(e){var t=$(e.target),n=i.getContainingForm(t);i.updateInputTags(t.data("giverType"),t.data("recipientType"),n),i.hideOtherOption(n)})},attachEventsForOtherOption:function(e){e.on("click",function(e){var t=$(e.target),n=i.getContainingForm(t);i.showOtherOption(n)})},showOtherOption:function(e){e.find(".feedback-path-others").show()},hideOtherOption:function(e){e.find(".feedback-path-others").hide(),e.find("[class*= numberOfEntitiesElements]").hide()},updateInputTags:function(e,t,n){n.find("[id^=givertype]").val(e),n.find("[id^=givertype]").trigger("change"),n.find("[id^=recipienttype]").val(t),n.find("[id^=recipienttype]").trigger("change")},getDropdownText:function(e){return e.find(".feedback-path-dropdown").find("button").html()},setDropdownText:function(e,t){t.find(".feedback-path-dropdown").find("button").html(e)},getContainingForm:function(e){return e.closest("form")},isCommonOptionSelected:function(e){return"Predefined combinations:"!==e.find(".feedback-path-dropdown > button").html().trim()}};t.FeedbackPath=i},64:function(e,t,n){"use strict";function i(e){$("#"+r.ParamsNames.FEEDBACK_QUESTION_CONSTSUMPOINTS+"-"+e).val()<1&&$("#"+r.ParamsNames.FEEDBACK_QUESTION_CONSTSUMPOINTS+"-"+e).val(1),$("#"+r.ParamsNames.FEEDBACK_QUESTION_CONSTSUMPOINTSFOREACHOPTION+"-"+e).val()<1&&$("#"+r.ParamsNames.FEEDBACK_QUESTION_CONSTSUMPOINTSFOREACHOPTION+"-"+e).val(1),$("#"+r.ParamsNames.FEEDBACK_QUESTION_CONSTSUMPOINTSFOREACHRECIPIENT+"-"+e).val()<1&&$("#"+r.ParamsNames.FEEDBACK_QUESTION_CONSTSUMPOINTSFOREACHRECIPIENT+"-"+e).val(1)}function o(e){var t="#form_editquestion-"+e,n=parseInt($("#"+r.ParamsNames.FEEDBACK_QUESTION_NUMBEROFCHOICECREATED+"-"+e).val(),10);$('\n    <div class="margin-bottom-7px" id="constSumOptionRow-'+n+"-"+e+'">\n        <div class="input-group width-100-pc">\n            <input type="text" name="'+r.ParamsNames.FEEDBACK_QUESTION_CONSTSUMOPTION+"-"+n+'"\n                    id="'+r.ParamsNames.FEEDBACK_QUESTION_CONSTSUMOPTION+"-"+n+"-"+e+'"\n                    class="form-control constSumOptionTextBox">\n            <span class="input-group-btn">\n                <button class="btn btn-default removeOptionLink" id="constSumRemoveOptionLink"\n                        onclick="removeConstSumOption('+n+", "+e+')"\n                        tabindex="-1">\n                    <span class="glyphicon glyphicon-remove"></span>\n                </button>\n            </span>\n        </div>\n    </div>\n    ').insertBefore($("#constSumAddOptionRow-"+e)),$("#"+r.ParamsNames.FEEDBACK_QUESTION_NUMBEROFCHOICECREATED+"-"+e).val(n+1),"hasResponses"===$(t).attr("editStatus")&&$(t).attr("editStatus","mustDeleteResponses")}function a(e){$("#"+r.ParamsNames.FEEDBACK_QUESTION_CONSTSUMOPTIONTABLE+"-"+e).hide()}function s(e,t){var n="#form_editquestion-"+t,i=$("#constSumOptionRow-"+e+"-"+t);i.parent().children("div").length-1<=1?i.find("input").val(""):(i.remove(),"hasResponses"===$(n).attr("editStatus")&&$(n).attr("editStatus","mustDeleteResponses"))}Object.defineProperty(t,"__esModule",{value:!0}),t.updateConstSumPointsValue=t.removeConstSumOption=t.hideConstSumOptionTable=t.addConstSumOption=void 0;var r=n(0);t.addConstSumOption=o,t.hideConstSumOptionTable=a,t.removeConstSumOption=s,t.updateConstSumPointsValue=i},65:function(e,t,n){"use strict";function i(e){if($(".questionTable").size()>=2&&"CONTRIB"===$('input[name="questiontype"]').eq(-2).val())return;$("#questionTable-"+e).find('a[data-option-name="ANONYMOUS_TO_RECIPIENT_AND_TEAM_VISIBLE_TO_INSTRUCTORS"]').click()}function o(e){var t=$("#questionTable-"+e);t.find(".visibility-options-dropdown-option").not('[data-option-name="ANONYMOUS_TO_RECIPIENT_AND_TEAM_VISIBLE_TO_INSTRUCTORS"]').not('[data-option-name="VISIBLE_TO_INSTRUCTORS_ONLY"]').parent().addClass("hidden"),t.find(".visibility-options-dropdown .dropdown-menu .divider").addClass("hidden"),t.find("input.visibilityCheckbox").off("change"),t.find("input.visibilityCheckbox").filter(".answerCheckbox").change(function(){if(!$(this).prop("checked"))if("RECEIVER"===$(this).val()||"OWN_TEAM_MEMBERS"===$(this).val()||"RECEIVER_TEAM_MEMBERS"===$(this).val())t.find("input.visibilityCheckbox").filter('input[class*="giverCheckbox"],input[class*="recipientCheckbox"]').filter('[value="RECEIVER"],[value="OWN_TEAM_MEMBERS"],[value="RECEIVER_TEAM_MEMBERS"]').prop("checked",!1);else{var e=$(this).closest("tr");e.find('input[class*="giverCheckbox"]').prop("checked",!1),e.find('input[class*="recipientCheckbox"]').prop("checked",!1)}"RECEIVER"!==$(this).val()&&"OWN_TEAM_MEMBERS"!==$(this).val()&&"RECEIVER_TEAM_MEMBERS"!==$(this).val()||t.find("input.visibilityCheckbox").filter("input[name=receiverFollowerCheckbox]").prop("checked",$(this).prop("checked")),"RECEIVER"!==$(this).val()&&"OWN_TEAM_MEMBERS"!==$(this).val()&&"RECEIVER_TEAM_MEMBERS"!==$(this).val()||t.find("input.visibilityCheckbox").filter(".answerCheckbox").filter('[value="RECEIVER"],[value="OWN_TEAM_MEMBERS"],[value="RECEIVER_TEAM_MEMBERS"]').prop("checked",$(this).prop("checked"))}),t.find("input.visibilityCheckbox").filter('[class*="giverCheckbox"]').change(function(){if($(this).is(":checked")){$(this).closest("tr").find("input.answerCheckbox").prop("checked",!0).trigger("change")}}),t.find("input.visibilityCheckbox").filter('[class*="recipientCheckbox"]').change(function(){if($(this).is(":checked")){$(this).closest("tr").find("input.answerCheckbox").prop("checked",!0).trigger("change")}}),t.find("input.visibilityCheckbox").filter("[name=receiverLeaderCheckbox]").change(function(){$(this).closest("tr").find("input[name=receiverFollowerCheckbox]").prop("checked",$(this).prop("checked"))})}function a(e){var t=$("#givertype-"+e),n=$("#recipienttype-"+e),i=$("#questionTable-"+e);t.find("option").not('[value="STUDENTS"]').hide(),n.find("option").not('[value="OWN_TEAM_MEMBERS_INCLUDING_SELF"]').hide(),t.find("option").not('[value="STUDENTS"]').prop("disabled",!0),n.find("option").not('[value="OWN_TEAM_MEMBERS_INCLUDING_SELF"]').prop("disabled",!0),t.find("option").filter('[value="STUDENTS"]').prop("selected",!0),n.find("option").filter('[value="OWN_TEAM_MEMBERS_INCLUDING_SELF"]').prop("selected",!0),i.find('.feedback-path-dropdown-option[data-giver-type="STUDENTS"][data-recipient-type="OWN_TEAM_MEMBERS_INCLUDING_SELF"]').click(),i.find(".feedback-path-dropdown > button").addClass("disabled")}Object.defineProperty(t,"__esModule",{value:!0}),t.fixContribQnGiverRecipient=a,t.setContribQnVisibilityFormat=o,t.setDefaultContribQnVisibilityIfNeeded=i},66:function(e,t,n){"use strict";function i(e){var t="#form_editquestion-"+e,n=parseInt($("#"+c.ParamsNames.FEEDBACK_QUESTION_NUMBEROFCHOICECREATED+"-"+e).val(),10);$('\n    <div class="margin-bottom-7px" id="mcqOptionRow-'+n+"-"+e+'">\n        <div class="input-group">\n            <span class="input-group-addon">\n                <input type="radio" disabled>\n            </span>\n            <input type="text" name="'+c.ParamsNames.FEEDBACK_QUESTION_MCQCHOICE+"-"+n+'"\n                    id="'+c.ParamsNames.FEEDBACK_QUESTION_MCQCHOICE+"-"+n+"-"+e+'"\n                    class="form-control mcqOptionTextBox">\n            <span class="input-group-btn">\n                <button type="button" class="btn btn-default removeOptionLink" id="mcqRemoveOptionLink"\n                        onclick="removeMcqOption('+n+", "+e+')" tabindex="-1">\n                    <span class="glyphicon glyphicon-remove"></span>\n                </button>\n            </span>\n        </div>\n    </div>\n    ').insertBefore($("#mcqAddOptionRow-"+e)),$("#"+c.ParamsNames.FEEDBACK_QUESTION_NUMBEROFCHOICECREATED+"-"+e).val(n+1),"hasResponses"===$(t).attr("editStatus")&&$(t).attr("editStatus","mustDeleteResponses")}function o(e,t){var n="#form_editquestion-"+t,i=$("#mcqOptionRow-"+e+"-"+t);i.parent().children("div").length-1<=1?i.find("input").val(""):(i.remove(),"hasResponses"===$(n).attr("editStatus")&&$(n).attr("editStatus","mustDeleteResponses"))}function a(e,t){e.checked?($("#mcqChoiceTable-"+t).find("input[type=text]").prop("disabled",!0),$("#mcqChoiceTable-"+t).hide(),$("#mcqGenerateForSelect-"+t).prop("disabled",!1),$("#mcqOtherOptionFlag-"+t).closest(".checkbox").hide(),$("#generatedOptions-"+t).attr("value",$("#mcqGenerateForSelect-"+t).prop("value"))):($("#mcqChoiceTable-"+t).find("input[type=text]").prop("disabled",!1),$("#mcqChoiceTable-"+t).show(),$("#mcqGenerateForSelect-"+t).prop("disabled",!0),$("#mcqOtherOptionFlag-"+t).closest(".checkbox").show(),$("#generatedOptions-"+t).attr("value","NONE"))}function s(e,t){var n="#form_editquestion-"+t;"hasResponses"===$(n).attr("editStatus")&&$(n).attr("editStatus","mustDeleteResponses")}function r(e){$("#generatedOptions-"+e).attr("value",$("#mcqGenerateForSelect-"+e).prop("value"))}Object.defineProperty(t,"__esModule",{value:!0}),t.toggleMcqOtherOptionEnabled=t.toggleMcqGeneratedOptions=t.removeMcqOption=t.changeMcqGenerateFor=t.addMcqOption=void 0;var c=n(0);t.addMcqOption=i,t.changeMcqGenerateFor=r,t.removeMcqOption=o,t.toggleMcqGeneratedOptions=a,t.toggleMcqOtherOptionEnabled=s},67:function(e,t,n){"use strict";function i(e){return $("#msqEnableMaxSelectableChoices-"+e).prop("checked")}function o(e){return $("#msqEnableMinSelectableChoices-"+e).prop("checked")}function a(e){return $("#generateMsqOptionsCheckbox-"+e).prop("checked")}function s(e){return $("#msqChoiceTable-"+e).children().length-1}function r(e){return $("#msqMaxSelectableChoices-"+e)}function c(e){return i(e)?parseInt(r(e).val(),10):Number.MAX_SAFE_INTEGER}function l(e,t){r(e).prop("max",t)}function u(e,t){t>=2&&r(e).val(t)}function d(e){return $("#msqMinSelectableChoices-"+e)}function p(e){return o(e)?parseInt(d(e).val(),10):Number.MAX_SAFE_INTEGER}function m(e,t){t>=1&&d(e).val(t)}function h(e,t){d(e).prop("max",t)}function f(e){var t=$("#msqGenerateForSelect-"+e).prop("value").toLowerCase();return $("#num-"+t).val()}function b(e){if(i(e)){var t=a(e)?f(e):s(e),n=c(e);l(e,t),u(e,Math.min(n,t))}}function E(e){if(o(e)){var t=p(e),n=Math.min(c(e),a(e)?f(e):s(e));h(e,n),m(e,Math.min(t,n))}}function v(e){b(e),E(e)}function g(e){var t="#form_editquestion-"+e,n=parseInt($("#"+I.ParamsNames.FEEDBACK_QUESTION_NUMBEROFCHOICECREATED+"-"+e).val(),10);$('\n    <div class="margin-bottom-7px" id="msqOptionRow-'+n+"-"+e+'">\n        <div class="input-group">\n            <span class="input-group-addon">\n                <input type="checkbox" disabled>\n            </span>\n            <input type="text" name="'+I.ParamsNames.FEEDBACK_QUESTION_MSQCHOICE+"-"+n+'"\n                    id="'+I.ParamsNames.FEEDBACK_QUESTION_MSQCHOICE+"-"+n+"-"+e+'"\n                    class="form-control msqOptionTextBox">\n            <span class="input-group-btn">\n                <button type="button" class="btn btn-default removeOptionLink" id="msqRemoveOptionLink"\n                        onclick="removeMsqOption('+n+", "+e+')" tabindex="-1">\n                    <span class="glyphicon glyphicon-remove"></span>\n                </button>\n            </span>\n        </div>\n    </div>\n    ').insertBefore($("#msqAddOptionRow-"+e)),$("#"+I.ParamsNames.FEEDBACK_QUESTION_NUMBEROFCHOICECREATED+"-"+e).val(n+1),"hasResponses"===$(t).attr("editStatus")&&$(t).attr("editStatus","mustDeleteResponses"),v(e)}function S(e,t){var n="#form_editquestion-"+t,i=$("#msqOptionRow-"+e+"-"+t);i.parent().children("div").length-1<=1?i.find("input").val(""):(i.remove(),"hasResponses"===$(n).attr("editStatus")&&$(n).attr("editStatus","mustDeleteResponses")),v(t)}function C(e){var t=$("#msqEnableMaxSelectableChoices-"+e);$("#msqMaxSelectableChoices-"+e).prop("disabled",!t.prop("checked")),v(e)}function T(e){var t=$("#msqEnableMinSelectableChoices-"+e);$("#msqMinSelectableChoices-"+e).prop("disabled",!t.prop("checked")),v(e)}function O(e,t){e.checked?($("#msqChoiceTable-"+t).find("input[type=text]").prop("disabled",!0),$("#msqChoiceTable-"+t).hide(),$("#msqGenerateForSelect-"+t).prop("disabled",!1),$("#msqOtherOptionFlag-"+t).closest(".checkbox").hide(),$("#generatedOptions-"+t).attr("value",$("#msqGenerateForSelect-"+t).prop("value"))):($("#msqChoiceTable-"+t).find("input[type=text]").prop("disabled",!1),$("#msqChoiceTable-"+t).show(),$("#msqGenerateForSelect-"+t).prop("disabled",!0),$("#msqOtherOptionFlag-"+t).closest(".checkbox").show(),$("#generatedOptions-"+t).attr("value","NONE")),v(t)}function N(e,t){var n="#form_editquestion-"+t;"hasResponses"===$(n).attr("editStatus")&&$(n).attr("editStatus","mustDeleteResponses")}function _(e){$("#generatedOptions-"+e).attr("value",$("#msqGenerateForSelect-"+e).prop("value")),v(e)}function k(){$(document).on("change",'input[name="msqMaxSelectableChoices"]',function(e){v($(e.target).closest("form").attr("data-qnnumber"))}),$(document).on("change",'input[name="msqMinSelectableChoices"]',function(e){v($(e.target).closest("form").attr("data-qnnumber"))}),$(document).on("change",'input[name*="msqEnableMaxSelectableChoices"]',function(e){C($(e.target).closest("form").attr("data-qnnumber"))}),$(document).on("change",'input[name*="msqEnableMinSelectableChoices"]',function(e){T($(e.target).closest("form").attr("data-qnnumber"))})}Object.defineProperty(t,"__esModule",{value:!0}),t.toggleMsqMinSelectableChoices=t.toggleMsqMaxSelectableChoices=t.toggleMsqOtherOptionEnabled=t.toggleMsqGeneratedOptions=t.removeMsqOption=t.changeMsqGenerateFor=t.bindMsqEvents=t.addMsqOption=void 0;var I=n(0);t.addMsqOption=g,t.bindMsqEvents=k,t.changeMsqGenerateFor=_,t.removeMsqOption=S,t.toggleMsqGeneratedOptions=O,t.toggleMsqOtherOptionEnabled=N,t.toggleMsqMaxSelectableChoices=C,t.toggleMsqMinSelectableChoices=T},68:function(e,t,n){"use strict";function i(e){return parseFloat(e.toFixed(3))}function o(e){var t=parseInt($("#minScaleBox-"+e).val(),10),n=parseInt($("#maxScaleBox-"+e).val(),10),o=parseFloat($("#stepBox-"+e).val());n<=t&&(n=t+1,$("#maxScaleBox-"+e).val(n)),0===(o=i(o))&&(o=.001),$("#stepBox-"+e).val(isNaN(o)?"":o);var a=Math.floor(i((n-t)/o))+1,s=t+(a-1)*o,r=$("#numScalePossibleValues-"+e),c=void 0;if(i(s)!==n)return r.css("color","red"),c=isNaN(t)||isNaN(n)||isNaN(o)?"[Please enter valid numbers for all the options.]":"[The interval "+t.toString()+" - "+n.toString()+" is not divisible by the specified increment.]",r.text(c),!1;if(r.css("color","black"),c="[Based on the above settings, acceptable responses are: ",a>6)c+=t.toString()+", "+(Math.round(1e3*(t+o))/1e3).toString()+",\n            "+(Math.round(1e3*(t+2*o))/1e3).toString()+", ...,\n            "+(Math.round(1e3*(n-2*o))/1e3).toString()+",\n            "+(Math.round(1e3*(n-o))/1e3).toString()+", "+n.toString();else{c+=t.toString();for(var l=t+o;n-l>=-1e-9;)c+=", "+(Math.round(1e3*l)/1e3).toString(),l+=o}return c+="]",r.text(c),!0}Object.defineProperty(t,"__esModule",{value:!0}),t.roundToThreeDp=i,t.updateNumScalePossibleValues=o},69:function(e,t,n){"use strict";function i(e){return $("#minOptionsToBeRankedEnabled-"+e).prop("checked")}function o(e){return $("#maxOptionsToBeRankedEnabled-"+e).prop("checked")}function a(e){return $("#rankOptionTable-"+e).children('div[id^="rankOptionRow"]').length}function s(e){return $("#minOptionsToBeRanked-"+e)}function r(e){return $("#maxOptionsToBeRanked-"+e)}function c(e,t){s(e).prop("max",t)}function l(e,t){r(e).prop("max",t)}function u(e){return i(e)?parseInt(s(e).val(),10):Number.MAX_SAFE_INTEGER}function d(e){return o(e)?parseInt(r(e).val(),10):Number.MAX_SAFE_INTEGER}function p(e,t){!i(e)||t<1||s(e).val(t)}function m(e,t){!o(e)||t<1||r(e).val(t)}function h(e){if(i(e)){var t=a(e),n=Math.min(u(e),t);c(e,t),p(e,n),d(e)<n&&m(e,n)}}function f(e){if(o(e)){var t=a(e),n=Math.min(d(e),t);l(e,t),m(e,n),n<u(e)&&p(e,n)}}function b(e){f(e),h(e)}function E(e){s(e).prop("disabled",!i(e)),b(e)}function v(e){r(e).prop("disabled",!o(e)),b(e)}function g(e){var t="#form_editquestion-"+e,n=parseInt($("#"+O.ParamsNames.FEEDBACK_QUESTION_NUMBEROFCHOICECREATED+"-"+e).val(),10);$('\n    <div class="margin-bottom-7px" id="rankOptionRow-'+n+"-"+e+'">\n        <div class="input-group">\n            <input type="text" name="'+O.ParamsNames.FEEDBACK_QUESTION_RANKOPTION+"-"+n+'"\n                    id="'+O.ParamsNames.FEEDBACK_QUESTION_RANKOPTION+"-"+n+"-"+e+'"\n                    class="form-control rankOptionTextBox">\n            <span class="input-group-btn">\n                <button class="btn btn-default removeOptionLink" id="rankRemoveOptionLink"\n                        onclick="removeRankOption('+n+", "+e+')" tabindex="-1">\n                    <span class="glyphicon glyphicon-remove"></span>\n                </button>\n            </span>\n        </div>\n    </div>\n    ').insertBefore($("#rankAddOptionRow-"+e)),$("#"+O.ParamsNames.FEEDBACK_QUESTION_NUMBEROFCHOICECREATED+"-"+e).val(n+1),"hasResponses"===$(t).attr("editStatus")&&$(t).attr("editStatus","mustDeleteResponses"),b(e)}function S(e){$("#"+O.ParamsNames.FEEDBACK_QUESTION_RANKOPTIONTABLE+"-"+e).hide()}function C(e,t){var n="#form_editquestion-"+t,i=$("#rankOptionRow-"+e+"-"+t);i.parent().children("div").length-1<=2?i.find("input").val(""):(i.remove(),"hasResponses"===$(n).attr("editStatus")&&$(n).attr("editStatus","mustDeleteResponses")),b(t)}function T(){$(document).on("change",'input[name="minOptionsToBeRanked"]',function(e){h($(e.target).closest("form").attr("data-qnnumber"))}),$(document).on("change",'input[name="maxOptionsToBeRanked"]',function(e){f($(e.target).closest("form").attr("data-qnnumber"))}),$(document).on("change",'input[name="minOptionsToBeRankedEnabled"]',function(e){E($(e.target).closest("form").attr("data-qnnumber"))}),$(document).on("change",'input[name="maxOptionsToBeRankedEnabled"]',function(e){v($(e.target).closest("form").attr("data-qnnumber"))})}Object.defineProperty(t,"__esModule",{value:!0}),t.toggleMinOptionsToBeRanked=t.toggleMaxOptionsToBeRanked=t.removeRankOption=t.hideRankOptionTable=t.bindRankEvents=t.addRankOption=void 0;var O=n(0);t.addRankOption=g,t.bindRankEvents=T,t.hideRankOptionTable=S,t.removeRankOption=C,t.toggleMaxOptionsToBeRanked=v,t.toggleMinOptionsToBeRanked=E},7:function(e,t,n){"use strict";function i(e){e.removeClass("glyphicon-chevron-down"),e.addClass("glyphicon-chevron-up")}function o(e){e.removeClass("glyphicon-chevron-up"),e.addClass("glyphicon-chevron-down")}function a(e){var t=$(e),n=t.find(".glyphicon-chevron-down").length>0,a=t.find(".glyphicon-chevron-up, .glyphicon-chevron-down");a.clearQueue(),n?i(a):o(a)}function s(e){var t=$(e).parent().children(".panel-heading"),n=$(t[0]).find(".glyphicon");i($(n[0])),$(e).collapse("show"),$(t).find("a.btn").show()}function r(e){var t=$(e).parent().children(".panel-heading"),n=$(t[0]).find(".glyphicon");o($(n[0])),$(e).collapse("hide"),$(t).find("a.btn").hide()}function c(e){if(!$(e.target).is("a")&&!$(e.target).is("input")){var t=$(this).find(".glyphicon");-1===$(t[0]).attr("class").indexOf("glyphicon-chevron-up")?s($(e.currentTarget).attr("data-target")):r($(e.currentTarget).attr("data-target"))}}function l(e,t){e.html(t),e.prop("disabled",!0),e.append('<img src="/images/ajax-loader.gif">')}function u(e,t){e.empty(),e.html(t),e.prop("disabled",!1)}function d(e,t){var n=$(e).val().trim(),i=[];'"'===n.charAt(0)&&'"'===n.charAt(n.length-1)?i.push(n.replace(/"/g,"").trim()):$.each(n.split(/[ "'.-]/),function(){i.push($.trim(this))}),i=i.filter(function(e){return""!==e}),$(t).highlight(i)}function p(e){var t=$("#questionAdditionalInfoButton-"+e);t.text()===t.attr("data-more")?t.text(t.attr("data-less")):t.text(t.attr("data-more")),$("#questionAdditionalInfo-"+e).toggle()}function m(e,t,n){e.on("keydown",function(e){var i=e.which;-1!==[46,8,9,27,13].indexOf(i)||65===i&&e.ctrlKey||i>=35&&i<=39||t&&190===i||n&&(189===i||109===i)||(e.shiftKey||(i<48||i>57)&&(i<96||i>105))&&(e.preventDefault(),e.stopPropagation())})}Object.defineProperty(t,"__esModule",{value:!0}),t.addLoadingIndicator=l,t.disallowNonNumericEntries=m,t.hideSingleCollapse=r,t.highlightSearchResult=d,t.removeLoadingIndicator=u,t.showSingleCollapse=s,t.toggleAdditionalQuestionInfo=p,t.toggleChevron=a,t.toggleSingleCollapse=c},70:function(e,t,n){"use strict";function i(e,t){return $("#rubricChoice-"+e+"-"+t)}function o(e,t){return $("#rubricWeight-"+e+"-"+t)}function a(e,t,n){return $("#rubricDesc-"+e+"-"+t+"-"+n)}function s(e,t,n){var s=parseInt($("#rubricNumRows-"+e).val(),10),r=function(t,n){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return"RUBRIC_CHOICE"===t?i(e,n):"RUBRIC_WEIGHT"===t?o(e,n):"RUBRIC_DESC"===t?a(e,s,n):null},c=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=r(e,t,i),a=r(e,n,i),s=o.val();o.val(a.val()),a.val(s)};c("RUBRIC_CHOICE"),c("RUBRIC_WEIGHT");for(var l=0;l<s;l+=1)c("RUBRIC_DESC",l)}function r(e,t,n){if(0!==$("#rubricEditTable-"+e).length&&0!==$(".rubricCol-"+e+"-"+t).length&&"boolean"==typeof n){var i=$("#rubric-options-row-"+e+" .rubricCol-"+e+"-"+t),o="td[class*='rubricCol-"+e+"']";if(!(n&&0===i.prev(o).length||!n&&0===i.next(o).length)){var a=void 0;a=n?i.prev(o).attr("data-col"):i.next(o).attr("data-col"),s(e,t,a);var r=$("#form_editquestion-"+e);"hasResponses"===r.attr("editstatus")&&r.attr("editstatus","mustDeleteResponses")}}}function c(e){var t=$("#rubric-options-row-"+e+" td[class*='rubricCol-']"),n=function(){var n=t.first(),i=n.attr("data-col");n.find("#rubric-move-col-left-"+e+"-"+i).prop("disabled",!0)},i=function(){var n=t.last(),i=n.attr("data-col");n.find("#rubric-move-col-right-"+e+"-"+i).prop("disabled",!0)};if(t.length<2)return n(),void i();n(),i(),function(){var n=t.last().prev(),i=n.attr("data-col");n.find("#rubric-move-col-right-"+e+"-"+i).prop("disabled",!1)}()}function l(e){for(var t="#form_editquestion-"+e,n=parseInt($("#rubricNumRows-"+e).val(),10),i=parseInt($("#rubricNumCols-"+e).val(),10),o=n+1,a="",s=0;s<i;s+=1)if($(".rubricCol-"+e+"-"+s).length){var r='<td class="align-center rubricCol-'+e+"-"+s+'">\n                <textarea class="form-control" rows="3" id="rubricDesc-'+e+"-"+(o-1)+"-"+s+'"\n                        name="rubricDesc-'+(o-1)+"-"+s+'"></textarea>\n            </td>';a+=r}var c='<tr id="rubricRow-'+e+"-"+(o-1)+'">\n            <td>\n                <div class="col-sm-12 input-group">\n                    <span class="input-group-addon btn btn-default rubricRemoveSubQuestionLink-'+e+'"\n                            id="rubricRemoveSubQuestionLink-'+e+"-"+(o-1)+'"\n                            onclick="removeRubricRow('+(o-1)+", "+e+')"\n                            onmouseover="highlightRubricRow('+(o-1)+", "+e+', true)"\n                            onmouseout="highlightRubricRow('+(o-1)+", "+e+', false)">\n                        <span class="glyphicon glyphicon-remove"></span>\n                    </span>\n                    <textarea class="form-control" rows="3" id="rubricSubQn-'+e+"-"+(o-1)+'"\n                            name="rubricSubQn-'+(o-1)+'" required=""></textarea>\n                </div>\n            </td>\n            '+a+"\n        </tr>",l=$("#rubricEditTable-"+e+" tbody tr:nth-last-child(2)");$(c).insertAfter(l),$("#rubricNumRows-"+e).val(o),"hasResponses"===$(t).attr("editStatus")&&$(t).attr("editStatus","mustDeleteResponses")}function u(e){var t="#form_editquestion-"+e,n=parseInt($("#rubricNumRows-"+e).val(),10),i=parseInt($("#rubricNumCols-"+e).val(),10),o=i+1,a='<th class="rubricCol-'+e+"-"+(o-1)+'">\n            <input type="text" class="col-sm-12 form-control" value=""\n                    id="rubricChoice-'+e+"-"+(o-1)+'"\n                    name="rubricChoice-'+(o-1)+'">\n        </th>',s=$("#rubricEditTable-"+e).find("tr:first").children().last();$(a).insertAfter(s);var l='<th class="rubricCol-'+e+"-"+(o-1)+'">\n            <input type="number" class="form-control nonDestructive" value="0"\n                    id="rubricWeight-'+e+"-"+(o-1)+'"\n                    name="rubricWeight-'+(o-1)+'" step="0.01">\n        </th>',u=$("#rubricWeights-"+e+" th:last");$(l).insertAfter(u),(0,C.disallowNonNumericEntries)($("#rubricWeight-"+e+"-"+(o-1)),!0,!0);for(var d=0;d<n;d+=1)if($("#rubricRow-"+e+"-"+d).length){var p='<td class="align-center rubricCol-'+e+"-"+(o-1)+'">\n                <textarea class="form-control" rows="3" id="rubricDesc-'+e+"-"+d+"-"+(o-1)+'"\n                        name="rubricDesc-'+d+"-"+(o-1)+'"></textarea>\n            </td>',m=$("#rubricRow-"+e+"-"+d+" td:last");$(p).insertAfter(m)}var h='<td class="align-center rubricCol-'+e+"-"+(o-1)+'" data-col="'+(o-1)+'">\n            <div class="btn-group">\n                <button type="button" class="btn btn-default" id="rubric-move-col-left-'+e+"-"+(o-1)+'"\n                        data-toggle="tooltip" data-placement="top" title="Move column left">\n                    <span class="glyphicon glyphicon-arrow-left"></span>\n                </button>\n                <button type="button" class="btn btn-default" id="rubricRemoveChoiceLink-'+e+"-"+(o-1)+'"\n                        onclick="removeRubricCol('+(o-1)+", "+e+')"\n                        onmouseover="highlightRubricCol('+(o-1)+", "+e+', true)"\n                        onmouseout="highlightRubricCol('+(o-1)+", "+e+', false)">\n                    <span class="glyphicon glyphicon-remove"></span>\n                </button>\n                <button type="button" class="btn btn-default" id="rubric-move-col-right-'+e+"-"+(o-1)+'"\n                        data-toggle="tooltip" data-placement="top" title="Move column right">\n                    <span class="glyphicon glyphicon-arrow-right"></span>\n                </button>\n            </div>\n        </td>',f=$("#rubric-options-row-"+e+" td:last");$(h).insertAfter(f);var b=$("#rubric-move-col-left-"+e+"-"+(o-1)),E=$("#rubric-move-col-right-"+e+"-"+(o-1));b.tooltip({container:"body"}),E.tooltip({container:"body"}),b.click(function(){r(e,o-1,!0)}),E.click(function(){r(e,o-1,!1)}),$("#rubricNumCols-"+e).val(o),"hasResponses"===$(t).attr("editStatus")&&$(t).attr("editStatus","mustDeleteResponses"),c(e)}function d(e,t){var n="#form_editquestion-"+t,i=$("#rubricRow-"+t+"-"+e),o=i.parent().children("tr").length-1,a=o<=1?"clear":"delete",s="Are you sure you want to "+a+" the row?",r=function(){o<=1?i.find("textarea").val(""):(i.remove(),"hasResponses"===$(n).attr("editStatus")&&$(n).attr("editStatus","mustDeleteResponses"))};(0,g.showModalConfirmation)("Confirm Deletion",s,r,null,null,null,S.StatusType.WARNING)}function p(e,t){var n="#form_editquestion-"+t,i=$(".rubricCol-"+t+"-"+e),o=i.first().parent().children().length-1,a=o<=1?"clear":"delete",s="Are you sure you want to "+a+" the column?",r=function(){o<=1?(i.find('input[id^="rubricChoice"], textarea').val(""),i.find('input[id^="rubricWeight"]').val(0)):(i.remove(),c(t),"hasResponses"===$(n).attr("editStatus")&&$(n).attr("editStatus","mustDeleteResponses"))};(0,g.showModalConfirmation)("Confirm Deletion",s,r,null,null,null,S.StatusType.WARNING)}function m(e,t,n){var i=$("#rubricRow-"+t+"-"+e);n?i.find("td").addClass("cell-selected-negative"):i.find("td").removeClass("cell-selected-negative")}function h(e,t,n){var i=$(".rubricCol-"+t+"-"+e);n?i.addClass("cell-selected-negative"):i.removeClass("cell-selected-negative")}function f(e){var t=e.closest("thead").find("tr").eq(0),n=e.closest("thead").find("tr").eq(1),i=t.find("th").first(),o=n.find("th").first(),a=e.closest("th").children().detach();i.empty(),o.empty(),e.prop("checked")?(i.append('Choices <span class="glyphicon glyphicon-arrow-right"></span>'),o.append(a),o.find(".glyphicon-arrow-right").show()):(i.append(a),i.find(".glyphicon-arrow-right").hide())}function b(){$("body").on("click",'input[id^="rubricAssignWeights"]',function(){var e=$(this);e.closest("form").find('tr[id^="rubricWeights"]').toggle(),f(e)})}function E(){$('table[id^="rubricEditTable-"]').each(function(){var e=$(this).closest("form").data("qnnumber");$("#rubric-options-row-"+e+' td[class*="rubricCol-'+e+'"]').each(function(){var t=$(this).attr("data-col");$("#rubric-move-col-left-"+e+"-"+t).click(function(){r(e,t,!0)}),$("#rubric-move-col-right-"+e+"-"+t).click(function(){r(e,t,!1)})})})}function v(e){return $("#rubricAssignWeights-"+e).prop("checked")}Object.defineProperty(t,"__esModule",{value:!0}),t.removeRubricRow=t.removeRubricCol=t.moveAssignWeightsCheckbox=t.highlightRubricRow=t.highlightRubricCol=t.hasAssignedWeights=t.disableCornerMoveRubricColumnButtons=t.bindMoveRubricColButtons=t.bindAssignWeightsCheckboxes=t.addRubricRow=t.addRubricCol=void 0;var g=n(5),S=n(0),C=n(7);t.addRubricCol=u,t.addRubricRow=l,t.bindAssignWeightsCheckboxes=b,t.bindMoveRubricColButtons=E,t.disableCornerMoveRubricColumnButtons=c,t.hasAssignedWeights=v,t.highlightRubricCol=h,t.highlightRubricRow=m,t.moveAssignWeightsCheckbox=f,t.removeRubricCol=p,t.removeRubricRow=d},71:function(e,t,n){"use strict";function i(e,t){var n=t.find(".visibility-options-dropdown");"Custom visibility options..."===e?n.find("button").text("Custom visibility option:"):n.find("button").text(e)}function o(e){e.find("input.visibilityCheckbox").each(function(e,t){t.checked=!1})}function a(e,t){t.find('input[type="checkbox"][value="RECEIVER"]'+e).prop("checked",!0)}function s(e,t){t.find('input[type="checkbox"][value="OWN_TEAM_MEMBERS"]'+e).prop("checked",!0)}function r(e,t){t.find('input[type="checkbox"][value="RECEIVER_TEAM_MEMBERS"]'+e).prop("checked",!0)}function c(e,t){t.find('input[type="checkbox"][value="INSTRUCTORS"]'+e).prop("checked",!0)}function l(e,t){switch(e){case"OTHER":return;case"ANONYMOUS_TO_RECIPIENT_AND_INSTRUCTORS":a(".answerCheckbox",t),a(".recipientCheckbox",t),c(".answerCheckbox",t),c(".recipientCheckbox",t);break;case"ANONYMOUS_TO_RECIPIENT_VISIBLE_TO_INSTRUCTORS":a(".answerCheckbox",t),a(".recipientCheckbox",t),c(".answerCheckbox",t),c(".giverCheckbox",t),c(".recipientCheckbox",t);break;case"ANONYMOUS_TO_RECIPIENT_AND_TEAM_VISIBLE_TO_INSTRUCTORS":a(".answerCheckbox",t),a(".recipientCheckbox",t),c(".answerCheckbox",t),c(".giverCheckbox",t),c(".recipientCheckbox",t),r(".answerCheckbox",t),s(".answerCheckbox",t);break;case"VISIBLE_TO_INSTRUCTORS_ONLY":c(".answerCheckbox",t),c(".giverCheckbox",t),c(".recipientCheckbox",t);break;case"VISIBLE_TO_RECIPIENT_AND_INSTRUCTORS":a(".answerCheckbox",t),a(".giverCheckbox",t),a(".recipientCheckbox",t),c(".answerCheckbox",t),c(".giverCheckbox",t),c(".recipientCheckbox",t);break;default:throw new Error("Unexpected common visibility option type")}}function u(e){if("CONTRIB"===e.find('input[name="questiontype"]').val()){var t=e.find("input.visibilityCheckbox").filter("[name=receiverLeaderCheckbox]"),n=e.find("input.answerCheckbox").filter("[value=RECEIVER_TEAM_MEMBERS]");t.prop("checked")&&n.prop("checked",!0)}}function d(e){var t={".answerCheckbox":y.ParamsNames.FEEDBACK_QUESTION_SHOWRESPONSESTO,".giverCheckbox":y.ParamsNames.FEEDBACK_QUESTION_SHOWGIVERTO,".recipientCheckbox":y.ParamsNames.FEEDBACK_QUESTION_SHOWRECIPIENTTO};$.each(t,function(t,n){var i=[];$("#form_editquestion-"+e).find(t+":checked").each(function(){i.push($(this).val())}),$("[name="+n+"]").val(i.toString())})}function p(){$("input.answerCheckbox").change(function(){if(!$(this).is(":checked")){var e=$(this).closest("tr");e.find("input.giverCheckbox").prop("checked",!1),e.find("input.recipientCheckbox").prop("checked",!1)}}),$("input.giverCheckbox").change(function(){if($(this).is(":checked")){$(this).closest("tr").find("input.answerCheckbox").prop("checked",!0).trigger("change")}}),$("input.recipientCheckbox").change(function(){if($(this).is(":checked")){$(this).closest("tr").find("input.answerCheckbox").prop("checked",!0)}}),$("input[name=receiverLeaderCheckbox]").change(function(){$(this).closest("tr").find("input[name=receiverFollowerCheckbox]").prop("checked",$(this).prop("checked"))})}function m(e,t){var n=e.find(".visibilityOptions").find("table");$(n.children().children()[t]).show()}function h(e,t){var n=e.find(".visibilityOptions").find("table"),i=$(n.children().children()[t]);i.find('input[type="checkbox"]').each(function(e,t){t.checked=!1}),i.hide()}function f(e){[R,w,M,A,D].forEach(function(t){m(e,t)})}function b(e){switch(e.find('select[name="recipienttype"]').val()){case"SELF":h(e,R),h(e,M);break;case"STUDENTS":break;case"OWN_TEAM":h(e,R),h(e,M);break;case"INSTRUCTORS":case"TEAMS":h(e,M);break;case"OWN_TEAM_MEMBERS":case"OWN_TEAM_MEMBERS_INCLUDING_SELF":h(e,M);break;case"NONE":h(e,R),h(e,M);break;default:throw new Error("Unexpected recipientType")}}function E(e){switch(e.find('select[name="givertype"]').val()){case"STUDENTS":break;case"SELF":case"INSTRUCTORS":case"TEAMS":h(e,w);break;default:throw new Error("Unexpected giverType")}}function v(e){var t=e.find('select[name="givertype"]').val(),n=e.find('select[name="recipienttype"]').val();"SELF"!==t&&"INSTRUCTORS"!==t||"SELF"!==n?"TEAMS"===t&&"OWN_TEAM_MEMBERS_INCLUDING_SELF"===n&&h(e,R):h(e,M)}function g(e){f(e),E(e),b(e),v(e),u(e)}function S(e){var t=e.find(".visibility-options-dropdown > button").text().trim(),n=e.find(".visibilityOptions");"Custom visibility option:"===t?(g(e),n.show()):n.hide()}function C(e){var t="This is the visibility hint as seen by the feedback giver:";t+='<ul class="text-muted background-color-warning">';for(var n=0;n<e.length;n+=1)t+="<li>"+e[n]+"</li>";return t+="</ul>"}function T(e){var t=e.find(".visibilityMessage"),n="This is the visibility hint as seen by the feedback giver:";n+='<ul class="text-muted background-color-warning">',n+="<li><a>Error loading visibility hint. Click here to retry.</a></li>",n+="</ul>",t.html(n),t.find("ul").on("click",function(){t.html(""),O(e)})}function O(e){var t=e.find("[name=questionnum]").val(),n=$("input[name=questionnum]").last().val();d(t===n?x:t);var i=e.serialize(),o=e.find(".visibilityMessage");if(F[t]!==i){o.html("");$.ajax({type:"POST",url:"/page/instructorFeedbackQuestionvisibilityMessage",data:i,beforeSend:function(){o.html("<img src='/images/ajax-loader.gif'/>")},success:function(e){F[t]=i,o.html(C(e.visibilityMessage))},error:function(){T(e)}})}}function N(e){g($(e).closest("form"))}function _(e){O($(e).closest("form"))}function k(){$("body").on("click",".visibility-options-dropdown-option",function(){var e=$(this),t=e.data("optionName"),n=e.closest("form");i(e.text(),n);var a=n.find(".visibilityOptions");"OTHER"===t?(a.show(),g(n)):(o(n),l(t,n),a.hide()),O(n)})}function I(){$("body").on("change",".visibilityCheckbox",function(){O($(this).closest("form"))})}Object.defineProperty(t,"__esModule",{value:!0}),t.tallyCheckboxes=t.showVisibilityCheckboxesIfCustomOptionSelected=t.matchVisibilityOptionToFeedbackPath=t.getVisibilityMessage=t.formatCheckBoxes=t.attachVisibilityDropdownEvent=t.attachVisibilityCheckboxEvent=void 0;var y=n(0),R=1,w=2,M=3,A=4,D=5,x=-1,F={};t.attachVisibilityCheckboxEvent=I,t.attachVisibilityDropdownEvent=k,t.formatCheckBoxes=p,t.getVisibilityMessage=_,t.matchVisibilityOptionToFeedbackPath=N,t.showVisibilityCheckboxesIfCustomOptionSelected=S,t.tallyCheckboxes=d},8:function(e,t,n){"use strict";function i(e,t){var n=$(u),i=$("<div></div>"),o=c.StatusType.isValidType(t)?t:c.StatusType.INFO;return i.addClass("overflow-auto alert alert-"+o+" icon-"+o+" statusMessage"),i.html(e),n.empty(),n.append(i),n}function o(e,t){if(""!==e&&void 0!==e&&null!==e){var n=i(e,t);n.show(),(0,l.scrollToElement)(n[0],{offset:-window.innerHeight/2})}}function a(e,t,n){if(""!==e&&void 0!==e&&null!==e){var o=i(e,t).clone().show();$(u).remove(),$(n).prepend(o);var a={offset:-window.innerHeight/8,duration:1e3};(0,l.scrollToElement)(o[0],a)}}function s(e){var t=$(u);t.append($(e)),t.show()}function r(){var e=$(u);e.empty(),e.hide()}Object.defineProperty(t,"__esModule",{value:!0}),t.setStatusMessageToForm=t.setStatusMessage=t.clearStatusMessages=t.appendStatusMessage=void 0;var c=n(0),l=n(4),u="#statusMessagesToUser";t.appendStatusMessage=s,t.clearStatusMessages=r,t.setStatusMessage=o,t.setStatusMessageToForm=a},92:function(e,t,n){n(41),e.exports=n(1)}});