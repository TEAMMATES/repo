function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _createForOfIteratorHelper(e,s){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=_unsupportedIterableToArray(e))||s&&e&&"number"==typeof e.length){t&&(e=t);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,a=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return r=e.done,e},e:function(e){a=!0,o=e},f:function(){try{r||null==t.return||t.return()}finally{if(a)throw o}}}}function _unsupportedIterableToArray(e,s){if(e){if("string"==typeof e)return _arrayLikeToArray(e,s);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,s):void 0}}function _arrayLikeToArray(e,s){(null==s||s>e.length)&&(s=e.length);for(var t=0,n=new Array(s);t<s;t++)n[t]=e[t];return n}function _inherits(e,s){if("function"!=typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(s&&s.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),s&&_setPrototypeOf(e,s)}function _setPrototypeOf(e,s){return(_setPrototypeOf=Object.setPrototypeOf||function(e,s){return e.__proto__=s,e})(e,s)}function _createSuper(e){var s=_isNativeReflectConstruct();return function(){var t,n=_getPrototypeOf(e);if(s){var i=_getPrototypeOf(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return _possibleConstructorReturn(this,t)}}function _possibleConstructorReturn(e,s){return!s||"object"!=typeof s&&"function"!=typeof s?_assertThisInitialized(e):s}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _classCallCheck(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,s){for(var t=0;t<s.length;t++){var n=s[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,s,t){return s&&_defineProperties(e.prototype,s),t&&_defineProperties(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{"++8I":function(e,s,t){"use strict";t.d(s,"a",(function(){return r}));var n=t("vMQM"),i=t("fXoL"),o=t("mW1j"),r=function(){var e=function(){function e(s){_classCallCheck(this,e),this.httpRequestService=s}return _createClass(e,[{key:"loadInstructors",value:function(e){var s={courseid:e.courseId};return e.intent&&(s.intent=e.intent),this.httpRequestService.get(n.d.INSTRUCTORS,s)}},{key:"getInstructor",value:function(e){var s={courseid:e.courseId,intent:e.intent};return e.feedbackSessionName&&(s.fsname=e.feedbackSessionName),e.key&&(s.key=e.key),e.moderatedPerson&&(s.moderatedperson=e.moderatedPerson),e.previewAs&&(s.previewas=e.previewAs),this.httpRequestService.get(n.d.INSTRUCTOR,s)}},{key:"createInstructor",value:function(e){return this.httpRequestService.post(n.d.INSTRUCTOR,{courseid:e.courseId},e.requestBody)}},{key:"updateInstructor",value:function(e){return this.httpRequestService.put(n.d.INSTRUCTOR,{courseid:e.courseId},e.requestBody)}},{key:"deleteInstructor",value:function(e){var s={courseid:e.courseId};return e.instructorEmail&&(s.instructoremail=e.instructorEmail),e.instructorId&&(s.instructorid=e.instructorId),this.httpRequestService.delete(n.d.INSTRUCTOR,s)}},{key:"loadInstructorPrivilege",value:function(e){var s={courseid:e.courseId};return e.feedbackSessionName&&(s.fsname=e.feedbackSessionName),e.sectionName&&(s.sectionname=e.sectionName),e.instructorRole&&(s.instructorrole=e.instructorRole),e.instructorEmail&&(s.instructoremail=e.instructorEmail),e.instructorId&&(s.instructorid=e.instructorId),this.httpRequestService.get(n.d.INSTRUCTOR_PRIVILEGE,s)}},{key:"updateInstructorPrivilege",value:function(e){return this.httpRequestService.put(n.d.INSTRUCTOR_PRIVILEGE,{courseid:e.courseId,instructoremail:e.instructorEmail},e.requestBody)}}]),e}();return e.\u0275fac=function(s){return new(s||e)(i.ec(o.a))},e.\u0275prov=i.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},GJmQ:function(e,s,t){"use strict";t.d(s,"a",(function(){return i}));var n=t("7o/Q");function i(e){var s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(t){return t.lift(new o(e,s))}}var o=function(){function e(s,t){_classCallCheck(this,e),this.predicate=s,this.inclusive=t}return _createClass(e,[{key:"call",value:function(e,s){return s.subscribe(new r(e,this.predicate,this.inclusive))}}]),e}(),r=function(e){_inherits(t,e);var s=_createSuper(t);function t(e,n,i){var o;return _classCallCheck(this,t),(o=s.call(this,e)).predicate=n,o.inclusive=i,o.index=0,o}return _createClass(t,[{key:"_next",value:function(e){var s,t=this.destination;try{s=this.predicate(e,this.index++)}catch(n){return void t.error(n)}this.nextOrComplete(e,s)}},{key:"nextOrComplete",value:function(e,s){var t=this.destination;Boolean(s)?t.next(e):(this.inclusive&&t.next(e),t.complete())}}]),t}(n.a)},Iab2:function(e,s,t){var n,i;void 0===(i="function"==typeof(n=function(){"use strict";function s(e,s,t){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){o(n.response,s,t)},n.onerror=function(){console.error("could not download file")},n.send()}function t(e){var s=new XMLHttpRequest;s.open("HEAD",e,!1);try{s.send()}catch(e){}return 200<=s.status&&299>=s.status}function n(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(s){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,o=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype?function(e,o,r){var a=i.URL||i.webkitURL,c=document.createElement("a");c.download=o=o||e.name||"download",c.rel="noopener","string"==typeof e?(c.href=e,c.origin===location.origin?n(c):t(c.href)?s(e,o,r):n(c,c.target="_blank")):(c.href=a.createObjectURL(e),setTimeout((function(){a.revokeObjectURL(c.href)}),4e4),setTimeout((function(){n(c)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,i,o){if(i=i||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,s){return void 0===s?s={autoBom:!1}:"object"!=typeof s&&(console.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,o),i);else if(t(e))s(e,i,o);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout((function(){n(r)}))}}:function(e,t,n,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof e)return s(e,t,n);var r="application/octet-stream"===e.type,a=/constructor/i.test(i.HTMLElement)||i.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||r&&a)&&"object"==typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=e:location=e,o=null},u.readAsDataURL(e)}else{var l=i.URL||i.webkitURL,d=l.createObjectURL(e);o?o.location=d:location.href=d,o=null,setTimeout((function(){l.revokeObjectURL(d)}),4e4)}});i.saveAs=o.saveAs=o,e.exports=o})?n.apply(s,[]):n)||(e.exports=i)},PDyD:function(e,s,t){"use strict";t.r(s),t.d(s,"InstructorSessionResultPageModule",(function(){return Cs}));var n=t("ofXK"),i=t("3Pt+"),o=t("tyNb"),r=t("1kSV"),a=t("n6pr"),c=t("mYbV"),u=t("aSpy"),l=t("SEFB"),d=t("TOej"),b=t("Iab2"),p=t("GyhO"),m=t("nYR2"),f=t("GJmQ"),v=t("R8lv"),g=t("9jjE"),h=t("/Tzu"),T=t("gMOI"),y=t("aLv3"),S=t("C58a"),C=t("h3mH"),k=t("fXoL"),w=t("MbNv"),R=t("YxrJ"),E=t("vKUq"),M=t("iRmZ"),I=t("++8I"),O=t("A3DQ"),V=t("eQqG"),x=t("bYKa"),F=t("ax2R"),q=t("Uqoa"),W=t("r0mR"),Q=t("KryH"),N=t("I8MS");function _(e,s){1&e&&k.Rb(0,"i",27)}function A(e,s){1&e&&k.Rb(0,"i",28)}function P(e,s){1&e&&k.Rb(0,"tm-ajax-loading")}var L=function(e,s){return{courseid:e,fsname:s,editingMode:!0}};function G(e,s){if(1&e){var t=k.Xb();k.Wb(0,"div",5),k.Wb(1,"div",6),k.Wb(2,"div",7),k.Wb(3,"div",8),k.Wb(4,"label",9),k.Wb(5,"b"),k.Qc(6,"Course ID:"),k.Vb(),k.Vb(),k.Wb(7,"div",10),k.Wb(8,"p",11),k.Qc(9),k.Vb(),k.Vb(),k.Vb(),k.Wb(10,"div",8),k.Wb(11,"label",9),k.Wb(12,"b"),k.Qc(13,"Session:"),k.Vb(),k.Vb(),k.Wb(14,"div",12),k.Wb(15,"p",11),k.Qc(16),k.Wb(17,"a",13),k.Rb(18,"i",14),k.Vb(),k.Vb(),k.Vb(),k.Vb(),k.Vb(),k.Wb(19,"div",15),k.Wb(20,"div",8),k.Wb(21,"label",9),k.Wb(22,"b"),k.Qc(23,"Session duration:"),k.Vb(),k.Vb(),k.Wb(24,"div",16),k.Wb(25,"p",11),k.Qc(26),k.Wb(27,"b"),k.Qc(28,"to"),k.Vb(),k.Qc(29),k.Vb(),k.Vb(),k.Vb(),k.Wb(30,"div",8),k.Wb(31,"label",9),k.Wb(32,"b"),k.Qc(33,"Results visible from:"),k.Vb(),k.Vb(),k.Wb(34,"div",17),k.Wb(35,"p",11),k.Qc(36),k.Vb(),k.Vb(),k.Vb(),k.Vb(),k.Wb(37,"div",18),k.Wb(38,"button",19),k.ic("click",(function(){return k.Fc(t),k.kc(2).publishResultHandler()})),k.Oc(39,_,1,0,"i",20),k.Oc(40,A,1,0,"i",21),k.Qc(41),k.Vb(),k.Wb(42,"button",22),k.ic("click",(function(){return k.Fc(t),k.kc(2).downloadResultHandler()})),k.Oc(43,P,1,0,"tm-ajax-loading",23),k.Rb(44,"i",24),k.Qc(45," Download Results "),k.Vb(),k.Wb(46,"button",25),k.ic("click",(function(){return k.Fc(t),k.kc(2).printViewHandler()})),k.Rb(47,"i",26),k.Qc(48," Print View "),k.Vb(),k.Vb(),k.Vb(),k.Vb()}if(2&e){var n=k.kc(2),i=k.Cc(8);k.Cb(9),k.Rc(n.session.courseId),k.Cb(7),k.Sc("",n.session.feedbackSessionName," "),k.Cb(1),k.sc("queryParams",k.xc(13,L,n.session.courseId,n.session.feedbackSessionName)),k.Cb(9),k.Sc("",n.formattedSessionOpeningTime,"\xa0\xa0\xa0"),k.Cb(3),k.Sc("\xa0\xa0\xa0",n.formattedSessionClosingTime,""),k.Cb(7),k.Rc(n.formattedResultVisibleFromTime),k.Cb(2),k.tc("ngbTooltip",n.session.publishStatus==n.FeedbackSessionPublishStatus.PUBLISHED?"Make responses no longer visible":"Make session responses available for viewing"),k.Cb(1),k.sc("ngIf",n.session.publishStatus==n.FeedbackSessionPublishStatus.NOT_PUBLISHED),k.Cb(1),k.sc("ngIf",n.session.publishStatus==n.FeedbackSessionPublishStatus.PUBLISHED),k.Cb(1),k.Sc(" ",n.session.publishStatus==n.FeedbackSessionPublishStatus.PUBLISHED?"Unpublish":"Publish"," Results "),k.Cb(1),k.sc("ngbTooltip",i)("disabled",n.isDownloadingResults),k.Cb(1),k.sc("ngIf",n.isDownloadingResults)}}function U(e,s){if(1&e&&(k.Wb(0,"option",35),k.Qc(1),k.Vb()),2&e){var t=s.$implicit;k.sc("value",t.key),k.Cb(1),k.Sc(" ","None"===t.key?"No specific section":t.key," ")}}function B(e,s){if(1&e&&(k.Wb(0,"option",51),k.Qc(1),k.lc(2,"sectionTypeDescription"),k.Vb()),2&e){var t=s.$implicit;k.sc("ngValue",t),k.Cb(1),k.Sc(" ",k.mc(2,2,t)," ")}}function j(e,s){if(1&e){var t=k.Xb();k.Wb(0,"div",31),k.Wb(1,"label",36),k.Wb(2,"b",48),k.Qc(3,"If showing only a section:"),k.Vb(),k.Vb(),k.Wb(4,"div"),k.Wb(5,"select",49),k.ic("ngModelChange",(function(e){return k.Fc(t),k.kc(3).sectionType=e})),k.Oc(6,B,3,4,"option",50),k.lc(7,"enumToArray"),k.Vb(),k.Vb(),k.Vb()}if(2&e){var n=k.kc(3);k.Cb(5),k.sc("ngModel",n.sectionType),k.Cb(1),k.sc("ngForOf",k.mc(7,2,n.InstructorSessionResultSectionType))}}function D(e,s){if(1&e){var t=k.Xb();k.Wb(0,"div",5),k.Wb(1,"div",29),k.Wb(2,"div",30),k.Wb(3,"div",31),k.Wb(4,"label",32),k.Wb(5,"b",33),k.Qc(6,"View:"),k.Vb(),k.Vb(),k.Wb(7,"div"),k.Wb(8,"select",34),k.ic("ngModelChange",(function(e){return k.Fc(t),k.kc(2).handleViewTypeChange(e)})),k.Wb(9,"option",35),k.Qc(10,"Group by - Question"),k.Vb(),k.Wb(11,"option",35),k.Qc(12,"Group by - Giver \u2192 Recipient \u2192 Question"),k.Vb(),k.Wb(13,"option",35),k.Qc(14,"Group by - Recipient \u2192 Giver \u2192 Question"),k.Vb(),k.Wb(15,"option",35),k.Qc(16,"Group by - Giver \u2192 Question \u2192 Recipient"),k.Vb(),k.Wb(17,"option",35),k.Qc(18,"Group by - Recipient \u2192 Question \u2192 Giver"),k.Vb(),k.Vb(),k.Vb(),k.Vb(),k.Wb(19,"div",31),k.Wb(20,"label",36),k.Wb(21,"b",37),k.Qc(22,"Section:"),k.Vb(),k.Vb(),k.Wb(23,"div"),k.Wb(24,"select",38),k.ic("ngModelChange",(function(e){return k.Fc(t),k.kc(2).section=e})),k.Wb(25,"option",39),k.Qc(26,"All"),k.Vb(),k.Oc(27,U,2,2,"option",40),k.lc(28,"keyvalue"),k.Vb(),k.Vb(),k.Vb(),k.Oc(29,j,8,4,"div",41),k.Vb(),k.Wb(30,"div",42),k.Wb(31,"label",43),k.Wb(32,"b"),k.Qc(33,"Additional settings:"),k.Vb(),k.Vb(),k.Wb(34,"div"),k.Wb(35,"label",44),k.Wb(36,"input",45),k.ic("ngModelChange",(function(e){return k.Fc(t),k.kc(2).groupByTeam=e})),k.Vb(),k.Qc(37," Group by Teams"),k.Vb(),k.Vb(),k.Wb(38,"div"),k.Wb(39,"label",44),k.Wb(40,"input",46),k.ic("ngModelChange",(function(e){return k.Fc(t),k.kc(2).showStatistics=e})),k.Vb(),k.Qc(41," Show Statistics"),k.Vb(),k.Vb(),k.Wb(42,"div"),k.Wb(43,"label",44),k.Wb(44,"input",47),k.ic("ngModelChange",(function(e){return k.Fc(t),k.kc(2).indicateMissingResponses=e})),k.Vb(),k.Qc(45," Indicate Missing Responses"),k.Vb(),k.Vb(),k.Vb(),k.Vb(),k.Vb()}if(2&e){var n=k.kc(2);k.Cb(5),k.tc("ngbTooltip",n.viewTooltipText),k.Cb(3),k.sc("ngModel",n.viewType),k.Cb(1),k.sc("value",n.InstructorSessionResultViewType.QUESTION),k.Cb(2),k.sc("value",n.InstructorSessionResultViewType.GRQ),k.Cb(2),k.sc("value",n.InstructorSessionResultViewType.RGQ),k.Cb(2),k.sc("value",n.InstructorSessionResultViewType.GQR),k.Cb(2),k.sc("value",n.InstructorSessionResultViewType.RQG),k.Cb(7),k.sc("ngModel",n.section),k.Cb(3),k.sc("ngForOf",k.mc(28,15,n.sectionsModel)),k.Cb(2),k.sc("ngIf",n.section),k.Cb(7),k.sc("ngModel",n.groupByTeam)("disabled","QUESTION"===n.viewType),k.Cb(4),k.sc("ngModel",n.showStatistics)("disabled","GRQ"===n.viewType||"RGQ"===n.viewType),k.Cb(4),k.sc("ngModel",n.indicateMissingResponses)}}function H(e,s){if(1&e&&(k.Wb(0,"div"),k.Oc(1,G,49,16,"div",4),k.Oc(2,D,46,17,"div",4),k.Vb()),2&e){var t=k.kc();k.Cb(1),k.sc("ngIf",t.session),k.Cb(1),k.sc("ngIf",t.session)}}function X(e,s){if(1&e){var t=k.Xb();k.Wb(0,"tm-instructor-session-result-question-view",56),k.ic("instructorCommentTableModelChange",(function(e){return k.Fc(t),k.kc(2).instructorCommentTableModel=e}))("saveNewCommentEvent",(function(e){k.Fc(t);var s=k.kc(2);return s.saveNewComment(e,s.session.timeZone)}))("deleteCommentEvent",(function(e){return k.Fc(t),k.kc(2).deleteComment(e)}))("updateCommentEvent",(function(e){k.Fc(t);var s=k.kc(2);return s.updateComment(e,s.session.timeZone)}))("toggleAndLoadTab",(function(e){return k.Fc(t),k.kc(2).toggleQuestionTab(e)}))("downloadQuestionResult",(function(e){return k.Fc(t),k.kc(2).downloadQuestionResultHandler(e)})),k.Vb()}if(2&e){var n=k.kc(2);k.sc("questions",n.questionsModel)("section",n.section)("sectionType",n.sectionType)("session",n.session)("showStatistics",n.showStatistics)("indicateMissingResponses",n.indicateMissingResponses)("instructorCommentTableModel",n.instructorCommentTableModel)}}function $(e,s){if(1&e){var t=k.Xb();k.Wb(0,"tm-instructor-session-result-grq-view",57),k.ic("instructorCommentTableModelChange",(function(e){return k.Fc(t),k.kc(2).instructorCommentTableModel=e}))("saveNewCommentEvent",(function(e){k.Fc(t);var s=k.kc(2);return s.saveNewComment(e,s.session.timeZone)}))("deleteCommentEvent",(function(e){return k.Fc(t),k.kc(2).deleteComment(e)}))("updateCommentEvent",(function(e){k.Fc(t);var s=k.kc(2);return s.updateComment(e,s.session.timeZone)}))("toggleAndLoadTab",(function(e){return k.Fc(t),k.kc(2).toggleSectionTab(e)})),k.Vb()}if(2&e){var n=k.kc(2);k.sc("responses",n.sectionsModel)("isExpandAll",n.isExpandAll)("section",n.section)("sectionType",n.sectionType)("groupByTeam",n.groupByTeam)("session",n.session)("showStatistics",n.showStatistics)("indicateMissingResponses",n.indicateMissingResponses)("instructorCommentTableModel",n.instructorCommentTableModel)}}function Z(e,s){if(1&e){var t=k.Xb();k.Wb(0,"tm-instructor-session-result-rgq-view",57),k.ic("instructorCommentTableModelChange",(function(e){return k.Fc(t),k.kc(2).instructorCommentTableModel=e}))("saveNewCommentEvent",(function(e){k.Fc(t);var s=k.kc(2);return s.saveNewComment(e,s.session.timeZone)}))("deleteCommentEvent",(function(e){return k.Fc(t),k.kc(2).deleteComment(e)}))("updateCommentEvent",(function(e){k.Fc(t);var s=k.kc(2);return s.updateComment(e,s.session.timeZone)}))("toggleAndLoadTab",(function(e){return k.Fc(t),k.kc(2).toggleSectionTab(e)})),k.Vb()}if(2&e){var n=k.kc(2);k.sc("responses",n.sectionsModel)("isExpandAll",n.isExpandAll)("section",n.section)("sectionType",n.sectionType)("groupByTeam",n.groupByTeam)("session",n.session)("showStatistics",n.showStatistics)("indicateMissingResponses",n.indicateMissingResponses)("instructorCommentTableModel",n.instructorCommentTableModel)}}function z(e,s){if(1&e){var t=k.Xb();k.Wb(0,"tm-instructor-session-result-gqr-view",57),k.ic("instructorCommentTableModelChange",(function(e){return k.Fc(t),k.kc(2).instructorCommentTableModel=e}))("saveNewCommentEvent",(function(e){k.Fc(t);var s=k.kc(2);return s.saveNewComment(e,s.session.timeZone)}))("deleteCommentEvent",(function(e){return k.Fc(t),k.kc(2).deleteComment(e)}))("updateCommentEvent",(function(e){k.Fc(t);var s=k.kc(2);return s.updateComment(e,s.session.timeZone)}))("toggleAndLoadTab",(function(e){return k.Fc(t),k.kc(2).toggleSectionTab(e)})),k.Vb()}if(2&e){var n=k.kc(2);k.sc("responses",n.sectionsModel)("isExpandAll",n.isExpandAll)("section",n.section)("sectionType",n.sectionType)("groupByTeam",n.groupByTeam)("session",n.session)("showStatistics",n.showStatistics)("indicateMissingResponses",n.indicateMissingResponses)("instructorCommentTableModel",n.instructorCommentTableModel)}}function Y(e,s){if(1&e){var t=k.Xb();k.Wb(0,"tm-instructor-session-result-rqg-view",57),k.ic("instructorCommentTableModelChange",(function(e){return k.Fc(t),k.kc(2).instructorCommentTableModel=e}))("saveNewCommentEvent",(function(e){k.Fc(t);var s=k.kc(2);return s.saveNewComment(e,s.session.timeZone)}))("deleteCommentEvent",(function(e){return k.Fc(t),k.kc(2).deleteComment(e)}))("updateCommentEvent",(function(e){k.Fc(t);var s=k.kc(2);return s.updateComment(e,s.session.timeZone)}))("toggleAndLoadTab",(function(e){return k.Fc(t),k.kc(2).toggleSectionTab(e)})),k.Vb()}if(2&e){var n=k.kc(2);k.sc("responses",n.sectionsModel)("isExpandAll",n.isExpandAll)("section",n.section)("sectionType",n.sectionType)("groupByTeam",n.groupByTeam)("session",n.session)("showStatistics",n.showStatistics)("indicateMissingResponses",n.indicateMissingResponses)("instructorCommentTableModel",n.instructorCommentTableModel)}}function J(e,s){if(1&e){var t=k.Xb();k.Wb(0,"div"),k.Wb(1,"div",52),k.Wb(2,"button",53),k.ic("click",(function(){return k.Fc(t),k.kc().toggleExpandAllHandler()})),k.Qc(3),k.Vb(),k.Vb(),k.Oc(4,X,1,7,"tm-instructor-session-result-question-view",54),k.Oc(5,$,1,9,"tm-instructor-session-result-grq-view",55),k.Oc(6,Z,1,9,"tm-instructor-session-result-rgq-view",55),k.Oc(7,z,1,9,"tm-instructor-session-result-gqr-view",55),k.Oc(8,Y,1,9,"tm-instructor-session-result-rqg-view",55),k.Vb()}if(2&e){var n=k.kc();k.Cb(3),k.Sc(" ",n.isExpandAll?"Collapse":"Expand"," All "),k.Cb(1),k.sc("ngIf",n.viewType===n.InstructorSessionResultViewType.QUESTION),k.Cb(1),k.sc("ngIf",n.viewType===n.InstructorSessionResultViewType.GRQ),k.Cb(1),k.sc("ngIf",n.viewType===n.InstructorSessionResultViewType.RGQ),k.Cb(1),k.sc("ngIf",n.viewType===n.InstructorSessionResultViewType.GQR),k.Cb(1),k.sc("ngIf",n.viewType===n.InstructorSessionResultViewType.RQG)}}function K(e,s){if(1&e){var t=k.Xb();k.Wb(0,"div",58),k.Wb(1,"tm-instructor-session-no-response-panel",59),k.ic("studentsToRemindEvent",(function(e){return k.Fc(t),k.kc().sendReminderToStudents(e)})),k.Vb(),k.Vb()}if(2&e){var n=k.kc();k.Cb(1),k.sc("allStudents",n.allStudentsInCourse)("noResponseStudents",n.noResponseStudents)("section",n.section)("session",n.session)}}function ee(e,s){if(1&e&&(k.Qc(0," Download session results"),k.Rb(1,"br"),k.Qc(2),k.Rb(3,"br"),k.Qc(4)),2&e){var t=k.kc();k.Cb(2),k.Sc(" Show Statistics (",t.showStatistics?"\u2713":"\u2717",")"),k.Cb(2),k.Sc(" Indicate Missing Responses (",t.indicateMissingResponses?"\u2713":"\u2717",")\n")}}var se,te="ddd, DD MMM, YYYY, hh:mm A zz",ne=((se=function(e){_inherits(t,e);var s=_createSuper(t);function t(e,n,i,o,r,a,c,u,l,d,b,p,m,f){var g;return _classCallCheck(this,t),(g=s.call(this,m,p,b,f)).feedbackSessionsService=e,g.feedbackQuestionsService=n,g.courseService=i,g.studentService=o,g.instructorService=r,g.route=a,g.timezoneService=c,g.simpleModalService=u,g.commentsToCommentTableModel=l,g.progressBarService=d,g.InstructorSessionResultSectionType=S.a,g.InstructorSessionResultViewType=C.a,g.formattedSessionOpeningTime="",g.formattedSessionClosingTime="",g.formattedResultVisibleFromTime="",g.courseId="",g.fsName="",g.viewType=C.a.QUESTION,g.viewTooltipText="View results in different formats",g.section="",g.sectionType=S.a.EITHER,g.groupByTeam=!0,g.showStatistics=!0,g.indicateMissingResponses=!0,g.sectionsModel={},g.isSectionsLoaded=!1,g.hasSectionsLoadingFailed=!1,g.questionsModel={},g.isQuestionsLoaded=!1,g.hasQuestionsLoadingFailed=!1,g.isFeedbackSessionLoading=!1,g.hasFeedbackSessionLoadingFailed=!1,g.isDownloadingResults=!1,g.noResponseStudents=[],g.isNoResponsePanelLoaded=!1,g.hasNoResponseLoadingFailed=!1,g.allStudentsInCourse=[],g.FeedbackSessionPublishStatus=v.e,g.isExpandAll=!1,g.session={courseId:"",timeZone:"",feedbackSessionName:"",instructions:"",submissionStartTimestamp:0,submissionEndTimestamp:0,gracePeriod:0,sessionVisibleSetting:v.o.AT_OPEN,responseVisibleSetting:v.n.AT_VISIBLE,submissionStatus:v.f.OPEN,publishStatus:v.e.NOT_PUBLISHED,isClosingEmailEnabled:!0,isPublishedEmailEnabled:!0,createdAtTimestamp:0},g.timezoneService.getTzVersion(),g}return _createClass(t,[{key:"ngOnInit",value:function(){var e=this;this.route.queryParams.subscribe((function(s){e.courseId=s.courseid,e.fsName=s.fsname,e.loadFeedbackSessionResults(e.courseId,e.fsName)}))}},{key:"loadFeedbackSessionResults",value:function(e,s){var t=this;this.hasQuestionsLoadingFailed=!1,this.hasSectionsLoadingFailed=!1,this.hasFeedbackSessionLoadingFailed=!1,this.isFeedbackSessionLoading=!0,this.feedbackSessionsService.getFeedbackSession({courseId:e,feedbackSessionName:s,intent:g.b.INSTRUCTOR_RESULT}).subscribe((function(n){t.session=n,t.formattedSessionOpeningTime=t.timezoneService.formatToString(t.session.submissionStartTimestamp,t.session.timeZone,te),t.formattedSessionClosingTime=t.timezoneService.formatToString(t.session.submissionEndTimestamp,t.session.timeZone,te),t.formattedResultVisibleFromTime=t.session.resultVisibleFromTimestamp?t.timezoneService.formatToString(t.session.resultVisibleFromTimestamp,t.session.timeZone,te):"Not applicable",t.isFeedbackSessionLoading=!1,t.courseService.getCourseSectionNames(e).subscribe((function(e){t.sectionsModel.None={questions:[],hasPopulated:!1,isTabExpanded:!1};var s,n=_createForOfIteratorHelper(e.sectionNames);try{for(n.s();!(s=n.n()).done;){var i=s.value;t.sectionsModel[i]={questions:[],hasPopulated:!1,isTabExpanded:!1}}}catch(o){n.e(o)}finally{n.f()}t.isSectionsLoaded=!0}),(function(e){t.hasSectionsLoadingFailed=!0,t.statusMessageService.showErrorToast(e.error.message)})),t.feedbackQuestionsService.getFeedbackQuestions({courseId:e,feedbackSessionName:s,intent:g.b.INSTRUCTOR_RESULT}).subscribe((function(e){var s,n=_createForOfIteratorHelper(e.questions);try{for(n.s();!(s=n.n()).done;){var i=s.value;t.questionsModel[i.feedbackQuestionId]={question:i,responses:[],statistics:"",hasPopulated:!1,isTabExpanded:!1}}}catch(o){n.e(o)}finally{n.f()}t.isQuestionsLoaded=!0}),(function(e){t.hasQuestionsLoadingFailed=!0,t.statusMessageService.showErrorToast(e.error.message)})),t.studentService.getStudentsFromCourse({courseId:e}).subscribe((function(n){t.allStudentsInCourse=n.students,t.loadNoResponseStudents(e,s)}),(function(e){t.statusMessageService.showErrorToast(e.error.message)})),t.instructorService.getInstructor({courseId:e,intent:g.b.FULL_DETAIL}).subscribe((function(e){t.currInstructorName=e.name}))}),(function(e){t.isFeedbackSessionLoading=!1,t.hasFeedbackSessionLoadingFailed=!0,t.statusMessageService.showErrorToast(e.error.message)}))}},{key:"loadNoResponseStudents",value:function(e,s){var t=this;this.hasNoResponseLoadingFailed=!1,this.feedbackSessionsService.getFeedbackSessionSubmittedGiverSet({courseId:e,feedbackSessionName:s}).subscribe((function(e){t.noResponseStudents=t.allStudentsInCourse.filter((function(s){return!e.giverIdentifiers.includes(s.email)}))}),(function(e){t.hasNoResponseLoadingFailed=!0,t.statusMessageService.showErrorToast(e.error.message)})),this.isNoResponsePanelLoaded=!0}},{key:"toggleQuestionTab",value:function(e){this.questionsModel[e].isTabExpanded=!this.questionsModel[e].isTabExpanded,this.questionsModel[e].isTabExpanded&&this.loadQuestionTab(e)}},{key:"loadQuestionTab",value:function(e){var s=this;this.questionsModel[e].hasPopulated||this.feedbackSessionsService.getFeedbackSessionResults({questionId:e,courseId:this.session.courseId,feedbackSessionName:this.session.feedbackSessionName,intent:g.b.INSTRUCTOR_RESULT}).subscribe((function(t){if(t.questions.length){var n=t.questions[0];s.questionsModel[e].responses=n.allResponses,s.questionsModel[e].statistics=n.questionStatistics,s.questionsModel[e].hasPopulated=!0,s.preprocessComments(n.allResponses)}}),(function(e){s.statusMessageService.showErrorToast(e.error.message)}))}},{key:"toggleSectionTab",value:function(e){this.sectionsModel[e].isTabExpanded=!this.sectionsModel[e].isTabExpanded,this.sectionsModel[e].isTabExpanded&&this.loadSectionTab(e)}},{key:"loadSectionTab",value:function(e){var s=this;this.sectionsModel[e].hasPopulated||this.feedbackSessionsService.getFeedbackSessionResults({courseId:this.session.courseId,feedbackSessionName:this.session.feedbackSessionName,intent:g.b.INSTRUCTOR_RESULT,groupBySection:e}).subscribe((function(t){s.sectionsModel[e].questions=t.questions,s.sectionsModel[e].hasPopulated=!0,t.questions.sort((function(e,s){return e.feedbackQuestion.questionNumber-s.feedbackQuestion.questionNumber})),t.questions.forEach((function(e){s.preprocessComments(e.allResponses)}))}),(function(e){s.statusMessageService.showErrorToast(e.error.message)}))}},{key:"preprocessComments",value:function(e){var s=this;e.forEach((function(e){s.instructorCommentTableModel[e.responseId]=s.commentsToCommentTableModel.transform(e.instructorComments,!1,s.session.timeZone),s.sortComments(s.instructorCommentTableModel[e.responseId]),e.instructorComments=[]}))}},{key:"publishResultHandler",value:function(){var e=this,s=this.session.publishStatus===v.e.PUBLISHED;(s?this.simpleModalService.openConfirmationModal("Unpublish this session <strong>".concat(this.session.feedbackSessionName,"</strong>?"),h.a.WARNING,"An email will be sent to students to inform them that the session has been unpublished and the session responses\n          will no longer be viewable by students."):this.simpleModalService.openConfirmationModal("Publish this session <strong>".concat(this.session.feedbackSessionName,"</strong>?"),h.a.WARNING,"An email will be sent to students to inform them that the responses are ready for viewing.")).result.then((function(){(s?e.feedbackSessionsService.unpublishFeedbackSession(e.session.courseId,e.session.feedbackSessionName):e.feedbackSessionsService.publishFeedbackSession(e.session.courseId,e.session.feedbackSessionName)).subscribe((function(s){e.session=s,e.session.resultVisibleFromTimestamp?(e.formattedResultVisibleFromTime=e.timezoneService.formatToString(e.session.resultVisibleFromTimestamp,e.session.timeZone,te),e.statusMessageService.showSuccessToast("The feedback session has been published. Please allow up to 1 hour for all the notification emails to be sent out.")):(e.formattedResultVisibleFromTime="Not applicable",e.statusMessageService.showSuccessToast("The feedback session has been unpublished."))}),(function(s){e.statusMessageService.showErrorToast(s.error.message)}))}),(function(){}))}},{key:"printViewHandler",value:function(){window.print()}},{key:"downloadResultHandler",value:function(){var e=this;this.isDownloadingResults=!0;var s,t="".concat(this.session.courseId,"_").concat(this.session.feedbackSessionName,"_result.csv"),n=!1,i=[],o=0,r=this.simpleModalService.openLoadingModal("Download Progress",h.a.LOAD,"Downloading the results of your feedback session...");r.result.then((function(){e.isDownloadingResults=!1,n=!0})),Object(p.a).apply(void 0,_toConsumableArray(Object.keys(this.questionsModel).map((function(s){return e.feedbackSessionsService.downloadSessionResults(e.session.courseId,e.session.feedbackSessionName,g.b.INSTRUCTOR_RESULT,e.indicateMissingResponses,e.showStatistics,e.questionsModel[s].question.feedbackQuestionId,0===e.section.length?void 0:e.section,0===e.section.length?void 0:e.sectionType)})))).pipe(Object(m.a)((function(){return e.isDownloadingResults=!1}))).pipe(Object(f.a)((function(){return e.isDownloadingResults}))).subscribe({next:function(s){i.push(s),o+=1;var t=Object.keys(e.questionsModel).length,n=Math.round(100*o/t);e.progressBarService.updateProgress(n)},complete:function(){n||(r.close(),s=new Blob(i,{type:"text/csv"}),Object(b.saveAs)(s,t))},error:function(s){e.statusMessageService.showErrorToast(s.error.message),r.close()}})}},{key:"downloadQuestionResultHandler",value:function(e){var s=this,t="".concat(this.session.courseId,"_").concat(this.session.feedbackSessionName,"_question").concat(e.questionNumber,".csv");this.feedbackSessionsService.downloadSessionResults(this.session.courseId,this.session.feedbackSessionName,g.b.INSTRUCTOR_RESULT,this.indicateMissingResponses,this.showStatistics,e.questionId).subscribe((function(e){var s=new Blob([e],{type:"text/csv"});Object(b.saveAs)(s,t)}),(function(e){s.statusMessageService.showErrorToast(e.error.message)}))}},{key:"toggleExpandAllHandler",value:function(){this.isExpandAll?this.collapseAllTabs():this.expandAllTabs()}},{key:"expandAllTabs",value:function(){if(this.isExpandAll=!0,void 0!==this.noResponsePanel&&this.noResponsePanel.expandTab(),this.viewType!==C.a.QUESTION)for(var e=0,s=Object.keys(this.sectionsModel);e<s.length;e++){var t=s[e];this.sectionsModel[t].isTabExpanded=!0,this.loadSectionTab(t)}else for(var n=0,i=Object.keys(this.questionsModel);n<i.length;n++){var o=i[n];this.questionsModel[o].isTabExpanded=!0,this.loadQuestionTab(o)}}},{key:"collapseAllTabs",value:function(){if(this.isExpandAll=!1,void 0!==this.noResponsePanel&&this.noResponsePanel.collapseTab(),this.viewType!==C.a.QUESTION)for(var e=0,s=Object.keys(this.sectionsModel);e<s.length;e++){var t=s[e];this.sectionsModel[t].isTabExpanded=!1}else for(var n=0,i=Object.keys(this.questionsModel);n<i.length;n++){var o=i[n];this.questionsModel[o].isTabExpanded=!1}}},{key:"sendReminderToStudents",value:function(e){var s=this;this.feedbackSessionsService.remindFeedbackSessionSubmissionForRespondents(this.session.courseId,this.session.feedbackSessionName,{usersToRemind:e.map((function(e){return e.email}))}).subscribe((function(){s.statusMessageService.showSuccessToast("Reminder e-mails have been sent out to those students and instructors. Please allow up to 1 hour for all the notification emails to be sent out.")}),(function(e){s.statusMessageService.showErrorToast(e.error.message)}))}},{key:"handleViewTypeChange",value:function(e){if(this.viewType!==e){switch(this.viewType=e,this.viewType){case C.a.QUESTION:this.viewTooltipText="Group responses by question";break;case C.a.GRQ:this.viewTooltipText="Group responses by giver, then by recipient, and then by question";break;case C.a.RGQ:this.viewTooltipText="Group responses by recipient, then by giver, and then by question";break;case C.a.GQR:this.viewTooltipText="Group responses by giver, then by question, and then by recipient";break;case C.a.RQG:this.viewTooltipText="Group responses by recipient, then by question, and then by giver";break;default:this.viewTooltipText="View results in different formats"}this.collapseAllTabs()}}}]),t}(T.a)).\u0275fac=function(e){return new(e||se)(k.Qb(w.a),k.Qb(R.a),k.Qb(E.a),k.Qb(M.a),k.Qb(I.a),k.Qb(o.a),k.Qb(O.b),k.Qb(V.a),k.Qb(x.a),k.Qb(F.a),k.Qb(q.a),k.Qb(W.a),k.Qb(Q.a),k.Qb(N.a))},se.\u0275cmp=k.Kb({type:se,selectors:[["tm-instructor-session-result-page"]],viewQuery:function(e,s){var t;1&e&&k.Wc(y.a,!0),2&e&&k.Bc(t=k.jc())&&(s.noResponsePanel=t.first)},features:[k.zb],decls:9,vars:7,consts:[[3,"shouldShowRetry","message","retryEvent"],[4,"tmIsLoading"],["class","card top-padded",4,"ngIf"],["downloadTooltip",""],["class","card bg-light top-padded text-center text-sm-left",4,"ngIf"],[1,"card","bg-light","top-padded","text-center","text-sm-left"],[1,"card-body","row","info-card-padding"],[1,"col-sm-12","col-md-12","col-lg-4"],[1,"form-group","row"],[1,"col-lg-4","control-label"],["id","course-id",1,"col-lg-8"],[1,"form-control-static"],["id","session-name",1,"col-lg-8"],["tmRouterLink","/web/instructor/sessions/edit",3,"queryParams"],[1,"fas","fa-edit"],[1,"col-sm-12","col-md-12","col-lg-5"],["id","session-duration",1,"col-lg-8"],["id","result-visible-date",1,"col-lg-8"],[1,"action-btn-group","col-sm-12","col-md-12","col-lg-3"],["id","btn-publish","placement","top",1,"btn","btn-primary","action-btn","no-print",3,"ngbTooltip","click"],["class","fas fa-eye",4,"ngIf"],["class","fas fa-eye-slash",4,"ngIf"],["id","btn-download",1,"btn","btn-primary","action-btn","no-print",3,"ngbTooltip","disabled","click"],[4,"ngIf"],[1,"fas","fa-file-download"],[1,"btn","btn-primary","action-btn","no-print",3,"click"],[1,"fas","fa-print"],[1,"fas","fa-eye"],[1,"fas","fa-eye-slash"],[1,"card-body","row"],[1,"col-md-6"],[1,"report-config-item"],[1,"report-config-label","control-label"],[1,"ngb-tooltip-class",3,"ngbTooltip"],["id","view-type-dropdown",1,"form-control",3,"ngModel","ngModelChange"],[3,"value"],[1,"report-config-label","control-label","mt-md-1"],["ngbTooltip","View results by sections",1,"ngb-tooltip-class"],["id","section-dropdown",1,"form-control",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","report-config-item",4,"ngIf"],[1,"col-md-6",2,"margin-top","10px"],[1,"control-label"],[1,"form-check-label"],["id","include-team-grouping","type","checkbox",3,"ngModel","disabled","ngModelChange"],["id","include-statistics","type","checkbox",3,"ngModel","disabled","ngModelChange"],["id","include-missing-responses","type","checkbox",3,"ngModel","ngModelChange"],["ngbTooltip","Choose the way responses for the selected section is viewed",1,"ngb-tooltip-class"],["id","section-type-dropdown",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],[1,"top-padded","offset-md-10","margin-vertical-20px"],["id","btn-expand-all",1,"btn","expand-btn","btn-light",3,"click"],[3,"questions","section","sectionType","session","showStatistics","indicateMissingResponses","instructorCommentTableModel","instructorCommentTableModelChange","saveNewCommentEvent","deleteCommentEvent","updateCommentEvent","toggleAndLoadTab","downloadQuestionResult",4,"ngIf"],[3,"responses","isExpandAll","section","sectionType","groupByTeam","session","showStatistics","indicateMissingResponses","instructorCommentTableModel","instructorCommentTableModelChange","saveNewCommentEvent","deleteCommentEvent","updateCommentEvent","toggleAndLoadTab",4,"ngIf"],[3,"questions","section","sectionType","session","showStatistics","indicateMissingResponses","instructorCommentTableModel","instructorCommentTableModelChange","saveNewCommentEvent","deleteCommentEvent","updateCommentEvent","toggleAndLoadTab","downloadQuestionResult"],[3,"responses","isExpandAll","section","sectionType","groupByTeam","session","showStatistics","indicateMissingResponses","instructorCommentTableModel","instructorCommentTableModelChange","saveNewCommentEvent","deleteCommentEvent","updateCommentEvent","toggleAndLoadTab"],[1,"card","top-padded"],[3,"allStudents","noResponseStudents","section","session","studentsToRemindEvent"]],template:function(e,s){1&e&&(k.Wb(0,"h1"),k.Qc(1," Feedback Session Results\n"),k.Vb(),k.Wb(2,"tm-loading-retry",0),k.ic("retryEvent",(function(){return s.loadFeedbackSessionResults(s.courseId,s.fsName)})),k.Oc(3,H,3,2,"div",1),k.Oc(4,J,9,6,"div",1),k.Vb(),k.Wb(5,"tm-loading-retry",0),k.ic("retryEvent",(function(){return s.loadNoResponseStudents(s.courseId,s.fsName)})),k.Oc(6,K,2,4,"div",2),k.Vb(),k.Oc(7,ee,5,2,"ng-template",null,3,k.Pc)),2&e&&(k.Cb(2),k.sc("shouldShowRetry",s.hasFeedbackSessionLoadingFailed||s.hasSectionsLoadingFailed||s.hasQuestionsLoadingFailed)("message","Failed to load feedback session"),k.Cb(1),k.sc("tmIsLoading",s.isFeedbackSessionLoading),k.Cb(1),k.sc("tmIsLoading",!s.isSectionsLoaded||!s.isQuestionsLoaded),k.Cb(1),k.sc("shouldShowRetry",s.hasNoResponseLoadingFailed)("message","Failed to load students who have not responded"),k.Cb(1),k.sc("ngIf",s.isNoResponsePanelLoaded))},styles:[".top-padded[_ngcontent-%COMP%]{margin-top:20px}.info-card-padding[_ngcontent-%COMP%]{padding:40px 40px 15px}.action-btn[_ngcontent-%COMP%]{margin-bottom:var(--btn-margin);width:100%;white-space:nowrap}.action-btn-group[_ngcontent-%COMP%]{max-width:600px;padding-left:40px;padding-right:40px}.expand-btn[_ngcontent-%COMP%]{width:100%}.margin-vertical-20px[_ngcontent-%COMP%]{margin-bottom:20px;margin-top:20px}.report-config-item[_ngcontent-%COMP%]{margin-bottom:6px}.report-config-label[_ngcontent-%COMP%]{margin-bottom:2px}"]}),se),ie=t("R1+E"),oe=t("jyEW"),re=t("ERjh"),ae=t("yHMj"),ce=t("bEAN"),ue=t("JUCI"),le=t("ZbLK"),de=t("zAMY"),be=t("Lcal"),pe=t("Cg8i"),me=function(){return[]};function fe(e,s){if(1&e){var t=k.Xb();k.Wb(0,"div",8),k.Wb(1,"tm-grq-rgq-view-responses",9),k.ic("instructorCommentTableModelChange",(function(e){return k.Fc(t),k.kc(3).triggerInstructorCommentTableModelChange(e)}))("updateCommentEvent",(function(e){return k.Fc(t),k.kc(3).triggerUpdateCommentEvent(e)}))("deleteCommentEvent",(function(e){return k.Fc(t),k.kc(3).triggerDeleteCommentEvent(e)}))("saveNewCommentEvent",(function(e){return k.Fc(t),k.kc(3).triggerSaveNewCommentEvent(e)})),k.Vb(),k.Vb()}if(2&e){var n=k.kc(2).$implicit,i=k.kc();k.Cb(1),k.sc("responses",n.value.questions||k.vc(11,me))("sectionOfView",n.key)("section",i.section)("sectionType",i.sectionType)("indicateMissingResponses",i.indicateMissingResponses)("groupByTeam",i.groupByTeam)("showStatistics",i.showStatistics)("isGrq",!1)("session",i.session)("instructorCommentTableModel",i.instructorCommentTableModel)("isExpandAll",i.isExpandAll)}}function ve(e,s){if(1&e&&(k.Wb(0,"div"),k.Oc(1,fe,2,12,"div",7),k.Vb()),2&e){var t=k.kc().$implicit;k.sc("@collapseAnim",void 0),k.Cb(1),k.sc("tmIsLoading",!t.value.hasPopulated)}}function ge(e,s){if(1&e){var t=k.Xb();k.Wb(0,"div",1),k.Wb(1,"div",2),k.Wb(2,"div",3),k.ic("click",(function(){k.Fc(t);var e=s.$implicit;return k.kc().toggleAndLoadTab.emit(e.key)})),k.Qc(3),k.Wb(4,"div",4),k.Rb(5,"tm-panel-chevron",5),k.Vb(),k.Vb(),k.Oc(6,ve,2,2,"div",6),k.Vb(),k.Vb()}if(2&e){var n=s.$implicit;k.Cb(3),k.Sc(" ","None"===n.key?"No specific section":n.key," "),k.Cb(2),k.sc("isExpanded",n.value.isTabExpanded),k.Cb(1),k.sc("ngIf",n.value.isTabExpanded)}}var he,Te=((he=function(e){_inherits(t,e);var s=_createSuper(t);function t(){var e;return _classCallCheck(this,t),(e=s.call(this,C.a.RGQ)).loadSection=new k.n,e.responses={},e}return t}(le.a)).\u0275fac=function(e){return new(e||he)},he.\u0275cmp=k.Kb({type:he,selectors:[["tm-instructor-session-result-rgq-view"]],inputs:{responses:"responses"},outputs:{loadSection:"loadSection"},features:[k.zb],decls:2,vars:3,consts:[["id","section-panel",4,"ngFor","ngForOf"],["id","section-panel"],[1,"card","margin-bottom-15px","alert-success-border"],["id","section-header",1,"card-header","alert-success","cursor-pointer",3,"click"],[1,"card-header-btn-toolbar"],[3,"isExpanded"],[4,"ngIf"],["class","card-body",4,"tmIsLoading"],[1,"card-body"],[2,"margin-bottom","20px",3,"responses","sectionOfView","section","sectionType","indicateMissingResponses","groupByTeam","showStatistics","isGrq","session","instructorCommentTableModel","isExpandAll","instructorCommentTableModelChange","updateCommentEvent","deleteCommentEvent","saveNewCommentEvent"]],template:function(e,s){1&e&&(k.Oc(0,ge,7,3,"div",0),k.lc(1,"keyvalue")),2&e&&k.sc("ngForOf",k.mc(1,1,s.responses))},directives:[n.t,de.a,n.u,be.a,pe.a],pipes:[n.m],styles:[".margin-bottom-15px[_ngcontent-%COMP%]{margin-bottom:15px}.card-body[_ngcontent-%COMP%]{padding:0 1rem 1rem}.alert-success-border[_ngcontent-%COMP%]{border-color:#c3e6cb}"],data:{animation:[ue.a]}}),he),ye=t("+Olu"),Se=t("YlBL"),Ce=t("eoFM"),ke=t("CdkP"),we=t("uWR1"),Re=t("ZOO3"),Ee=t("xZXz");function Me(e,s){if(1&e&&(k.Wb(0,"div",12),k.Wb(1,"div",13),k.Rb(2,"tm-question-text-with-info",14),k.Vb(),k.Wb(3,"div",15),k.Rb(4,"tm-single-statistics",16),k.Vb(),k.Vb()),2&e){var t=s.$implicit;k.Cb(2),k.sc("questionNumber",t.feedbackQuestion.questionNumber)("questionDetails",t.feedbackQuestion.questionDetails),k.Cb(2),k.sc("responses",t.allResponses)("question",t.feedbackQuestion.questionDetails)("statistics",t.questionStatistics)("recipientType",t.feedbackQuestion.recipientType)("displayContributionStats",!1)}}function Ie(e,s){if(1&e&&(k.Wb(0,"div"),k.Wb(1,"h3"),k.Qc(2),k.Vb(),k.Oc(3,Me,5,7,"div",11),k.Vb()),2&e){var t=k.kc(2).$implicit,n=k.kc(2);k.Cb(2),k.Tc("",t.key," Statistics for ",n.isGqr?"Given":"Received"," Responses"),k.Cb(1),k.sc("ngForOf",n.teamsToQuestions[t.key])}}var Oe=function(e){return{userInfo:e}};function Ve(e,s){if(1&e&&(k.Wb(0,"div"),k.Sb(1,17),k.Vb()),2&e){var t=s.$implicit;k.kc(4);var n=k.Cc(6);k.Cb(1),k.sc("ngTemplateOutlet",n)("ngTemplateOutletContext",k.wc(2,Oe,t))}}function xe(e,s){if(1&e&&(k.Wb(0,"div"),k.Wb(1,"div",8),k.Oc(2,Ie,4,3,"div",0),k.Wb(3,"h3",9),k.Qc(4),k.Vb(),k.Oc(5,Ve,2,4,"div",10),k.Vb(),k.Vb()),2&e){var t=k.kc().$implicit,n=k.kc(2);k.sc("@collapseAnim",void 0),k.Cb(2),k.sc("ngIf",n.teamsToQuestions[t.key]&&n.teamsToQuestions[t.key].length&&n.showStatistics),k.Cb(2),k.Sc("",t.key," Detailed Responses"),k.Cb(1),k.sc("ngForOf",t.value)}}function Fe(e,s){if(1&e){var t=k.Xb();k.Wb(0,"div",3),k.Wb(1,"div",4),k.Wb(2,"div",5),k.ic("click",(function(){k.Fc(t);var e=s.$implicit,n=k.kc(2);return n.teamExpanded[e.key]=!n.teamExpanded[e.key]})),k.Qc(3),k.Wb(4,"div",6),k.Rb(5,"tm-panel-chevron",7),k.Vb(),k.Vb(),k.Oc(6,xe,6,4,"div",0),k.Vb(),k.Vb()}if(2&e){var n=s.$implicit,i=k.kc(2);k.Cb(3),k.Sc(" ","-"==n.key?"No Specific Team":n.key," "),k.Cb(2),k.sc("isExpanded",i.teamExpanded[n.key]),k.Cb(1),k.sc("ngIf",i.teamExpanded[n.key])}}function qe(e,s){if(1&e&&(k.Wb(0,"div"),k.Oc(1,Fe,7,3,"div",2),k.lc(2,"keyvalue"),k.Vb()),2&e){var t=k.kc();k.Cb(1),k.sc("ngForOf",k.mc(2,1,t.teamsToUsers))}}function We(e,s){if(1&e&&(k.Wb(0,"div"),k.Sb(1,17),k.Vb()),2&e){var t=s.$implicit;k.kc(2);var n=k.Cc(6);k.Cb(1),k.sc("ngTemplateOutlet",n)("ngTemplateOutletContext",k.wc(2,Oe,t.key))}}function Qe(e,s){if(1&e&&(k.Wb(0,"div"),k.Oc(1,We,2,4,"div",10),k.lc(2,"keyvalue"),k.Vb()),2&e){var t=k.kc();k.Cb(1),k.sc("ngForOf",k.mc(2,1,t.userExpanded))}}function Ne(e,s){1&e&&(k.Wb(0,"div"),k.Wb(1,"i"),k.Qc(2,"There are no responses for this section or you may not have the permission to see the response."),k.Vb(),k.Vb())}function _e(e,s){if(1&e){var t=k.Xb();k.Wb(0,"a",23),k.ic("click",(function(e){return k.Fc(t),e.stopPropagation()})),k.Qc(1),k.Vb()}if(2&e){var n=k.kc().userInfo,i=k.kc();k.sc("href","mailto:"+i.userToEmail[n],k.Ic),k.Cb(1),k.Sc(" [",i.userToEmail[n],"] ")}}function Ae(e,s){if(1&e&&k.Rb(0,"tm-response-moderation-button",24),2&e){var t=k.kc().userInfo,n=k.kc();k.sc("session",n.session)("relatedGiverEmail",n.userToRelatedEmail[t])("isGiverInstructor",n.userIsInstructor[t])}}function Pe(e,s){if(1&e&&k.Rb(0,"tm-single-statistics",16),2&e){var t=k.kc(2).$implicit;k.sc("responses",t.questionOutput.allResponses)("question",t.questionOutput.feedbackQuestion.questionDetails)("statistics",t.questionOutput.questionStatistics)("recipientType",t.questionOutput.feedbackQuestion.recipientType)("displayContributionStats",!1)}}function Le(e,s){if(1&e){var t=k.Xb();k.Wb(0,"div"),k.Wb(1,"div",29),k.Oc(2,Pe,1,5,"tm-single-statistics",30),k.Wb(3,"tm-per-question-view-responses",31),k.ic("instructorCommentTableModelChange",(function(e){return k.Fc(t),k.kc(4).triggerModelChange(e)}))("saveNewCommentEvent",(function(e){return k.Fc(t),k.kc(4).triggerSaveNewCommentEvent(e)}))("deleteCommentEvent",(function(e){return k.Fc(t),k.kc(4).triggerDeleteCommentEvent(e.responseId,e.index)}))("updateCommentEvent",(function(e){return k.Fc(t),k.kc(4).triggerUpdateCommentEvent(e.responseId,e.index)})),k.Vb(),k.Vb(),k.Vb()}if(2&e){var n=k.kc().$implicit,i=k.kc(3);k.sc("@collapseAnim",void 0),k.Cb(2),k.sc("ngIf",i.showStatistics),k.Cb(1),k.sc("responses",n.questionOutput.allResponses)("section",i.section)("sectionType",i.sectionType)("session",i.session)("statistics",n.questionOutput.questionStatistics)("indicateMissingResponses",i.indicateMissingResponses)("showGiver",!i.isGqr)("showRecipient",i.isGqr)("question",n.questionOutput.feedbackQuestion)("instructorCommentTableModel",i.instructorCommentTableModel)}}function Ge(e,s){if(1&e&&(k.Wb(0,"div",27),k.Wb(1,"div",28),k.ic("click",(function(){var e=s.$implicit;return e.isTabExpanded=!e.isTabExpanded})),k.Rb(2,"tm-question-text-with-info",14),k.Wb(3,"div",6),k.Rb(4,"tm-panel-chevron",7),k.Vb(),k.Vb(),k.Oc(5,Le,4,12,"div",0),k.Vb()),2&e){var t=s.$implicit;k.Cb(2),k.sc("questionNumber",t.questionOutput.feedbackQuestion.questionNumber)("questionDetails",t.questionOutput.feedbackQuestion.questionDetails),k.Cb(2),k.sc("isExpanded",t.isTabExpanded),k.Cb(1),k.sc("ngIf",t.isTabExpanded)}}function Ue(e,s){if(1&e&&(k.Wb(0,"div"),k.Wb(1,"div",25),k.Oc(2,Ge,6,4,"div",26),k.Vb(),k.Vb()),2&e){var t=k.kc().userInfo,n=k.kc();k.sc("@collapseAnim",void 0),k.Cb(2),k.sc("ngForOf",n.responsesToShow[t])}}function Be(e,s){if(1&e){var t=k.Xb();k.Wb(0,"div",18),k.Wb(1,"div",19),k.ic("click",(function(){k.Fc(t);var e=s.userInfo,n=k.kc();return n.userExpanded[e]=!n.userExpanded[e]})),k.Wb(2,"div"),k.Qc(3),k.Rb(4,"tm-student-name-with-photo",20),k.Oc(5,_e,2,2,"a",21),k.Vb(),k.Wb(6,"div",6),k.Oc(7,Ae,1,3,"tm-response-moderation-button",22),k.Rb(8,"tm-panel-chevron",7),k.Vb(),k.Vb(),k.Oc(9,Ue,3,2,"div",0),k.Vb()}if(2&e){var n=s.userInfo,i=k.kc();k.Cb(3),k.Sc(" ",i.isGqr?"From":"To",": "),k.Cb(1),k.sc("name",n)("email",i.userToEmail[n])("courseId",i.session.courseId),k.Cb(1),k.sc("ngIf",i.userToEmail[n]),k.Cb(2),k.sc("ngIf",i.isGqr&&i.userToRelatedEmail[n]),k.Cb(1),k.sc("isExpanded",i.userExpanded[n]),k.Cb(1),k.sc("ngIf",i.userExpanded[n])}}var je,De=((je=function(e){_inherits(t,e);var s=_createSuper(t);function t(e){var n;return _classCallCheck(this,t),(n=s.call(this)).feedbackResponsesService=e,n.responses=[],n.sectionOfView="",n.section="",n.sectionType=S.a.EITHER,n.groupByTeam=!0,n.showStatistics=!0,n.indicateMissingResponses=!0,n.session={courseId:"",timeZone:"",feedbackSessionName:"",instructions:"",submissionStartTimestamp:0,submissionEndTimestamp:0,gracePeriod:0,sessionVisibleSetting:v.o.AT_OPEN,responseVisibleSetting:v.n.AT_VISIBLE,submissionStatus:v.f.OPEN,publishStatus:v.e.NOT_PUBLISHED,isClosingEmailEnabled:!0,isPublishedEmailEnabled:!0,createdAtTimestamp:0},n.isGqr=!0,n.teamsToUsers={},n.userToEmail={},n.userToRelatedEmail={},n.teamExpanded={},n.userExpanded={},n.userIsInstructor={},n.responsesToShow={},n.teamsToQuestions={},n}return _createClass(t,[{key:"ngOnInit",value:function(){this.filterResponses()}},{key:"ngOnChanges",value:function(){this.filterResponses()}},{key:"filterResponses",value:function(){var e=this;this.responsesToShow={},this.teamsToQuestions={},this.teamsToUsers={},this.teamExpanded={},this.userToEmail={},this.userToRelatedEmail={},this.userExpanded={},this.userIsInstructor={};var s,t=_createForOfIteratorHelper(this.responses);try{for(t.s();!(s=t.n()).done;){var n,i=s.value,o=_createForOfIteratorHelper(i.allResponses);try{for(o.s();!(n=o.n()).done;){var r=n.value;if((this.indicateMissingResponses||!r.isMissingResponse)&&(!this.sectionOfView||!(this.isGqr&&r.giverSection!==this.sectionOfView||!this.isGqr&&r.recipientSection!==this.sectionOfView))&&this.feedbackResponsesService.isFeedbackResponsesDisplayedOnSection(r,this.section,this.sectionType))if(r.giverEmail&&(this.userToEmail[r.giver]=r.giverEmail),r.recipientEmail&&(this.userToEmail[r.recipient]=r.recipientEmail),this.isGqr)this.teamsToUsers[r.giverTeam]=this.teamsToUsers[r.giverTeam]||[],-1===this.teamsToUsers[r.giverTeam].indexOf(r.giver)&&(this.teamsToUsers[r.giverTeam].push(r.giver),this.teamExpanded[r.giverTeam]=this.isExpandAll),r.relatedGiverEmail&&(this.userToRelatedEmail[r.giver]=r.relatedGiverEmail),this.userExpanded[r.giver]=this.isExpandAll,this.userIsInstructor[r.giver]=i.feedbackQuestion.giverType===v.c.INSTRUCTORS;else{if(!r.recipientTeam){this.teamsToUsers[r.recipient]=this.teamsToUsers[r.recipient]||[],-1===this.teamsToUsers[r.recipient].indexOf(r.recipient)&&(this.teamsToUsers[r.recipient].push(r.recipient),this.teamExpanded[r.recipient]=this.isExpandAll),this.userExpanded[r.recipient]=this.isExpandAll;continue}this.teamsToUsers[r.recipientTeam]=this.teamsToUsers[r.recipientTeam]||[],-1===this.teamsToUsers[r.recipientTeam].indexOf(r.recipient)&&(this.teamsToUsers[r.recipientTeam].push(r.recipient),this.teamExpanded[r.recipientTeam]=this.isExpandAll),this.userExpanded[r.recipient]=this.isExpandAll}}}catch(p){o.e(p)}finally{o.f()}}}catch(p){t.e(p)}finally{t.f()}for(var a=function(){var s,t=u[c],n=_createForOfIteratorHelper(e.responses);try{for(n.s();!(s=n.n()).done;){var i=s.value,o=JSON.parse(JSON.stringify(i));o.allResponses=o.allResponses.filter((function(s){return!(!e.indicateMissingResponses&&s.isMissingResponse||e.isGqr&&t!==s.giver||!e.isGqr&&t!==s.recipient||!e.feedbackResponsesService.isFeedbackResponsesDisplayedOnSection(s,e.section,e.sectionType))})),o.allResponses.length&&(e.responsesToShow[t]=e.responsesToShow[t]||[],e.responsesToShow[t].push({questionOutput:o,isTabExpanded:e.isExpandAll}))}}catch(p){n.e(p)}finally{n.f()}},c=0,u=Object.keys(this.userExpanded);c<u.length;c++)a();for(var l=function(){var s,t=b[d],n=_createForOfIteratorHelper(e.responses);try{for(n.s();!(s=n.n()).done;){var i=s.value;if(i.feedbackQuestion.questionType!==v.d.CONTRIB&&i.feedbackQuestion.questionType!==v.d.TEXT){var o=JSON.parse(JSON.stringify(i));o.allResponses=o.allResponses.filter((function(s){return!(s.isMissingResponse||e.isGqr&&t!==s.giverTeam||!e.isGqr&&t!==s.recipientTeam||!e.feedbackResponsesService.isFeedbackResponsesDisplayedOnSection(s,e.section,e.sectionType))})),o.allResponses.length&&(e.teamsToQuestions[t]=e.teamsToQuestions[t]||[],e.teamsToQuestions[t].push(o))}}}catch(p){n.e(p)}finally{n.f()}},d=0,b=Object.keys(this.teamExpanded);d<b.length;d++)l()}}]),t}(Se.a)).\u0275fac=function(e){return new(e||je)(k.Qb(Ce.a))},je.\u0275cmp=k.Kb({type:je,selectors:[["tm-gqr-rqg-view-responses"]],inputs:{responses:"responses",sectionOfView:"sectionOfView",section:"section",sectionType:"sectionType",groupByTeam:"groupByTeam",showStatistics:"showStatistics",indicateMissingResponses:"indicateMissingResponses",session:"session",isGqr:"isGqr"},features:[k.zb,k.Ab],decls:7,vars:7,consts:[[4,"ngIf"],["userTab",""],["id","team-panel",4,"ngFor","ngForOf"],["id","team-panel"],[1,"card","top-padded"],["id","team-header",1,"card-header","alert-warning","cursor-pointer",3,"click"],[1,"card-header-btn-toolbar"],[3,"isExpanded"],[1,"card-body","background-color-warning"],[1,"top-padded"],[4,"ngFor","ngForOf"],["id","team-statistics","class","card top-padded alert-primary-border",4,"ngFor","ngForOf"],["id","team-statistics",1,"card","top-padded","alert-primary-border"],[1,"card-header","alert-primary"],[3,"questionNumber","questionDetails"],[1,"card-body","top-padded-small"],[3,"responses","question","statistics","recipientType","displayContributionStats"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["id","user-panel",1,"card","top-padded","border-primary"],["id","user-header",1,"card-header","bg-primary","text-white","cursor-pointer",3,"click"],[3,"name","email","courseId"],["class","text-white",3,"href","click",4,"ngIf"],["class","btn-margin-right","btnStyle","PRIMARY",3,"session","relatedGiverEmail","isGiverInstructor",4,"ngIf"],[1,"text-white",3,"href","click"],["btnStyle","PRIMARY",1,"btn-margin-right",3,"session","relatedGiverEmail","isGiverInstructor"],[1,"card-body","top-padded-0"],["id","question-panel","class","card top-padded alert-primary-border",4,"ngFor","ngForOf"],["id","question-panel",1,"card","top-padded","alert-primary-border"],["id","question-header",1,"card-header","alert-primary","cursor-pointer",3,"click"],[1,"card-body","top-padded-small","table-responsive"],[3,"responses","question","statistics","recipientType","displayContributionStats",4,"ngIf"],[3,"responses","section","sectionType","session","statistics","indicateMissingResponses","showGiver","showRecipient","question","instructorCommentTableModel","instructorCommentTableModelChange","saveNewCommentEvent","deleteCommentEvent","updateCommentEvent"]],template:function(e,s){if(1&e&&(k.Oc(0,qe,3,3,"div",0),k.Oc(1,Qe,3,3,"div",0),k.Oc(2,Ne,3,0,"div",0),k.lc(3,"keyvalue"),k.lc(4,"keyvalue"),k.Oc(5,Be,10,8,"ng-template",null,1,k.Pc)),2&e){var t=null,n=s.groupByTeam&&!(null!=(t=k.mc(3,3,s.teamsToUsers))&&t.length)||!s.groupByTeam&&!(null!=(t=k.mc(4,5,s.userExpanded))&&t.length);k.sc("ngIf",s.groupByTeam),k.Cb(1),k.sc("ngIf",!s.groupByTeam),k.Cb(1),k.sc("ngIf",n)}},directives:[n.u,n.t,de.a,ke.a,we.a,n.B,ae.a,Re.a,Ee.a],pipes:[n.m],styles:[".top-padded[_ngcontent-%COMP%]{margin-top:20px}.margin-right-10px[_ngcontent-%COMP%]{margin-right:10px}.top-padded-0[_ngcontent-%COMP%]{padding-top:0}.top-padded-small[_ngcontent-%COMP%]{padding-top:.5rem}.card-body[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem;padding-bottom:1rem}.background-color-warning[_ngcontent-%COMP%]{background-color:#fff9e7}.alert-primary-border[_ngcontent-%COMP%]{border-color:#b8daff}"],data:{animation:[ue.a]}}),je),He=function(){return[]};function Xe(e,s){if(1&e){var t=k.Xb();k.Wb(0,"div",8),k.Wb(1,"tm-gqr-rqg-view-responses",9),k.ic("instructorCommentTableModelChange",(function(e){return k.Fc(t),k.kc(3).triggerInstructorCommentTableModelChange(e)}))("updateCommentEvent",(function(e){return k.Fc(t),k.kc(3).triggerUpdateCommentEvent(e)}))("deleteCommentEvent",(function(e){return k.Fc(t),k.kc(3).triggerDeleteCommentEvent(e)}))("saveNewCommentEvent",(function(e){return k.Fc(t),k.kc(3).triggerSaveNewCommentEvent(e)})),k.Vb(),k.Vb()}if(2&e){var n=k.kc(2).$implicit,i=k.kc();k.Cb(1),k.sc("responses",n.value.questions||k.vc(11,He))("sectionOfView",n.key)("section",i.section)("sectionType",i.sectionType)("indicateMissingResponses",i.indicateMissingResponses)("groupByTeam",i.groupByTeam)("showStatistics",i.showStatistics)("isGqr",!1)("session",i.session)("instructorCommentTableModel",i.instructorCommentTableModel)("isExpandAll",i.isExpandAll)}}function $e(e,s){if(1&e&&(k.Wb(0,"div"),k.Oc(1,Xe,2,12,"div",7),k.Vb()),2&e){var t=k.kc().$implicit;k.sc("@collapseAnim",void 0),k.Cb(1),k.sc("tmIsLoading",!t.value.hasPopulated)}}function Ze(e,s){if(1&e){var t=k.Xb();k.Wb(0,"div",1),k.Wb(1,"div",2),k.Wb(2,"div",3),k.ic("click",(function(){k.Fc(t);var e=s.$implicit;return k.kc().toggleAndLoadTab.emit(e.key)})),k.Qc(3),k.Wb(4,"div",4),k.Rb(5,"tm-panel-chevron",5),k.Vb(),k.Vb(),k.Oc(6,$e,2,2,"div",6),k.Vb(),k.Vb()}if(2&e){var n=s.$implicit;k.Cb(3),k.Sc(" ","None"===n.key?"No specific section":n.key," "),k.Cb(2),k.sc("isExpanded",n.value.isTabExpanded),k.Cb(1),k.sc("ngIf",n.value.isTabExpanded)}}var ze,Ye=((ze=function(e){_inherits(t,e);var s=_createSuper(t);function t(){var e;return _classCallCheck(this,t),(e=s.call(this,C.a.RQG)).loadSection=new k.n,e.responses={},e}return t}(le.a)).\u0275fac=function(e){return new(e||ze)},ze.\u0275cmp=k.Kb({type:ze,selectors:[["tm-instructor-session-result-rqg-view"]],inputs:{responses:"responses"},outputs:{loadSection:"loadSection"},features:[k.zb],decls:2,vars:3,consts:[["id","section-panel",4,"ngFor","ngForOf"],["id","section-panel"],[1,"card","margin-bottom-15px","alert-success-border"],["id","section-header",1,"card-header","alert-success","cursor-pointer",3,"click"],[1,"card-header-btn-toolbar"],[3,"isExpanded"],[4,"ngIf"],["class","card-body",4,"tmIsLoading"],[1,"card-body"],[2,"margin-bottom","20px",3,"responses","sectionOfView","section","sectionType","indicateMissingResponses","groupByTeam","showStatistics","isGqr","session","instructorCommentTableModel","isExpandAll","instructorCommentTableModelChange","updateCommentEvent","deleteCommentEvent","saveNewCommentEvent"]],template:function(e,s){1&e&&(k.Oc(0,Ze,7,3,"div",0),k.lc(1,"keyvalue")),2&e&&k.sc("ngForOf",k.mc(1,1,s.responses))},directives:[n.t,de.a,n.u,be.a,De],pipes:[n.m],styles:[".margin-bottom-15px[_ngcontent-%COMP%]{margin-bottom:15px}.card-body[_ngcontent-%COMP%]{padding:0 1rem 1rem}.alert-success-border[_ngcontent-%COMP%]{border-color:#c3e6cb}"],data:{animation:[ue.a]}}),ze),Je=function(){return[]};function Ke(e,s){if(1&e){var t=k.Xb();k.Wb(0,"div",8),k.Wb(1,"tm-gqr-rqg-view-responses",9),k.ic("instructorCommentTableModelChange",(function(e){return k.Fc(t),k.kc(3).triggerInstructorCommentTableModelChange(e)}))("updateCommentEvent",(function(e){return k.Fc(t),k.kc(3).triggerUpdateCommentEvent(e)}))("deleteCommentEvent",(function(e){return k.Fc(t),k.kc(3).triggerDeleteCommentEvent(e)}))("saveNewCommentEvent",(function(e){return k.Fc(t),k.kc(3).triggerSaveNewCommentEvent(e)})),k.Vb(),k.Vb()}if(2&e){var n=k.kc(2).$implicit,i=k.kc();k.Cb(1),k.sc("responses",n.value.questions||k.vc(11,Je))("sectionOfView",n.key)("section",i.section)("sectionType",i.sectionType)("indicateMissingResponses",i.indicateMissingResponses)("groupByTeam",i.groupByTeam)("showStatistics",i.showStatistics)("isGqr",!0)("session",i.session)("instructorCommentTableModel",i.instructorCommentTableModel)("isExpandAll",i.isExpandAll)}}function es(e,s){if(1&e&&(k.Wb(0,"div"),k.Oc(1,Ke,2,12,"div",7),k.Vb()),2&e){var t=k.kc().$implicit;k.sc("@collapseAnim",void 0),k.Cb(1),k.sc("tmIsLoading",!t.value.hasPopulated)}}function ss(e,s){if(1&e){var t=k.Xb();k.Wb(0,"div",1),k.Wb(1,"div",2),k.Wb(2,"div",3),k.ic("click",(function(){k.Fc(t);var e=s.$implicit;return k.kc().toggleAndLoadTab.emit(e.key)})),k.Qc(3),k.Wb(4,"div",4),k.Rb(5,"tm-panel-chevron",5),k.Vb(),k.Vb(),k.Oc(6,es,2,2,"div",6),k.Vb(),k.Vb()}if(2&e){var n=s.$implicit;k.Cb(3),k.Sc(" ","None"===n.key?"No specific section":n.key," "),k.Cb(2),k.sc("isExpanded",n.value.isTabExpanded),k.Cb(1),k.sc("ngIf",n.value.isTabExpanded)}}var ts,ns,is=((ts=function(e){_inherits(t,e);var s=_createSuper(t);function t(){var e;return _classCallCheck(this,t),(e=s.call(this,C.a.GQR)).loadSection=new k.n,e.responses={},e}return t}(le.a)).\u0275fac=function(e){return new(e||ts)},ts.\u0275cmp=k.Kb({type:ts,selectors:[["tm-instructor-session-result-gqr-view"]],inputs:{responses:"responses"},outputs:{loadSection:"loadSection"},features:[k.zb],decls:2,vars:3,consts:[["id","section-panel",4,"ngFor","ngForOf"],["id","section-panel"],[1,"card","margin-bottom-15px","alert-success-border"],["id","section-header",1,"card-header","alert-success","cursor-pointer",3,"click"],[1,"card-header-btn-toolbar"],[3,"isExpanded"],[4,"ngIf"],["class","card-body",4,"tmIsLoading"],[1,"card-body"],[2,"margin-bottom","20px",3,"responses","sectionOfView","section","sectionType","indicateMissingResponses","groupByTeam","showStatistics","isGqr","session","instructorCommentTableModel","isExpandAll","instructorCommentTableModelChange","updateCommentEvent","deleteCommentEvent","saveNewCommentEvent"]],template:function(e,s){1&e&&(k.Oc(0,ss,7,3,"div",0),k.lc(1,"keyvalue")),2&e&&k.sc("ngForOf",k.mc(1,1,s.responses))},directives:[n.t,de.a,n.u,be.a,De],pipes:[n.m],styles:[".margin-bottom-15px[_ngcontent-%COMP%]{margin-bottom:15px}.card-body[_ngcontent-%COMP%]{padding:0 1rem 1rem}.alert-success-border[_ngcontent-%COMP%]{border-color:#c3e6cb}"],data:{animation:[ue.a]}}),ts),os=t("Wsbs"),rs=t("Babz"),as=t("W872"),cs=t("UGSt"),us=t("FYy5"),ls=t("pTm8"),ds=t("4mYk"),bs=t("WbH0"),ps=t("OxLm"),ms=t("Fw0q"),fs=t("RMfs"),vs=t("2SuZ"),gs=t("RNOZ"),hs=t("WPPJ"),Ts=t("VKKU"),ys=t("ovlq"),Ss=[{path:"",component:ne}],Cs=((ns=function e(){_classCallCheck(this,e)}).\u0275mod=k.Ob({type:ns}),ns.\u0275inj=k.Nb({factory:function(e){return new(e||ns)},imports:[[n.c,i.j,r.d,r.y,l.a,o.h.forChild(Ss),ie.a,u.a,a.a,c.a,d.a]]}),ns);k.Jc(ne,[n.r,n.s,n.t,n.u,n.B,n.x,n.y,n.z,n.A,n.v,n.w,i.F,i.u,i.E,i.c,i.v,i.y,i.a,i.B,i.C,i.x,i.p,i.q,i.A,i.l,i.k,i.w,i.b,i.d,i.s,i.t,i.r,r.c,r.w,re.a,ae.a,o.i,o.e,o.g,o.f,o.k,ce.a,Te,ye.a,Ye,is,y.a,be.a,os.a,rs.a,as.a,ne],[n.b,n.I,n.q,n.l,n.F,n.g,n.D,n.G,n.d,n.f,n.j,n.k,n.m,cs.a,us.a,ls.a,ds.a,bs.a,ps.a,ms.a,fs.a,vs.a,gs.a,hs.a,Ts.a,ys.a,oe.a])}}]);