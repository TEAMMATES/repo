function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,s=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(n=(c=i.next()).done)&&(r.push(c.value),!t||r.length!==t);n=!0);}catch(a){s=!0,o=a}finally{try{n||null==i.return||i.return()}finally{if(s)throw o}}return r}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _createForOfIteratorHelper(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,s=function(){};return{s:s,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return c=e.done,e},e:function(e){i=!0,o=e},f:function(){try{c||null==r.return||r.return()}finally{if(i)throw o}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{"/Tzu":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(e){return e[e.WARNING=0]="WARNING",e[e.DANGER=1]="DANGER",e[e.INFO=2]="INFO",e[e.NEUTRAL=3]="NEUTRAL",e[e.LOAD=4]="LOAD",e}({})},Babz:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("fXoL"),s=r("ofXK");function o(e,t){if(1&e){var r=n.Xb();n.Wb(0,"div",2),n.Wb(1,"p",3),n.Qc(2),n.Vb(),n.Wb(3,"button",4),n.ic("click",(function(){return n.Fc(r),n.kc().retryEvent.emit()})),n.Rb(4,"i",5),n.Qc(5,"\xa0Retry"),n.Vb(),n.Vb()}if(2&e){var s=n.kc();n.Cb(2),n.Rc(s.message)}}function c(e,t){1&e&&n.qc(0)}var i=["*"],a=function(){var e=function(){function e(){_classCallCheck(this,e),this.message="",this.shouldShowRetry=!1,this.retryEvent=new n.n}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Kb({type:e,selectors:[["tm-loading-retry"]],inputs:{message:"message",shouldShowRetry:"shouldShowRetry"},outputs:{retryEvent:"retryEvent"},ngContentSelectors:i,decls:3,vars:2,consts:[["class","text-center",4,"ngIf","ngIfElse"],["content",""],[1,"text-center"],[1,"text-muted","m-1"],[1,"btn","btn-primary",3,"click"],["aria-hidden","true",1,"fas","fa-redo"]],template:function(e,t){if(1&e&&(n.rc(),n.Oc(0,o,6,1,"div",0),n.Oc(1,c,1,0,"ng-template",null,1,n.Pc)),2&e){var r=n.Cc(2);n.sc("ngIf",t.shouldShowRetry)("ngIfElse",r)}},directives:[s.u],styles:[""]}),e}()},JUCI:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r("R0Ic"),s=Object(n.j)("collapseAnim",[Object(n.i)(":leave",[Object(n.h)({height:"*",overflow:"hidden"}),Object(n.e)("300ms ease-in-out",Object(n.h)({height:0,opacity:0}))]),Object(n.i)(":enter",[Object(n.h)({height:"0",overflow:"hidden"}),Object(n.e)("300ms ease-in-out",Object(n.h)({height:"*",opacity:1}))])])},RPsU:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r("ofXK"),s=r("fXoL"),o=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=s.Ob({type:e}),e.\u0275inj=s.Nb({factory:function(t){return new(t||e)},imports:[[n.c]]}),e}()},V7dV:function(e,t,r){"use strict";r.r(t),r.d(t,"InstructorCoursesPageModule",(function(){return Fe}));var n=r("ofXK"),s=r("3Pt+"),o=r("tyNb"),c=r("1kSV"),i=r("n6pr"),a=r("mYbV"),u=r("aSpy"),l=r("RPsU"),d=r("TOej"),b=r("Sz0e"),f=r("cp0P"),h=r("nYR2"),v=r("R8lv"),p=r("p6cw"),g=r("/Tzu"),C=r("JUCI"),y=r("fXoL"),m=r("Uqoa"),S=r("vKUq"),O=r("iRmZ"),T=r("eQqG"),I=r("I8MS"),k=r("Babz"),E=r("Lcal"),R=r("vDEa"),A=r("Wsbs"),M=r("W872"),W=r("zAMY");function V(e,t){if(1&e){var r=y.Xb();y.Wb(0,"div",8),y.Wb(1,"tm-add-course-form",9),y.ic("courseAdded",(function(){return y.Fc(r),y.kc().loadInstructorCourses()}))("closeCourseFormEvent",(function(){return y.Fc(r),y.kc().isAddNewCourseFormExpanded=!1})),y.Vb(),y.Vb()}2&e&&y.sc("@collapseAnim",void 0)}function w(e,t){1&e&&(y.Wb(0,"div",10),y.Qc(1," You do not seem to have any active courses. Use the button above to create a new course. "),y.Vb())}function D(e,t){1&e&&y.Rb(0,"i",27)}function _(e,t){1&e&&y.Rb(0,"i",28)}function B(e,t){1&e&&y.Rb(0,"i",27)}function x(e,t){1&e&&y.Rb(0,"i",28)}function N(e,t){1&e&&y.Rb(0,"i",27)}function Q(e,t){1&e&&y.Rb(0,"i",28)}function L(e,t){1&e&&y.Rb(0,"tm-ajax-loading",29),2&e&&y.sc("useBlueSpinner",!0)}function P(e,t){if(1&e){var r=y.Xb();y.Wb(0,"a",44),y.ic("click",(function(){y.Fc(r);var e=y.kc(2).index;return y.kc(3).getCourseStats(e)})),y.Qc(1," Show "),y.Vb()}}function F(e,t){if(1&e&&(y.Wb(0,"span"),y.Oc(1,P,2,0,"a",43),y.Vb()),2&e){var r=y.kc().$implicit;y.kc();var n=y.Cc(37);y.Cb(1),y.sc("ngIf",!r.isLoadingCourseStats)("ngIfElse",n)}}function U(e,t){if(1&e&&(y.Wb(0,"span"),y.Qc(1),y.Vb()),2&e){var r=y.kc().$implicit,n=y.kc(3);y.Cb(1),y.Sc(" ",n.courseStats[r.course.courseId].sections," ")}}function j(e,t){if(1&e){var r=y.Xb();y.Wb(0,"a",46),y.ic("click",(function(){y.Fc(r);var e=y.kc(2).index;return y.kc(3).getCourseStats(e)})),y.Qc(1," Show "),y.Vb()}if(2&e){var n=y.kc(2).index;y.uc("id","show-statistics-",n,"")}}function X(e,t){if(1&e&&(y.Wb(0,"span"),y.Oc(1,j,2,1,"a",45),y.Vb()),2&e){var r=y.kc().$implicit;y.kc();var n=y.Cc(37);y.Cb(1),y.sc("ngIf",!r.isLoadingCourseStats)("ngIfElse",n)}}function $(e,t){if(1&e&&(y.Wb(0,"span"),y.Qc(1),y.Vb()),2&e){var r=y.kc().$implicit,n=y.kc(3);y.Cb(1),y.Sc(" ",n.courseStats[r.course.courseId].teams," ")}}function G(e,t){if(1&e){var r=y.Xb();y.Wb(0,"a",44),y.ic("click",(function(){y.Fc(r);var e=y.kc(2).index;return y.kc(3).getCourseStats(e)})),y.Qc(1," Show "),y.Vb()}}function z(e,t){if(1&e&&(y.Wb(0,"span"),y.Oc(1,G,2,0,"a",43),y.Vb()),2&e){var r=y.kc().$implicit;y.kc();var n=y.Cc(37);y.Cb(1),y.sc("ngIf",!r.isLoadingCourseStats)("ngIfElse",n)}}function q(e,t){if(1&e&&(y.Wb(0,"span"),y.Qc(1),y.Vb()),2&e){var r=y.kc().$implicit,n=y.kc(3);y.Cb(1),y.Sc(" ",n.courseStats[r.course.courseId].students," ")}}function K(e,t){if(1&e){var r=y.Xb();y.Wb(0,"a",44),y.ic("click",(function(){y.Fc(r);var e=y.kc(2).index;return y.kc(3).getCourseStats(e)})),y.Qc(1," Show "),y.Vb()}}function H(e,t){if(1&e&&(y.Wb(0,"span"),y.Oc(1,K,2,0,"a",43),y.Vb()),2&e){var r=y.kc().$implicit;y.kc();var n=y.Cc(37);y.Cb(1),y.sc("ngIf",!r.isLoadingCourseStats)("ngIfElse",n)}}function Y(e,t){if(1&e&&(y.Wb(0,"span"),y.Qc(1),y.Vb()),2&e){var r=y.kc().$implicit,n=y.kc(3);y.Cb(1),y.Sc(" ",n.courseStats[r.course.courseId].unregistered," ")}}var J=function(e){return{courseid:e}};function Z(e,t){if(1&e&&(y.Wb(0,"a",47),y.Qc(1," Enroll "),y.Vb()),2&e){var r=y.kc(),n=r.$implicit;y.uc("id","btn-enroll-",r.index,""),y.sc("queryParams",y.wc(2,J,n.course.courseId))}}function ee(e,t){if(1&e&&(y.Wb(0,"button",48),y.Qc(1," Enroll "),y.Vb()),2&e){var r=y.kc().index;y.uc("id","btn-enroll-disabled-",r,"")}}function te(e,t){if(1&e){var r=y.Xb();y.Wb(0,"button",49),y.ic("click",(function(){y.Fc(r);var e=y.kc().$implicit;return y.kc(3).onDelete(e.course.courseId)})),y.Qc(1," Delete "),y.Vb()}if(2&e){var n=y.kc().index;y.uc("id","btn-soft-delete-",n,"")}}function re(e,t){if(1&e&&(y.Wb(0,"button",50),y.Qc(1," Delete "),y.Vb()),2&e){var r=y.kc().index;y.uc("id","btn-soft-delete-disabled-",r,"")}}function ne(e,t){if(1&e){var r=y.Xb();y.Wb(0,"tr"),y.Wb(1,"td",30),y.Qc(2),y.Vb(),y.Wb(3,"td"),y.Qc(4),y.Vb(),y.Wb(5,"td"),y.Wb(6,"span",31),y.lc(7,"date"),y.Qc(8),y.lc(9,"date"),y.Vb(),y.Vb(),y.Wb(10,"td"),y.Oc(11,F,2,2,"span",26),y.Oc(12,U,2,1,"span",26),y.Vb(),y.Wb(13,"td"),y.Oc(14,X,2,2,"span",26),y.Oc(15,$,2,1,"span",26),y.Vb(),y.Wb(16,"td"),y.Oc(17,z,2,2,"span",26),y.Oc(18,q,2,1,"span",26),y.Vb(),y.Wb(19,"td"),y.Oc(20,H,2,2,"span",26),y.Oc(21,Y,2,1,"span",26),y.Vb(),y.Wb(22,"td",32),y.Oc(23,Z,2,4,"a",33),y.Oc(24,ee,2,1,"button",34),y.Wb(25,"div",35),y.Wb(26,"button",36),y.Qc(27,"Other Actions"),y.Vb(),y.Wb(28,"div",37),y.Wb(29,"a",38),y.Qc(30," View "),y.Vb(),y.Wb(31,"a",39),y.Qc(32," Edit "),y.Vb(),y.Wb(33,"button",40),y.ic("click",(function(){y.Fc(r);var e=t.$implicit;return y.kc(3).changeArchiveStatus(e.course.courseId,!0)})),y.Qc(34," Archive "),y.Vb(),y.Oc(35,te,2,1,"button",41),y.Oc(36,re,2,1,"button",42),y.Vb(),y.Vb(),y.Vb(),y.Vb()}if(2&e){var n=t.$implicit,s=t.index,o=y.kc(3);y.Cb(1),y.uc("id","course-id-",s,""),y.Cb(1),y.Rc(n.course.courseId),y.Cb(2),y.Rc(n.course.courseName),y.Cb(2),y.sc("ngbTooltip",y.nc(7,21,n.course.creationTimestamp,"EEE, dd MMM yyyy, h:mma")),y.Cb(2),y.Sc(" ",y.nc(9,24,n.course.creationTimestamp,"d MMM yyyy")," "),y.Cb(3),y.sc("ngIf",!o.courseStats[n.course.courseId]),y.Cb(1),y.sc("ngIf",o.courseStats[n.course.courseId]),y.Cb(2),y.sc("ngIf",!o.courseStats[n.course.courseId]),y.Cb(1),y.sc("ngIf",o.courseStats[n.course.courseId]),y.Cb(2),y.sc("ngIf",!o.courseStats[n.course.courseId]),y.Cb(1),y.sc("ngIf",o.courseStats[n.course.courseId]),y.Cb(2),y.sc("ngIf",!o.courseStats[n.course.courseId]),y.Cb(1),y.sc("ngIf",o.courseStats[n.course.courseId]),y.Cb(2),y.sc("ngIf",n.canModifyStudent),y.Cb(1),y.sc("ngIf",!n.canModifyStudent),y.Cb(2),y.uc("id","btn-other-actions-",s,""),y.Cb(3),y.sc("queryParams",y.wc(27,J,n.course.courseId)),y.Cb(2),y.sc("queryParams",y.wc(29,J,n.course.courseId)),y.Cb(2),y.uc("id","btn-archive-",s,""),y.Cb(2),y.sc("ngIf",n.canModifyCourse),y.Cb(1),y.sc("ngIf",!n.canModifyCourse)}}function se(e,t){1&e&&(y.Wb(0,"tr"),y.Rb(1,"td"),y.Rb(2,"td"),y.Rb(3,"td"),y.Rb(4,"td"),y.Rb(5,"td"),y.Rb(6,"td"),y.Rb(7,"td"),y.Rb(8,"td"),y.Vb())}function oe(e,t){1&e&&(y.Wb(0,"p"),y.Qc(1,"No records found."),y.Vb())}function ce(e,t){if(1&e){var r=y.Xb();y.Wb(0,"div",12),y.Wb(1,"h3"),y.Qc(2,"Active courses"),y.Vb(),y.Wb(3,"div",13),y.Wb(4,"table",14),y.Wb(5,"thead"),y.Wb(6,"tr",15),y.Wb(7,"th",16),y.ic("click",(function(){y.Fc(r);var e=y.kc(2);return e.sortCoursesEvent(e.SortBy.COURSE_ID)})),y.Qc(8," Course ID "),y.Wb(9,"span",17),y.Rb(10,"i",18),y.Oc(11,D,1,0,"i",19),y.Oc(12,_,1,0,"i",20),y.Vb(),y.Vb(),y.Wb(13,"th",21),y.ic("click",(function(){y.Fc(r);var e=y.kc(2);return e.sortCoursesEvent(e.SortBy.COURSE_NAME)})),y.Qc(14," Course Name "),y.Wb(15,"span",17),y.Rb(16,"i",18),y.Oc(17,B,1,0,"i",19),y.Oc(18,x,1,0,"i",20),y.Vb(),y.Vb(),y.Wb(19,"th",22),y.ic("click",(function(){y.Fc(r);var e=y.kc(2);return e.sortCoursesEvent(e.SortBy.COURSE_CREATION_DATE)})),y.Qc(20," Creation Date "),y.Wb(21,"span",17),y.Rb(22,"i",18),y.Oc(23,N,1,0,"i",19),y.Oc(24,Q,1,0,"i",20),y.Vb(),y.Vb(),y.Wb(25,"th"),y.Qc(26,"Sections"),y.Vb(),y.Wb(27,"th"),y.Qc(28,"Teams"),y.Vb(),y.Wb(29,"th"),y.Qc(30,"Total Students"),y.Vb(),y.Wb(31,"th"),y.Qc(32,"Total Unregistered"),y.Vb(),y.Wb(33,"th",23),y.Qc(34,"Action(s)"),y.Vb(),y.Vb(),y.Vb(),y.Wb(35,"tbody"),y.Oc(36,L,1,1,"ng-template",null,24,y.Pc),y.Oc(38,ne,37,31,"tr",25),y.Vb(),y.Oc(39,se,9,0,"tr",26),y.Vb(),y.Oc(40,oe,2,0,"p",26),y.Vb(),y.Vb()}if(2&e){var n=y.kc(2);y.Cb(11),y.sc("ngIf",n.activeTableSortBy===n.SortBy.COURSE_ID&&n.activeTableSortOrder===n.SortOrder.DESC),y.Cb(1),y.sc("ngIf",n.activeTableSortBy===n.SortBy.COURSE_ID&&n.activeTableSortOrder===n.SortOrder.ASC),y.Cb(5),y.sc("ngIf",n.activeTableSortBy===n.SortBy.COURSE_NAME&&n.activeTableSortOrder===n.SortOrder.DESC),y.Cb(1),y.sc("ngIf",n.activeTableSortBy===n.SortBy.COURSE_NAME&&n.activeTableSortOrder===n.SortOrder.ASC),y.Cb(5),y.sc("ngIf",n.activeTableSortBy===n.SortBy.COURSE_CREATION_DATE&&n.activeTableSortOrder===n.SortOrder.DESC),y.Cb(1),y.sc("ngIf",n.activeTableSortBy===n.SortBy.COURSE_CREATION_DATE&&n.activeTableSortOrder===n.SortOrder.ASC),y.Cb(14),y.sc("ngForOf",n.activeCourses),y.Cb(1),y.sc("ngIf",!n.activeCourses.length),y.Cb(1),y.sc("ngIf",!n.activeCourses.length)}}function ie(e,t){if(1&e&&(y.Wb(0,"div"),y.Oc(1,ce,41,9,"div",11),y.Vb()),2&e){var r=y.kc(),n=y.Cc(7);y.Cb(1),y.sc("ngIf",r.activeCourses.length)("ngIfElse",n)}}function ae(e,t){1&e&&y.Rb(0,"i",27)}function ue(e,t){1&e&&y.Rb(0,"i",28)}function le(e,t){1&e&&y.Rb(0,"i",27)}function de(e,t){1&e&&y.Rb(0,"i",28)}function be(e,t){1&e&&y.Rb(0,"i",27)}function fe(e,t){1&e&&y.Rb(0,"i",28)}function he(e,t){if(1&e){var r=y.Xb();y.Wb(0,"button",64),y.ic("click",(function(){y.Fc(r);var e=y.kc().$implicit;return y.kc(3).onDelete(e.course.courseId)})),y.Qc(1," Delete "),y.Vb()}if(2&e){var n=y.kc().index;y.uc("id","btn-soft-delete-archived-",n,"")}}function ve(e,t){if(1&e&&(y.Wb(0,"button",48),y.Qc(1," Delete "),y.Vb()),2&e){var r=y.kc().index;y.uc("id","btn-soft-delete-archived-disabled-",r,"")}}function pe(e,t){if(1&e){var r=y.Xb();y.Wb(0,"tr"),y.Wb(1,"td",30),y.Qc(2),y.Vb(),y.Wb(3,"td"),y.Qc(4),y.Vb(),y.Wb(5,"td"),y.Wb(6,"span",31),y.lc(7,"date"),y.Qc(8),y.lc(9,"date"),y.Vb(),y.Vb(),y.Wb(10,"td",32),y.Wb(11,"button",62),y.ic("click",(function(){y.Fc(r);var e=t.$implicit;return y.kc(3).changeArchiveStatus(e.course.courseId,!1)})),y.Qc(12," Unarchive "),y.Vb(),y.Oc(13,he,2,1,"button",63),y.Oc(14,ve,2,1,"button",34),y.Vb(),y.Vb()}if(2&e){var n=t.$implicit,s=t.index;y.Cb(1),y.uc("id","archived-course-id-",s,""),y.Cb(1),y.Rc(n.course.courseId),y.Cb(2),y.Rc(n.course.courseName),y.Cb(2),y.tc("ngbTooltip",y.nc(7,8,n.course.creationTimestamp,"EEE, dd MMM yyyy, h:mma")),y.Cb(2),y.Rc(y.nc(9,11,n.course.creationTimestamp,"d MMM yyyy")),y.Cb(3),y.uc("id","btn-unarchive-",s,""),y.Cb(2),y.sc("ngIf",n.canModifyCourse),y.Cb(1),y.sc("ngIf",!n.canModifyCourse)}}function ge(e,t){if(1&e){var r=y.Xb();y.Wb(0,"div",58),y.Wb(1,"table",59),y.Wb(2,"thead"),y.Wb(3,"tr",60),y.Wb(4,"th",61),y.ic("click",(function(){y.Fc(r);var e=y.kc(2);return e.sortArchivedCoursesEvent(e.SortBy.COURSE_ID)})),y.Qc(5," Course ID "),y.Wb(6,"span",17),y.Rb(7,"i",18),y.Oc(8,ae,1,0,"i",19),y.Oc(9,ue,1,0,"i",20),y.Vb(),y.Vb(),y.Wb(10,"th",61),y.ic("click",(function(){y.Fc(r);var e=y.kc(2);return e.sortArchivedCoursesEvent(e.SortBy.COURSE_NAME)})),y.Qc(11," Course Name "),y.Wb(12,"span",17),y.Rb(13,"i",18),y.Oc(14,le,1,0,"i",19),y.Oc(15,de,1,0,"i",20),y.Vb(),y.Vb(),y.Wb(16,"th",61),y.ic("click",(function(){y.Fc(r);var e=y.kc(2);return e.sortArchivedCoursesEvent(e.SortBy.COURSE_CREATION_DATE)})),y.Qc(17," Creation Date "),y.Wb(18,"span",17),y.Rb(19,"i",18),y.Oc(20,be,1,0,"i",19),y.Oc(21,fe,1,0,"i",20),y.Vb(),y.Vb(),y.Wb(22,"th",23),y.Qc(23,"Action(s)"),y.Vb(),y.Vb(),y.Vb(),y.Wb(24,"tbody"),y.Oc(25,pe,15,14,"tr",25),y.Vb(),y.Vb(),y.Vb()}if(2&e){var n=y.kc(2);y.sc("@collapseAnim",void 0),y.Cb(8),y.sc("ngIf",n.archivedTableSortBy===n.SortBy.COURSE_ID&&n.archivedTableSortOrder===n.SortOrder.DESC),y.Cb(1),y.sc("ngIf",n.archivedTableSortBy===n.SortBy.COURSE_ID&&n.archivedTableSortOrder===n.SortOrder.ASC),y.Cb(5),y.sc("ngIf",n.archivedTableSortBy===n.SortBy.COURSE_NAME&&n.archivedTableSortOrder===n.SortOrder.DESC),y.Cb(1),y.sc("ngIf",n.archivedTableSortBy===n.SortBy.COURSE_NAME&&n.archivedTableSortOrder===n.SortOrder.ASC),y.Cb(5),y.sc("ngIf",n.archivedTableSortBy===n.SortBy.COURSE_CREATION_DATE&&n.archivedTableSortOrder===n.SortOrder.DESC),y.Cb(1),y.sc("ngIf",n.archivedTableSortBy===n.SortBy.COURSE_CREATION_DATE&&n.archivedTableSortOrder===n.SortOrder.ASC),y.Cb(4),y.sc("ngForOf",n.archivedCourses)}}function Ce(e,t){if(1&e){var r=y.Xb();y.Wb(0,"div",12),y.Wb(1,"h3",51),y.Rb(2,"span",52),y.Qc(3," Archived courses "),y.Vb(),y.Wb(4,"div",53),y.Wb(5,"div",54),y.ic("click",(function(){y.Fc(r);var e=y.kc();return e.isArchivedCourseExpanded=!e.isArchivedCourseExpanded})),y.Wb(6,"b"),y.Qc(7,"Archive"),y.Vb(),y.Wb(8,"div",55),y.Rb(9,"tm-panel-chevron",56),y.Vb(),y.Vb(),y.Oc(10,ge,26,8,"div",57),y.Vb(),y.Vb()}if(2&e){var n=y.kc();y.Cb(9),y.sc("isExpanded",n.isArchivedCourseExpanded),y.Cb(1),y.sc("ngIf",n.isArchivedCourseExpanded)}}function ye(e,t){if(1&e){var r=y.Xb();y.Wb(0,"button",74),y.ic("click",(function(e){y.Fc(r);var t=y.kc(2);return e.stopPropagation(),t.onRestoreAll()})),y.Rb(1,"i",75),y.Qc(2," Restore All "),y.Vb()}}function me(e,t){1&e&&(y.Wb(0,"button",76),y.Rb(1,"i",75),y.Qc(2," Restore All "),y.Vb())}function Se(e,t){if(1&e){var r=y.Xb();y.Wb(0,"button",77),y.ic("click",(function(e){y.Fc(r);var t=y.kc(2);return e.stopPropagation(),t.onDeleteAll()})),y.Rb(1,"i",78),y.Qc(2," Delete All "),y.Vb()}}function Oe(e,t){1&e&&(y.Wb(0,"button",76),y.Rb(1,"i",78),y.Qc(2," Delete All "),y.Vb())}function Te(e,t){1&e&&y.Rb(0,"i",27)}function Ie(e,t){1&e&&y.Rb(0,"i",28)}function ke(e,t){1&e&&y.Rb(0,"i",27)}function Ee(e,t){1&e&&y.Rb(0,"i",28)}function Re(e,t){1&e&&y.Rb(0,"i",27)}function Ae(e,t){1&e&&y.Rb(0,"i",28)}function Me(e,t){1&e&&y.Rb(0,"i",27)}function We(e,t){1&e&&y.Rb(0,"i",28)}function Ve(e,t){if(1&e){var r=y.Xb();y.Wb(0,"button",84),y.ic("click",(function(){y.Fc(r);var e=y.kc().$implicit;return y.kc(3).onRestore(e.course.courseId)})),y.Qc(1," Restore "),y.Vb()}if(2&e){var n=y.kc().index;y.uc("id","btn-restore-",n,"")}}function we(e,t){if(1&e&&(y.Wb(0,"button",48),y.Qc(1," Restore "),y.Vb()),2&e){var r=y.kc().index;y.uc("id","btn-restore-disabled-",r,"")}}function De(e,t){if(1&e){var r=y.Xb();y.Wb(0,"button",85),y.ic("click",(function(){y.Fc(r);var e=y.kc().$implicit;return y.kc(3).onDeletePermanently(e.course.courseId)})),y.Qc(1," Delete Permanently "),y.Vb()}if(2&e){var n=y.kc().index;y.uc("id","btn-delete-",n,"")}}function _e(e,t){if(1&e&&(y.Wb(0,"button",86),y.Qc(1," Delete Permanently "),y.Vb()),2&e){var r=y.kc().index;y.uc("id","btn-delete-disabled-",r,"")}}function Be(e,t){if(1&e&&(y.Wb(0,"tr"),y.Wb(1,"td",30),y.Qc(2),y.Vb(),y.Wb(3,"td"),y.Qc(4),y.Vb(),y.Wb(5,"td"),y.Wb(6,"span",31),y.lc(7,"date"),y.Qc(8),y.lc(9,"date"),y.Vb(),y.Vb(),y.Wb(10,"td"),y.Wb(11,"span",31),y.lc(12,"date"),y.Qc(13),y.lc(14,"date"),y.Vb(),y.Vb(),y.Wb(15,"td",32),y.Oc(16,Ve,2,1,"button",81),y.Oc(17,we,2,1,"button",34),y.Oc(18,De,2,1,"button",82),y.Oc(19,_e,2,1,"button",83),y.Vb(),y.Vb()),2&e){var r=t.$implicit,n=t.index;y.Cb(1),y.uc("id","deleted-course-id-",n,""),y.Cb(1),y.Rc(r.course.courseId),y.Cb(2),y.Rc(r.course.courseName),y.Cb(2),y.sc("ngbTooltip",y.nc(7,11,r.course.creationTimestamp,"EEE, dd MMM yyyy, h:mma")),y.Cb(2),y.Sc(" ",y.nc(9,14,r.course.creationTimestamp,"d MMM yyyy")," "),y.Cb(3),y.sc("ngbTooltip",y.nc(12,17,r.course.deletionTimestamp,"EEE, dd MMM yyyy, h:mma")),y.Cb(2),y.Sc(" ",y.nc(14,20,r.course.deletionTimestamp,"d MMM yyyy")," "),y.Cb(3),y.sc("ngIf",r.canModifyCourse),y.Cb(1),y.sc("ngIf",!r.canModifyCourse),y.Cb(1),y.sc("ngIf",r.canModifyCourse),y.Cb(1),y.sc("ngIf",!r.canModifyCourse)}}function xe(e,t){if(1&e){var r=y.Xb();y.Wb(0,"div",79),y.Wb(1,"table",80),y.Wb(2,"thead"),y.Wb(3,"tr",60),y.Wb(4,"th",61),y.ic("click",(function(){y.Fc(r);var e=y.kc(2);return e.sortDeletedCoursesEvent(e.SortBy.COURSE_ID)})),y.Qc(5," Course ID "),y.Wb(6,"span",17),y.Rb(7,"i",18),y.Oc(8,Te,1,0,"i",19),y.Oc(9,Ie,1,0,"i",20),y.Vb(),y.Vb(),y.Wb(10,"th",61),y.ic("click",(function(){y.Fc(r);var e=y.kc(2);return e.sortDeletedCoursesEvent(e.SortBy.COURSE_NAME)})),y.Qc(11," Course Name "),y.Wb(12,"span",17),y.Rb(13,"i",18),y.Oc(14,ke,1,0,"i",19),y.Oc(15,Ee,1,0,"i",20),y.Vb(),y.Vb(),y.Wb(16,"th",61),y.ic("click",(function(){y.Fc(r);var e=y.kc(2);return e.sortDeletedCoursesEvent(e.SortBy.COURSE_CREATION_DATE)})),y.Qc(17," Creation Date "),y.Wb(18,"span",17),y.Rb(19,"i",18),y.Oc(20,Re,1,0,"i",19),y.Oc(21,Ae,1,0,"i",20),y.Vb(),y.Vb(),y.Wb(22,"th",61),y.ic("click",(function(){y.Fc(r);var e=y.kc(2);return e.sortDeletedCoursesEvent(e.SortBy.COURSE_DELETION_DATE)})),y.Qc(23," Deletion Date "),y.Wb(24,"span",17),y.Rb(25,"i",18),y.Oc(26,Me,1,0,"i",19),y.Oc(27,We,1,0,"i",20),y.Vb(),y.Vb(),y.Wb(28,"th",23),y.Qc(29,"Action(s)"),y.Vb(),y.Vb(),y.Vb(),y.Wb(30,"tbody"),y.Oc(31,Be,20,23,"tr",25),y.Vb(),y.Vb(),y.Vb()}if(2&e){var n=y.kc(2);y.sc("@collapseAnim",void 0),y.Cb(8),y.sc("ngIf",n.deletedTableSortBy===n.SortBy.COURSE_ID&&n.deletedTableSortOrder===n.SortOrder.DESC),y.Cb(1),y.sc("ngIf",n.deletedTableSortBy===n.SortBy.COURSE_ID&&n.deletedTableSortOrder===n.SortOrder.ASC),y.Cb(5),y.sc("ngIf",n.deletedTableSortBy===n.SortBy.COURSE_NAME&&n.deletedTableSortOrder===n.SortOrder.DESC),y.Cb(1),y.sc("ngIf",n.deletedTableSortBy===n.SortBy.COURSE_NAME&&n.deletedTableSortOrder===n.SortOrder.ASC),y.Cb(5),y.sc("ngIf",n.deletedTableSortBy===n.SortBy.COURSE_CREATION_DATE&&n.deletedTableSortOrder===n.SortOrder.DESC),y.Cb(1),y.sc("ngIf",n.deletedTableSortBy===n.SortBy.COURSE_CREATION_DATE&&n.deletedTableSortOrder===n.SortOrder.ASC),y.Cb(5),y.sc("ngIf",n.deletedTableSortBy===n.SortBy.COURSE_DELETION_DATE&&n.deletedTableSortOrder===n.SortOrder.DESC),y.Cb(1),y.sc("ngIf",n.deletedTableSortBy===n.SortBy.COURSE_DELETION_DATE&&n.deletedTableSortOrder===n.SortOrder.ASC),y.Cb(4),y.sc("ngForOf",n.softDeletedCourses)}}function Ne(e,t){if(1&e){var r=y.Xb();y.Wb(0,"div",65),y.Wb(1,"div",66),y.Wb(2,"h3",51),y.Rb(3,"span",67),y.Qc(4," Deleted courses "),y.Vb(),y.Wb(5,"div",68),y.Wb(6,"div",69),y.ic("click",(function(){y.Fc(r);var e=y.kc();return e.isRecycleBinExpanded=!e.isRecycleBinExpanded})),y.Wb(7,"b"),y.Qc(8,"Recycle Bin"),y.Vb(),y.Wb(9,"div",55),y.Oc(10,ye,3,0,"button",70),y.Oc(11,me,3,0,"button",71),y.Oc(12,Se,3,0,"button",72),y.Oc(13,Oe,3,0,"button",71),y.Rb(14,"tm-panel-chevron",56),y.Vb(),y.Vb(),y.Oc(15,xe,32,10,"div",73),y.Vb(),y.Vb(),y.Vb()}if(2&e){var n=y.kc();y.Cb(10),y.sc("ngIf",n.canRestoreAll),y.Cb(1),y.sc("ngIf",!n.canRestoreAll),y.Cb(1),y.sc("ngIf",n.canDeleteAll),y.Cb(1),y.sc("ngIf",!n.canDeleteAll),y.Cb(1),y.sc("isExpanded",n.isRecycleBinExpanded),y.Cb(1),y.sc("ngIf",n.isRecycleBinExpanded)}}var Qe,Le,Pe=[{path:"",component:(Qe=function(){function e(t,r,n,s,o,c){_classCallCheck(this,e),this.route=t,this.statusMessageService=r,this.courseService=n,this.studentService=s,this.simpleModalService=o,this.tableComparatorService=c,this.activeCourses=[],this.archivedCourses=[],this.softDeletedCourses=[],this.courseStats={},this.activeTableSortOrder=p.b.ASC,this.activeTableSortBy=p.a.COURSE_CREATION_DATE,this.archivedTableSortOrder=p.b.ASC,this.archivedTableSortBy=p.a.COURSE_NAME,this.deletedTableSortOrder=p.b.ASC,this.deletedTableSortBy=p.a.COURSE_NAME,this.SortBy=p.a,this.SortOrder=p.b,this.isLoading=!1,this.hasLoadingFailed=!1,this.isRecycleBinExpanded=!1,this.canDeleteAll=!0,this.canRestoreAll=!0,this.isAddNewCourseFormExpanded=!1,this.isArchivedCourseExpanded=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.route.queryParams.subscribe((function(t){t.isAddNewCourse&&(e.isAddNewCourseFormExpanded=t.isAddNewCourse),e.loadInstructorCourses()}))}},{key:"loadInstructorCourses",value:function(){var e=this;this.hasLoadingFailed=!1,this.isLoading=!0,this.activeCourses=[],this.archivedCourses=[],this.softDeletedCourses=[],this.courseService.getAllCoursesAsInstructor("active").subscribe((function(t){t.courses.forEach((function(t){var r=!1,n=!1;t.privileges&&(r=t.privileges.canModifyCourse,n=t.privileges.canModifyStudent);var s=Object.assign({},{course:t,canModifyCourse:r,canModifyStudent:n,isLoadingCourseStats:!1});e.activeCourses.push(s)})),e.activeCoursesDefaultSort(),e.isLoading=!1}),(function(t){e.isLoading=!1,e.hasLoadingFailed=!0,e.statusMessageService.showErrorToast(t.error.message)})),this.courseService.getAllCoursesAsInstructor("archived").subscribe((function(t){var r,n=_createForOfIteratorHelper(t.courses);try{for(n.s();!(r=n.n()).done;){var s=r.value,o=!1,c=!1;s.privileges&&(o=s.privileges.canModifyCourse,c=s.privileges.canModifyStudent);var i=Object.assign({},{course:s,canModifyCourse:o,canModifyStudent:c,isLoadingCourseStats:!1});e.archivedCourses.push(i),e.archivedCoursesDefaultSort()}}catch(a){n.e(a)}finally{n.f()}}),(function(t){e.hasLoadingFailed=!0,e.statusMessageService.showErrorToast(t.error.message)})),this.courseService.getAllCoursesAsInstructor("softDeleted").subscribe((function(t){var r,n=_createForOfIteratorHelper(t.courses);try{for(n.s();!(r=n.n()).done;){var s=r.value,o=!1,c=!1;s.privileges&&(o=s.privileges.canModifyCourse,c=s.privileges.canModifyStudent);var i=Object.assign({},{course:s,canModifyCourse:o,canModifyStudent:c,isLoadingCourseStats:!1});e.softDeletedCourses.push(i),e.deletedCoursesDefaultSort(),i.canModifyCourse||(e.canDeleteAll=!1,e.canRestoreAll=!1)}}catch(a){n.e(a)}finally{n.f()}}),(function(t){e.hasLoadingFailed=!0,e.statusMessageService.showErrorToast(t.error.message)}))}},{key:"getCourseStats",value:function(e){var t=this,r=this.activeCourses[e],n=r.course.courseId;n?(r.isLoadingCourseStats=!0,this.studentService.getStudentsFromCourse({courseId:n}).pipe(Object(h.a)((function(){return r.isLoadingCourseStats=!1}))).subscribe((function(e){t.courseStats[n]={sections:new Set(e.students.map((function(e){return e.sectionName}))).size,teams:new Set(e.students.map((function(e){return e.teamName}))).size,students:e.students.length,unregistered:e.students.filter((function(e){return e.joinState===v.j.NOT_JOINED})).length}}),(function(e){t.statusMessageService.showErrorToast(e.error.message)}))):this.statusMessageService.showErrorToast("Course ".concat(n," is not found!"))}},{key:"changeArchiveStatus",value:function(e,t){var r=this;e?this.courseService.changeArchiveStatus(e,{archiveStatus:t}).subscribe((function(t){t.isArchived?(r.changeModelFromActiveToArchived(e),r.statusMessageService.showSuccessToast("The course ".concat(e," has been archived.\n          It will not appear on the home page anymore."))):(r.changeModelFromArchivedToActive(e),r.statusMessageService.showSuccessToast("The course has been unarchived."))}),(function(e){r.statusMessageService.showErrorToast(e.error.message)})):this.statusMessageService.showErrorToast("Course ".concat(e," is not found!"))}},{key:"changeModelFromActiveToArchived",value:function(e){var t=this.findCourse(this.activeCourses,e);this.activeCourses=this.removeCourse(this.activeCourses,e),void 0!==t&&(this.archivedCourses.push(t),this.archivedCourses.sort(this.sortBy(this.archivedTableSortBy,this.archivedTableSortOrder)))}},{key:"changeModelFromArchivedToActive",value:function(e){var t=this.findCourse(this.archivedCourses,e);this.archivedCourses=this.removeCourse(this.archivedCourses,e),void 0!==t&&(this.activeCourses.push(t),this.activeCourses.sort(this.sortBy(this.activeTableSortBy,this.activeTableSortOrder)))}},{key:"findCourse",value:function(e,t){return e.find((function(e){return e.course.courseId===t}))}},{key:"removeCourse",value:function(e,t){return e.filter((function(e){return e.course.courseId!==t}))}},{key:"onDelete",value:function(e){var t=this;return e?this.simpleModalService.openConfirmationModal("Warning: The course will be moved to the recycle bin.",g.a.WARNING,"Are you sure you want to continue?").result.then((function(){t.courseService.binCourse(e).subscribe((function(r){t.moveCourseToRecycleBin(e,r.deletionTimestamp),t.statusMessageService.showSuccessToast("The course ".concat(r.courseId," has been deleted. You can restore it from the Recycle Bin manually."))}),(function(e){t.statusMessageService.showErrorToast(e.error.message)}))})).catch((function(){})):(this.statusMessageService.showErrorToast("Course ".concat(e," is not found!")),Promise.resolve())}},{key:"moveCourseToRecycleBin",value:function(e,t){var r=this.findCourse(this.activeCourses,e);if(this.activeCourses=this.removeCourse(this.activeCourses,e),void 0!==r)r.course.deletionTimestamp=t,this.softDeletedCourses.push(r),this.softDeletedCourses.sort(this.sortBy(this.deletedTableSortBy,this.deletedTableSortOrder));else{var n=this.findCourse(this.archivedCourses,e);this.archivedCourses=this.removeCourse(this.archivedCourses,e),void 0!==n&&(n.course.deletionTimestamp=t,this.softDeletedCourses.push(n),this.softDeletedCourses.sort(this.sortBy(this.deletedTableSortBy,this.deletedTableSortOrder)))}}},{key:"onDeletePermanently",value:function(e){var t=this;if(!e)return this.statusMessageService.showErrorToast("Course ".concat(e," is not found!")),Promise.resolve();var r=this.simpleModalService.openConfirmationModal("Delete course <strong>".concat(e,"</strong> permanently?"),g.a.DANGER,"<strong>Are you sure you want to permanently delete ".concat(e,"?</strong><br>\n        This operation will delete all students and sessions in these courses.\n        All instructors of these courses will not be able to access them hereafter as well."));return r.componentInstance.courseId=e,r.result.then((function(){t.courseService.deleteCourse(e).subscribe((function(){t.softDeletedCourses=t.removeCourse(t.softDeletedCourses,e),t.statusMessageService.showSuccessToast("The course ".concat(e," has been permanently deleted."))}),(function(e){t.statusMessageService.showErrorToast(e.error.message)}))})).catch((function(){}))}},{key:"onRestore",value:function(e){var t=this;e?this.courseService.restoreCourse(e).subscribe((function(e){t.loadInstructorCourses(),t.statusMessageService.showSuccessToast(e.message)}),(function(e){t.statusMessageService.showErrorToast(e.error.message)})):this.statusMessageService.showErrorToast("Course ".concat(e," is not found!"))}},{key:"onDeleteAll",value:function(){var e=this;this.simpleModalService.openConfirmationModal("Deleting all courses permanently?",g.a.DANGER,"<strong>Are you sure you want to permanently delete all the courses in the Recycle Bin?</strong><br>\n        This operation will delete all students and sessions in these courses.\n        All instructors of these courses will not be able to access them hereafter as well.").result.then((function(){var t=[];e.softDeletedCourses.forEach((function(r){t.push(e.courseService.deleteCourse(r.course.courseId))})),Object(f.a)(t).subscribe((function(){e.softDeletedCourses=[],e.statusMessageService.showSuccessToast("All courses have been permanently deleted.")}),(function(t){e.statusMessageService.showErrorToast(t.error.message)}))})).catch((function(){}))}},{key:"onRestoreAll",value:function(){var e=this,t=[];this.softDeletedCourses.forEach((function(r){t.push(e.courseService.restoreCourse(r.course.courseId))})),Object(f.a)(t).subscribe((function(){e.loadInstructorCourses(),e.statusMessageService.showSuccessToast("All courses have been restored.")}),(function(t){e.statusMessageService.showErrorToast(t.error.message)}))}},{key:"sortCoursesEvent",value:function(e){this.activeTableSortOrder=this.activeTableSortBy===e&&this.activeTableSortOrder===p.b.ASC?p.b.DESC:p.b.ASC,this.activeTableSortBy=e,this.activeCourses.sort(this.sortBy(e,this.activeTableSortOrder))}},{key:"activeCoursesDefaultSort",value:function(){this.activeTableSortBy=p.a.COURSE_CREATION_DATE,this.activeTableSortOrder=p.b.DESC,this.activeCourses.sort(this.sortBy(this.activeTableSortBy,this.activeTableSortOrder))}},{key:"sortArchivedCoursesEvent",value:function(e){this.archivedTableSortOrder=this.archivedTableSortBy===e&&this.archivedTableSortOrder===p.b.ASC?p.b.DESC:p.b.ASC,this.archivedTableSortBy=e,this.archivedCourses.sort(this.sortBy(e,this.archivedTableSortOrder))}},{key:"archivedCoursesDefaultSort",value:function(){this.archivedTableSortBy=p.a.COURSE_CREATION_DATE,this.archivedTableSortOrder=p.b.DESC,this.archivedCourses.sort(this.sortBy(this.archivedTableSortBy,this.archivedTableSortOrder))}},{key:"sortDeletedCoursesEvent",value:function(e){this.deletedTableSortOrder=this.deletedTableSortBy===e&&this.deletedTableSortOrder===p.b.ASC?p.b.DESC:p.b.ASC,this.deletedTableSortBy=e,this.softDeletedCourses.sort(this.sortBy(e,this.deletedTableSortOrder))}},{key:"deletedCoursesDefaultSort",value:function(){this.deletedTableSortBy=p.a.COURSE_DELETION_DATE,this.deletedTableSortOrder=p.b.DESC,this.softDeletedCourses.sort(this.sortBy(this.deletedTableSortBy,this.deletedTableSortOrder))}},{key:"sortBy",value:function(e,t){var r=this;return function(n,s){var o,c;switch(e){case p.a.COURSE_ID:o=n.course.courseId?n.course.courseId:"",c=s.course.courseId?s.course.courseId:"";break;case p.a.COURSE_NAME:o=n.course.courseName,c=s.course.courseName;break;case p.a.COURSE_CREATION_DATE:o=n.course.creationTimestamp.toString(),c=s.course.creationTimestamp.toString();break;default:o="",c=""}return r.tableComparatorService.compare(e,t,o,c)}}}]),e}(),Qe.\u0275fac=function(e){return new(e||Qe)(y.Qb(o.a),y.Qb(m.a),y.Qb(S.a),y.Qb(O.a),y.Qb(T.a),y.Qb(I.a))},Qe.\u0275cmp=y.Kb({type:Qe,selectors:[["tm-instructor-courses-page"]],decls:11,vars:7,consts:[["id","btn-add-course",1,"btn","btn-success",3,"disabled","click"],[1,"fas","fa-plus"],["id","add-course-section","class","course-section",4,"ngIf"],[3,"shouldShowRetry","message","retryEvent"],["addCourseAlert",""],[4,"tmIsLoading"],["class","course-section",4,"ngIf"],["class","row course-section margin-top-30px",4,"ngIf"],["id","add-course-section",1,"course-section"],[3,"courseAdded","closeCourseFormEvent"],["role","alert",1,"alert","alert-warning","margin-top-30px"],["class","course-section",4,"ngIf","ngIfElse"],[1,"course-section"],[1,"table","table-responsive"],["id","active-courses-table",1,"table","table-striped","table-bordered","margin-0"],[1,"bg-primary","text-white"],["id","sort-course-id",1,"sortable-header",3,"click"],[1,"fa-stack"],[1,"fas","fa-sort"],["class","fas fa-sort-down",4,"ngIf"],["class","fas fa-sort-up",4,"ngIf"],["id","sort-course-name",1,"sortable-header",3,"click"],["id","sort-creation-date",1,"sortable-header",3,"click"],[1,"text-center"],["loadingSpinner",""],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"fas","fa-sort-down"],[1,"fas","fa-sort-up"],[3,"useBlueSpinner"],[3,"id"],["container","body",1,"ngb-tooltip-class",3,"ngbTooltip"],[1,"text-center","actions-cell"],["class","btn btn-light btn-sm","ngbTooltip","Enroll student into the course","tmRouterLink","/web/instructor/courses/enroll",3,"id","queryParams",4,"ngIf"],["class","btn btn-light btn-sm disabled",3,"id",4,"ngIf"],["ngbDropdown","",1,"d-inline-block"],["ngbDropdownToggle","",1,"btn","btn-light","btn-sm",3,"id"],["ngbDropdownMenu",""],["tmRouterLink","/web/instructor/courses/details",1,"btn","btn-primary","btn-sm","dropdown-item","clickable",3,"queryParams"],["tmRouterLink","/web/instructor/courses/edit",1,"btn","btn-primary","btn-sm","dropdown-item","clickable",3,"queryParams"],["ngbTooltip","Archive the course so that it will not be shown in the home page any more (you can still access it from the 'Courses' tab)","placement","left","container","body",1,"btn","btn-primary","btn-sm","dropdown-item","clickable",3,"id","click"],["class","btn btn-primary btn-sm dropdown-item clickable","ngbTooltip","Delete the course and its corresponding students and sessions","placement","left","container","body",3,"id","click",4,"ngIf"],["class","btn btn-primary btn-sm dropdown-item disabled",3,"id",4,"ngIf"],[3,"tmRouterLink","click",4,"ngIf","ngIfElse"],[3,"tmRouterLink","click"],[3,"id","tmRouterLink","click",4,"ngIf","ngIfElse"],[3,"id","tmRouterLink","click"],["ngbTooltip","Enroll student into the course","tmRouterLink","/web/instructor/courses/enroll",1,"btn","btn-light","btn-sm",3,"id","queryParams"],[1,"btn","btn-light","btn-sm","disabled",3,"id"],["ngbTooltip","Delete the course and its corresponding students and sessions","placement","left","container","body",1,"btn","btn-primary","btn-sm","dropdown-item","clickable",3,"id","click"],[1,"btn","btn-primary","btn-sm","dropdown-item","disabled",3,"id"],[1,"text-muted"],[1,"fa","fa-file-archive"],[1,"card","top-padded"],["id","archived-table-heading",1,"card-header","bg-info","text-white","cursor-pointer",3,"click"],[1,"card-header-btn-toolbar"],[3,"isExpanded"],["class","card-body archive-body table-responsive",4,"ngIf"],[1,"card-body","archive-body","table-responsive"],["id","archived-courses-table",1,"table","table-striped","table-bordered","archive-table"],[1,"background-color-medium-gray","text-color-gray"],[1,"sortable-header",3,"click"],[1,"btn","btn-light","btn-sm",3,"id","click"],["class","btn btn-light btn-sm","ngbTooltip","Delete the course and its corresponding students and sessions",3,"id","click",4,"ngIf"],["ngbTooltip","Delete the course and its corresponding students and sessions",1,"btn","btn-light","btn-sm",3,"id","click"],[1,"row","course-section","margin-top-30px"],[1,"col-12"],[1,"fa","fa-trash-alt"],[1,"card","bg-light","top-padded"],["id","deleted-table-heading",1,"card-header","bg-secondary","text-white","cursor-pointer",3,"click"],["id","btn-restore-all","class","btn btn-secondary btn-sm","ngbTooltip","Restore all deleted courses and their corresponding students and sessions",3,"click",4,"ngIf"],["class","btn btn-secondary btn-sm disabled",4,"ngIf"],["id","btn-delete-all","class","btn btn-secondary btn-sm","ngbTooltip","Permanently delete all courses and their corresponding students and sessions",3,"click",4,"ngIf"],["class","card-body recycle-bin-body table-responsive",4,"ngIf"],["id","btn-restore-all","ngbTooltip","Restore all deleted courses and their corresponding students and sessions",1,"btn","btn-secondary","btn-sm",3,"click"],[1,"fas","fa-check"],[1,"btn","btn-secondary","btn-sm","disabled"],["id","btn-delete-all","ngbTooltip","Permanently delete all courses and their corresponding students and sessions",1,"btn","btn-secondary","btn-sm",3,"click"],[1,"fas","fa-times"],[1,"card-body","recycle-bin-body","table-responsive"],["id","deleted-courses-table",1,"table","table-responsive-lg","table-striped","table-bordered","recycle-bin-table"],["class","btn btn-light btn-sm","ngbTooltip","Restore the deleted course and its corresponding students and sessions",3,"id","click",4,"ngIf"],["class","btn btn-light btn-sm text-danger","ngbTooltip","Permanently delete the course and its corresponding students and sessions",3,"id","click",4,"ngIf"],["class","btn btn-light btn-sm disabled text-danger",3,"id",4,"ngIf"],["ngbTooltip","Restore the deleted course and its corresponding students and sessions",1,"btn","btn-light","btn-sm",3,"id","click"],["ngbTooltip","Permanently delete the course and its corresponding students and sessions",1,"btn","btn-light","btn-sm","text-danger",3,"id","click"],[1,"btn","btn-light","btn-sm","disabled","text-danger",3,"id"]],template:function(e,t){1&e&&(y.Wb(0,"div"),y.Wb(1,"button",0),y.ic("click",(function(){return t.isAddNewCourseFormExpanded=!0})),y.Rb(2,"i",1),y.Qc(3," Add New Course "),y.Vb(),y.Vb(),y.Oc(4,V,2,1,"div",2),y.Wb(5,"tm-loading-retry",3),y.ic("retryEvent",(function(){return t.loadInstructorCourses()})),y.Oc(6,w,2,0,"ng-template",null,4,y.Pc),y.Oc(8,ie,2,2,"div",5),y.Vb(),y.Oc(9,Ce,11,2,"div",6),y.Oc(10,Ne,16,6,"div",7)),2&e&&(y.Cb(1),y.sc("disabled",t.isAddNewCourseFormExpanded),y.Cb(3),y.sc("ngIf",t.isAddNewCourseFormExpanded),y.Cb(1),y.sc("shouldShowRetry",t.hasLoadingFailed)("message","Failed to load courses"),y.Cb(3),y.sc("tmIsLoading",t.isLoading),y.Cb(1),y.sc("ngIf",t.archivedCourses.length),y.Cb(1),y.sc("ngIf",t.softDeletedCourses.length))},directives:[n.u,k.a,E.a,R.a,n.t,A.a,c.w,c.g,c.k,c.i,M.a,W.a],pipes:[n.f],styles:[".sortable-header[_ngcontent-%COMP%]{cursor:pointer}.course-section[_ngcontent-%COMP%]{margin-top:2em}.bold-label[_ngcontent-%COMP%]{font-weight:700!important}.recycle-bin-body[_ngcontent-%COMP%]{padding:0}.background-color-medium-gray[_ngcontent-%COMP%]{background-color:#e5e5e6}.text-color-black[_ngcontent-%COMP%]{color:#000}.text-color-gray[_ngcontent-%COMP%]{color:grey}.text-color-red[_ngcontent-%COMP%]{color:red}.link-disabled[_ngcontent-%COMP%]{cursor:default;color:#000;pointer-events:none}.recycle-bin-table[_ngcontent-%COMP%]{margin-bottom:0}.archive-body[_ngcontent-%COMP%]{padding:0}.archive-table[_ngcontent-%COMP%]{margin-bottom:0}.margin-top-30px[_ngcontent-%COMP%]{margin-top:30px}.actions-cell[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.dropdown-item){margin-left:var(--btn-margin)}.dropdown-menu[_ngcontent-%COMP%]{min-width:.5rem}.table-responsive[_ngcontent-%COMP%]{overflow:auto}.d-inline-block[_ngcontent-%COMP%]{position:inherit}"],data:{animation:[C.a]}}),Qe)}],Fe=((Le=function e(){_classCallCheck(this,e)}).\u0275mod=y.Ob({type:Le}),Le.\u0275inj=y.Nb({factory:function(e){return new(e||Le)},imports:[[n.c,s.j,s.z,o.h.forChild(Pe),c.j,c.y,b.a,u.a,i.a,a.a,l.a,d.a]]}),Le)},Wsbs:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r("fXoL"),s=function(){var e=function(){function e(){_classCallCheck(this,e),this.useBlueSpinner=!1}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Kb({type:e,selectors:[["tm-ajax-loading"]],inputs:{useBlueSpinner:"useBlueSpinner"},decls:2,vars:3,consts:[[1,"loading-container"],["role","status"]],template:function(e,t){1&e&&(n.Wb(0,"div",0),n.Rb(1,"div",1),n.Vb()),2&e&&(n.Cb(1),n.Fb("spinner-border spinner-border-sm text-",t.useBlueSpinner?"primary":"white",""))},styles:[".loading-container[_ngcontent-%COMP%]{display:inline;margin-right:10px}"]}),e}()},ax2R:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r("XNiG"),s=r("fXoL"),o=function(){var e=function(){function e(){_classCallCheck(this,e),this.progressPercentage=new n.a}return _createClass(e,[{key:"updateProgress",value:function(e){this.progressPercentage.next(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},eQqG:function(e,t,r){"use strict";r.d(t,"a",(function(){return I}));var n,s=r("fXoL"),o=r("/Tzu"),c=r("1kSV"),i=r("ofXK"),a=r("ax2R"),u=((n=function(){function e(t){_classCallCheck(this,e),this.progressBarService=t,this.progressPercentage=0}return _createClass(e,[{key:"ngOnInit",value:function(){this.getProgress()}},{key:"getProgress",value:function(){var e=this;this.progressBarService.progressPercentage.subscribe((function(t){e.progressPercentage=t}))}}]),e}()).\u0275fac=function(e){return new(e||n)(s.Qb(a.a))},n.\u0275cmp=s.Kb({type:n,selectors:[["tm-progress-bar"]],decls:2,vars:3,consts:[["type","info","height","26px","showValue","true",3,"value","striped","animated"]],template:function(e,t){1&e&&(s.Wb(0,"div"),s.Rb(1,"ngb-progressbar",0),s.Vb()),2&e&&(s.Cb(1),s.sc("value",t.progressPercentage)("striped",!0)("animated",!0))},directives:[c.q],encapsulation:2}),n);function l(e,t){1&e&&s.Rb(0,"i",16)}function d(e,t){1&e&&s.Rb(0,"i",17)}function b(e,t){1&e&&s.Rb(0,"i",18)}function f(e,t){1&e&&s.Sb(0)}function h(e,t){if(1&e&&(s.Wb(0,"div"),s.Oc(1,f,1,0,"ng-container",19),s.Vb()),2&e){var r=s.kc();s.Cb(1),s.sc("ngTemplateOutlet",r.content)}}function v(e,t){if(1&e&&s.Rb(0,"div",20),2&e){var r=s.kc();s.sc("innerHTML",r.content,s.Gc)}}function p(e,t){1&e&&(s.Wb(0,"div",21),s.Rb(1,"tm-progress-bar"),s.Vb())}function g(e,t){if(1&e){var r=s.Xb();s.Wb(0,"button",22),s.ic("click",(function(){return s.Fc(r),s.kc().activeModal.dismiss()})),s.Qc(1),s.Vb()}if(2&e){var n=s.kc();s.Cb(1),s.Sc(" ",n.cancelMessage," ")}}var C,y,m=function(e){return{"display-none":e}},S=function(e,t,r,n){return{"alert-danger":e,"alert-warning":t,"alert-info":r,"bg-white":n}},O=function(e,t,r,n){return{"btn-danger":e,"btn-warning":t,"btn-info":r,"btn-primary":n}},T=((y=function(){function e(t){_classCallCheck(this,e),this.activeModal=t,this.SimpleModalType=o.a,this.header="",this.content="",this.type=o.a.NEUTRAL,this.isInformationOnly=!1,this.confirmMessage="Yes",this.cancelMessage="No, cancel the operation"}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"isTemplate",get:function(){return this.content instanceof s.L}}]),e}()).\u0275fac=function(e){return new(e||y)(s.Qb(c.a))},y.\u0275cmp=s.Kb({type:y,selectors:[["tm-confirmation-modal"]],inputs:{header:"header",content:"content",type:"type",isInformationOnly:"isInformationOnly",confirmMessage:"confirmMessage",cancelMessage:"cancelMessage"},decls:18,vars:24,consts:[[1,"transparent-overlay",3,"ngClass"],[1,"modal-header",3,"ngClass"],[1,"modal-title"],["class","fas fa-times-circle",4,"ngIf"],["class","fas fa-exclamation-circle",4,"ngIf"],["class","fas fa-info-circle",4,"ngIf"],[1,"margin-left-5px",3,"innerHTML"],["type","button",1,"close",3,"click"],[1,"fas","fa-times"],[1,"modal-body"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],["class","progress-bar-container",4,"ngIf"],[1,"modal-footer"],["type","button","class","btn btn-light modal-btn-cancel",3,"click",4,"ngIf"],["type","button",1,"btn","modal-btn-ok","z-index-1",3,"ngClass","click"],[1,"fas","fa-times-circle"],[1,"fas","fa-exclamation-circle"],[1,"fas","fa-info-circle"],[4,"ngTemplateOutlet"],[3,"innerHTML"],[1,"progress-bar-container"],["type","button",1,"btn","btn-light","modal-btn-cancel",3,"click"]],template:function(e,t){1&e&&(s.Rb(0,"div",0),s.Wb(1,"div",1),s.Wb(2,"div"),s.Wb(3,"h5",2),s.Oc(4,l,1,0,"i",3),s.Oc(5,d,1,0,"i",4),s.Oc(6,b,1,0,"i",5),s.Rb(7,"span",6),s.Vb(),s.Vb(),s.Wb(8,"button",7),s.ic("click",(function(){return t.type===t.SimpleModalType.LOAD?t.activeModal.close():t.activeModal.dismiss()})),s.Rb(9,"i",8),s.Vb(),s.Vb(),s.Wb(10,"div",9),s.Oc(11,h,2,1,"div",10),s.Oc(12,v,1,1,"div",11),s.Oc(13,p,2,0,"div",12),s.Vb(),s.Wb(14,"div",13),s.Oc(15,g,2,1,"button",14),s.Wb(16,"button",15),s.ic("click",(function(){return t.activeModal.close()})),s.Qc(17),s.Vb(),s.Vb()),2&e&&(s.sc("ngClass",s.wc(12,m,t.type!==t.SimpleModalType.LOAD)),s.Cb(1),s.sc("ngClass",s.zc(14,S,t.type===t.SimpleModalType.DANGER,t.type===t.SimpleModalType.WARNING,t.type===t.SimpleModalType.INFO||t.type===t.SimpleModalType.LOAD,t.type===t.SimpleModalType.NEUTRAL)),s.Cb(3),s.sc("ngIf",t.type===t.SimpleModalType.DANGER),s.Cb(1),s.sc("ngIf",t.type===t.SimpleModalType.WARNING),s.Cb(1),s.sc("ngIf",t.type===t.SimpleModalType.INFO||t.type===t.SimpleModalType.LOAD),s.Cb(1),s.sc("innerHTML",t.header,s.Gc),s.Cb(4),s.sc("ngIf",t.isTemplate),s.Cb(1),s.sc("ngIf",!t.isTemplate),s.Cb(1),s.sc("ngIf",t.type===t.SimpleModalType.LOAD),s.Cb(2),s.sc("ngIf",!t.isInformationOnly),s.Cb(1),s.sc("ngClass",s.zc(19,O,t.type===t.SimpleModalType.DANGER||t.type===t.SimpleModalType.LOAD,t.type===t.SimpleModalType.WARNING,t.type===t.SimpleModalType.INFO,t.type===t.SimpleModalType.NEUTRAL)),s.Cb(1),s.Rc(t.confirmMessage))},directives:[i.r,i.u,i.B,u],styles:[".margin-left-5px[_ngcontent-%COMP%]{margin-left:5px}.progress-bar-container[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:2px}.transparent-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;visibility:false;z-index:0}.display-none[_ngcontent-%COMP%]{display:none}.z-index-1[_ngcontent-%COMP%]{z-index:1}"]}),y),I=((C=function(){function e(t){_classCallCheck(this,e),this.ngbModal=t}return _createClass(e,[{key:"open",value:function(e,t,r,n){var s=this.ngbModal.open(T);return s.componentInstance.header=e,s.componentInstance.content=r,s.componentInstance.type=t,n&&Object.entries(n).map((function(e){var t=_slicedToArray(e,2),r=t[0],n=t[1];s.componentInstance[r]=n})),s}},{key:"openConfirmationModal",value:function(e,t,r,n){var s=Object.assign({isInformationOnly:!1,confirmMessage:"Yes",cancelMessage:"No, cancel the operation"},n);return this.open(e,t,r,s)}},{key:"openInformationModal",value:function(e,t,r,n){var s=Object.assign({isInformationOnly:!0,confirmMessage:"OK"},n);return this.open(e,t,r,s)}},{key:"openLoadingModal",value:function(e,t,r,n){var s=Object.assign({isInformationOnly:!0,confirmMessage:"Abort"},n);return this.open(e,t,r,s)}}]),e}()).\u0275fac=function(e){return new(e||C)(s.ec(c.m))},C.\u0275prov=s.Mb({token:C,factory:C.\u0275fac,providedIn:"root"}),C)},mYbV:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r("ofXK"),s=r("fXoL"),o=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=s.Ob({type:e}),e.\u0275inj=s.Nb({factory:function(t){return new(t||e)},imports:[[n.c]]}),e}()},zAMY:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r("fXoL"),s=r("ofXK");function o(e,t){1&e&&n.Rb(0,"i",3)}function c(e,t){1&e&&n.Rb(0,"i",4)}var i=function(){var e=function(){function e(){_classCallCheck(this,e),this.isExpanded=!1}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Kb({type:e,selectors:[["tm-panel-chevron"]],inputs:{isExpanded:"isExpanded"},decls:3,vars:2,consts:[[1,"chevron"],["class","fas fa-chevron-down",4,"ngIf"],["class","fas fa-chevron-up",4,"ngIf"],[1,"fas","fa-chevron-down"],[1,"fas","fa-chevron-up"]],template:function(e,t){1&e&&(n.Wb(0,"div",0),n.Oc(1,o,1,0,"i",1),n.Oc(2,c,1,0,"i",2),n.Vb()),2&e&&(n.Cb(1),n.sc("ngIf",!t.isExpanded),n.Cb(1),n.sc("ngIf",t.isExpanded))},directives:[s.u],styles:[".chevron[_ngcontent-%COMP%]{display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle}"]}),e}()}}]);