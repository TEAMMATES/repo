{"version":3,"sources":["../../../../../../../src/main/webapp/dev/js/main/instructorStudentList.js"],"names":["triggerAjax","e","$","trigger","checkAllSectionsSelected","length","prop","checkAllTeamsSelected","removeParamInUrl","url","param","indexOfParam","indexOf","indexOfAndSign","urlBeforeParam","substr","urlAfterParamValue","gotoUrlWithParam","value","paramValuePair","includes","window","location","href","urlWithoutParam","filterSection","each","courseIdx","attr","split","sectionIdx","checked","show","hide","filterTeam","idContents","teamIdx","parent","filterEmails","uniqueEmails","elementId","studentId","emailElement","replace","emailText","text","is","applyFilters","checkCourseBinding","remove","bindCollapseEvents","panels","numPanels","i","heading","children","bodyCollapse","css","STUDENT_LIMIT","PERFORMANCE_ISSUE_MESSAGE","numStudents","transportSectionChoices","sectionChoices","append","removeClass","transportTeamChoices","teamChoices","transportEmailChoices","emailChoices","removeAttr","bindPhotos","numStudentsRetrieved","showStudentLimitError","courseCheck","displayIcon","DANGER","html","removeDataToBeTransported","seeMoreRequest","$panelHeading","panelCollapse","toggleChevron","find","panelBody","courseIndex","courseNumStudents","parseInt","val","collapse","addClass","formObject","formData","serialize","preventDefault","ajax","type","beforeSend","error","warningSign","errorMsg","success","data","attachEventToSendInviteLink","on","event","$clickedLink","currentTarget","messageText","okCallback","get","studentEmail","siblings","trim","message","INFO","document","ready","stopImmediatePropagation","urlToGo","$copyEmailButton","$emails","copyEmailPopoverTimeout","click","clearTimeout","tips","popover","placement","content","setTimeout","headings","idx","heads","className","col","index"],"mappings":"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","file":"instructorStudentList.js","sourcesContent":["import {\r\n    BootstrapContextualColors,\r\n} from '../common/const';\r\n\r\nimport {\r\n    attachEventToDeleteStudentLink,\r\n    bindStudentPhotoLink,\r\n    executeCopyCommand,\r\n    prepareInstructorPages,\r\n    selectElementContents,\r\n} from '../common/instructor';\r\n\r\nimport {\r\n    toggleSort,\r\n} from '../common/sortBy';\r\n\r\nimport {\r\n    clearStatusMessages,\r\n    setStatusMessage,\r\n} from '../common/statusMessage';\r\nimport {showModalConfirmation} from \"../common/bootboxWrapper\";\r\n\r\n// Trigger ajax request for a course through clicking the heading\r\nfunction triggerAjax(e) {\r\n    $(e).trigger('click');\r\n}\r\n\r\n/**\r\n * Check if all available sections are selected\r\n */\r\nfunction checkAllSectionsSelected() {\r\n    if ($('input[id^=\"section_check\"]:visible:checked').length === $('input[id^=\"section_check\"]:visible').length) {\r\n        $('#section_all').prop('checked', true);\r\n    } else {\r\n        $('#section_all').prop('checked', false);\r\n    }\r\n}\r\n\r\n/**\r\n * Check if all available teams are selected\r\n */\r\nfunction checkAllTeamsSelected() {\r\n    if ($('input[id^=\"team_check\"]:visible:checked').length === $('input[id^=\"team_check\"]:visible').length) {\r\n        $('#team_all').prop('checked', true);\r\n    } else {\r\n        $('#team_all').prop('checked', false);\r\n    }\r\n}\r\n\r\n/**\r\n * Remove param and its value pair in the given url\r\n * Return the url withour param and value pair\r\n */\r\nfunction removeParamInUrl(url, param) {\r\n    let indexOfParam = url.indexOf(`?${param}`);\r\n    indexOfParam = indexOfParam === -1 ? url.indexOf(`&${param}`) : indexOfParam;\r\n    const indexOfAndSign = url.indexOf('&', indexOfParam + 1);\r\n    const urlBeforeParam = url.substr(0, indexOfParam);\r\n    const urlAfterParamValue = indexOfAndSign === -1 ? '' : url.substr(indexOfAndSign);\r\n    return urlBeforeParam + urlAfterParamValue;\r\n}\r\n\r\n/**\r\n * Go to the url with appended param and value pair\r\n */\r\nfunction gotoUrlWithParam(url, param, value) {\r\n    const paramValuePair = `${param}=${value}`;\r\n    if (!url.includes('?')) {\r\n        window.location.href = `${url}?${paramValuePair}`;\r\n    } else if (!url.includes(param)) {\r\n        window.location.href = `${url}&${paramValuePair}`;\r\n    } else if (url.includes(paramValuePair)) {\r\n        window.location.href = url;\r\n    } else {\r\n        const urlWithoutParam = removeParamInUrl(url, param);\r\n        gotoUrlWithParam(urlWithoutParam, param, value);\r\n    }\r\n}\r\n\r\n/**\r\n * Hide sections that are not selected\r\n */\r\nfunction filterSection() {\r\n    $('input[id^=\"section_check\"]').each(function () {\r\n        const courseIdx = $(this).attr('id').split('-')[1];\r\n        const sectionIdx = $(this).attr('id').split('-')[2];\r\n        if (this.checked) {\r\n            $(`#studentsection-c${courseIdx}\\\\.${sectionIdx}`).show();\r\n        } else {\r\n            $(`#studentsection-c${courseIdx}\\\\.${sectionIdx}`).hide();\r\n        }\r\n    });\r\n}\r\n\r\n/**\r\n * Hide teams that are not selected\r\n */\r\nfunction filterTeam() {\r\n    $('input[id^=\"team_check\"]').each(function () {\r\n        const idContents = $(this).attr('id').split('-');\r\n        const courseIdx = idContents[1];\r\n        const sectionIdx = idContents[2];\r\n        const teamIdx = idContents[3];\r\n        if (this.checked) {\r\n            $(`#studentteam-c${courseIdx}\\\\.${sectionIdx}\\\\.${teamIdx}`).parent().show();\r\n        } else {\r\n            $(`#studentteam-c${courseIdx}\\\\.${sectionIdx}\\\\.${teamIdx}`).parent().hide();\r\n        }\r\n    });\r\n}\r\n\r\n/**\r\n * Hide student email view based on search key\r\n * Uses the hidden attributes of the student_row inside dataTable\r\n */\r\nfunction filterEmails() {\r\n    const uniqueEmails = {};\r\n    $('tr[id^=\"student-c\"]').each(function () {\r\n        const elementId = $(this).attr('id');\r\n        const studentId = elementId.split('-')[1];\r\n        const emailElement = $(`#student_email-${studentId.replace('.', '\\\\.')}`);\r\n        const emailText = emailElement.text();\r\n        if ($(this).is(':hidden') || uniqueEmails[emailText]) {\r\n            emailElement.hide();\r\n        } else {\r\n            uniqueEmails[emailText] = true;\r\n            emailElement.show();\r\n        }\r\n    });\r\n}\r\n\r\n/**\r\n * Apply search filters for course followed by sections, then by teams, lastly by name\r\n * Apply display filter for email\r\n */\r\nfunction applyFilters() {\r\n    $('tr[id^=\"student-c\"]').show();\r\n    filterSection();\r\n    filterTeam();\r\n    filterEmails();\r\n}\r\n\r\n// Binding check for course selection\r\nfunction checkCourseBinding(e) {\r\n    const courseIdx = $(e).attr('id').split('-')[1];\r\n\r\n    // Check/hide all section that is in this course\r\n    if ($(e).prop('checked')) {\r\n        $(`input[id^=\"section_check-${courseIdx}-\"]`).prop('checked', true);\r\n        $(`input[id^=\"section_check-${courseIdx}-\"]`).parent().show();\r\n        $(`input[id^=\"team_check-${courseIdx}-\"]`).prop('checked', true);\r\n        $(`input[id^=\"team_check-${courseIdx}-\"]`).parent().show();\r\n    } else {\r\n        $(`input[id^=\"section_check-${courseIdx}-\"]`).prop('checked', false);\r\n        $(`input[id^=\"section_check-${courseIdx}-\"]`).parent().remove();\r\n        $(`input[id^=\"team_check-${courseIdx}-\"]`).prop('checked', false);\r\n        $(`input[id^=\"team_check-${courseIdx}-\"]`).parent().remove();\r\n        $(`div[id^=\"student_email-c${courseIdx}\"]`).remove();\r\n    }\r\n\r\n    // If all the courses are selected, check the 'Select All' option\r\n    if ($('input[id^=\"course_check\"]:checked').length === $('input[id^=\"course_check\"]').length) {\r\n        $('#course_all').prop('checked', true);\r\n    } else {\r\n        $('#course_all').prop('checked', false);\r\n    }\r\n\r\n    // If none of of the courses are selected, hide the section\"s 'Select All' option\r\n    if ($('input[id^=\"course_check\"]:checked').length === 0) {\r\n        $('#section_all').parent().hide();\r\n        $('#team_all').parent().hide();\r\n        $('#show_email').parent().hide();\r\n    } else {\r\n        $('#section_all').parent().show();\r\n        $('#team_all').parent().show();\r\n        $('#show_email').parent().show();\r\n    }\r\n\r\n    // If all the currently visible sections are selected, check the 'Select All' option\r\n    // This is necessary here because we show/hide the section's 'Select All' previously\r\n    checkAllSectionsSelected();\r\n    checkAllTeamsSelected();\r\n\r\n    applyFilters();\r\n}\r\n\r\nfunction bindCollapseEvents(panels) {\r\n    let numPanels = -1;\r\n    for (let i = 0; i < panels.length; i += 1) {\r\n        const heading = $(panels[i]).children('.panel-heading');\r\n        const bodyCollapse = $(panels[i]).children('.panel-collapse');\r\n        if (heading.length !== 0 && bodyCollapse.length !== 0) {\r\n            numPanels += 1;\r\n            $(heading[0]).attr('data-target', `#panelBodyCollapse-${numPanels}`);\r\n            $(heading[0]).attr('id', `panelHeading-${numPanels}`);\r\n            $(heading[0]).css('cursor', 'pointer');\r\n            $(bodyCollapse[0]).attr('id', `panelBodyCollapse-${numPanels}`);\r\n        }\r\n    }\r\n}\r\n\r\nconst STUDENT_LIMIT = 3000;\r\nconst PERFORMANCE_ISSUE_MESSAGE = `Due to performance issue, it is not allowed to show more than ${STUDENT_LIMIT}`\r\n        + ' students. Please deselect some courses to view student list of other courses.';\r\nlet numStudents = 0;\r\n\r\nfunction transportSectionChoices() {\r\n    const sectionChoices = $('.section-to-be-transported');\r\n    sectionChoices.remove();\r\n    $('#sectionChoices').append(sectionChoices);\r\n    sectionChoices.removeClass('section-to-be-transported');\r\n}\r\n\r\nfunction transportTeamChoices() {\r\n    const teamChoices = $('.team-to-be-transported');\r\n    teamChoices.remove();\r\n    $('#teamChoices').append(teamChoices);\r\n    teamChoices.removeClass('team-to-be-transported');\r\n}\r\n\r\nfunction transportEmailChoices() {\r\n    const emailChoices = $('.email-to-be-transported');\r\n    emailChoices.remove();\r\n    $('#emails').append(emailChoices);\r\n    emailChoices.removeAttr('class'); // the email divs have no other class\r\n}\r\n\r\nfunction bindPhotos(courseIdx) {\r\n    $(`td[id^=\"studentphoto-c${courseIdx}\"]`).each(function () {\r\n        bindStudentPhotoLink($(this).children('.profile-pic-icon-click').children('.student-profile-pic-view-link'));\r\n    });\r\n}\r\n\r\nfunction numStudentsRetrieved() {\r\n    const emailChoices = $('.email-to-be-transported');\r\n    return emailChoices.length;\r\n}\r\n\r\nfunction showStudentLimitError(courseCheck, displayIcon) {\r\n    courseCheck.prop('checked', false);\r\n    setStatusMessage(PERFORMANCE_ISSUE_MESSAGE, BootstrapContextualColors.DANGER);\r\n    displayIcon.html('');\r\n}\r\n\r\nfunction removeDataToBeTransported() {\r\n    const sectionChoices = $('.section-to-be-transported');\r\n    sectionChoices.remove();\r\n    const teamChoices = $('.team-to-be-transported');\r\n    teamChoices.remove();\r\n    const emailChoices = $('.email-to-be-transported');\r\n    emailChoices.remove();\r\n}\r\n\r\nconst seeMoreRequest = function (e) {\r\n    const $panelHeading = $(this);\r\n    const panelCollapse = $panelHeading.parent().children('.panel-collapse');\r\n    const toggleChevron = $panelHeading.parent().find('.glyphicon-chevron-down, .glyphicon-chevron-up');\r\n    const panelBody = $(panelCollapse[0]).children('.panel-body');\r\n    const displayIcon = $panelHeading.children('.display-icon');\r\n    const courseIndex = $(panelCollapse[0]).attr('id').split('-')[1];\r\n    const courseCheck = $(`#course_check-${courseIndex}`);\r\n    let courseNumStudents = parseInt($(`#numStudents-${courseIndex}`).val(), 10);\r\n\r\n    if ($panelHeading.attr('class').indexOf('ajax_submit') === -1) {\r\n        clearStatusMessages();\r\n        if ($(panelCollapse[0]).attr('class').indexOf('checked') === -1) {\r\n            $(panelCollapse).collapse('show');\r\n            $(panelCollapse[0]).addClass('checked');\r\n            $(courseCheck).prop('checked', true);\r\n        } else {\r\n            $(panelCollapse[0]).collapse('hide');\r\n            $panelHeading.addClass('ajax_submit');\r\n            $(panelBody[0]).html('');\r\n            $(panelCollapse[0]).removeClass('checked');\r\n            $(courseCheck).prop('checked', false);\r\n            numStudents -= courseNumStudents;\r\n        }\r\n        checkCourseBinding(courseCheck);\r\n    } else if (numStudents < STUDENT_LIMIT) {\r\n        clearStatusMessages();\r\n        const formObject = $panelHeading.children('form');\r\n        const courseIdx = $(formObject[0]).attr('class').split('-')[1];\r\n        const formData = formObject.serialize();\r\n        e.preventDefault();\r\n        if (displayIcon.html().indexOf('img') === -1) {\r\n            $.ajax({\r\n                type: 'POST',\r\n                url: `${$(formObject[0]).attr('action')}?${formData}&courseidx=${courseIdx}`,\r\n                beforeSend() {\r\n                    displayIcon.html('<img height=\"25\" width=\"25\" src=\"/images/ajax-preload.gif\">');\r\n                },\r\n                error() {\r\n                    const warningSign = '<span class=\"glyphicon glyphicon-warning-sign\"></span>';\r\n                    let errorMsg = '[ Failed to load. Click here to retry. ]';\r\n                    errorMsg = `<strong style=\"margin-left: 1em; margin-right: 1em;\">${errorMsg}</strong>`;\r\n                    displayIcon.html(warningSign + errorMsg);\r\n                },\r\n                success(data) {\r\n                    $(panelBody[0]).html(data);\r\n\r\n                    // Count number of students retrieved\r\n                    courseNumStudents = numStudentsRetrieved();\r\n                    $(`#numStudents-${courseIdx}`).val(courseNumStudents);\r\n\r\n                    // If number of students shown is already more than the limit\r\n                    // Do not show more, even if we can retrieve it, as browser will lag.\r\n                    if (numStudents >= STUDENT_LIMIT) {\r\n                        showStudentLimitError(courseCheck, displayIcon);\r\n                        removeDataToBeTransported();\r\n                        return;\r\n                    }\r\n\r\n                    // Show newly retrieved students\r\n                    numStudents += courseNumStudents;\r\n                    transportSectionChoices();\r\n                    transportTeamChoices();\r\n                    transportEmailChoices();\r\n                    bindPhotos(courseIdx);\r\n\r\n                    $panelHeading.removeClass('ajax_submit');\r\n                    displayIcon.html('');\r\n                    if ($(panelCollapse[0]).attr('class').indexOf('in') === -1) {\r\n                        $panelHeading.trigger('click');\r\n                    }\r\n                },\r\n            });\r\n        }\r\n    } else {\r\n        // Do not make ajax call if students shown already above limit\r\n        showStudentLimitError(courseCheck, displayIcon);\r\n    }\r\n\r\n    if ($(panelCollapse).attr('class').indexOf('checked') === -1) {\r\n        $(toggleChevron).addClass('glyphicon-chevron-down').removeClass('glyphicon-chevron-up');\r\n    } else {\r\n        $(toggleChevron).addClass('glyphicon-chevron-up').removeClass('glyphicon-chevron-down');\r\n    }\r\n};\r\n\r\nfunction attachEventToSendInviteLink() {\r\n    $('.course-student-remind-link').on('click', (event) => {\r\n        event.preventDefault();\r\n\r\n        const $clickedLink = $(event.currentTarget);\r\n        const messageText = 'Usually, there is no need to use this feature because TEAMMATES sends an automatic '\r\n                + 'invite to students at the opening time of each session. Send a join request anyway?';\r\n        const okCallback = function okCallback() {\r\n            $.get($clickedLink.attr('href'), () => {\r\n                const studentEmail = $clickedLink.parent().siblings(\"td[id|='studentemail']\").html().trim();\r\n                const message = `An email has been sent to ${studentEmail}`;\r\n                setStatusMessage(message, 'success');\r\n            });\r\n        };\r\n\r\n        showModalConfirmation('Confirm sending join request', messageText, okCallback, null,\r\n                null, null, BootstrapContextualColors.INFO);\r\n    });\r\n}\r\n\r\n$(document).ready(() => {\r\n    prepareInstructorPages();\r\n    attachEventToDeleteStudentLink();\r\n    attachEventToSendInviteLink();\r\n\r\n    $('a[id^=\"enroll-\"]').on('click', function (e) {\r\n        e.stopImmediatePropagation(); // not executing click event for parent elements\r\n        window.location = $(this).attr('href');\r\n        return false;\r\n    });\r\n\r\n    const panels = $('div.panel');\r\n\r\n    bindCollapseEvents(panels);\r\n\r\n    // Binding for \"Display Archived Courses\" check box.\r\n    $('#displayArchivedCourses_check').on('change', function () {\r\n        const urlToGo = $(window.location).attr('href');\r\n        if (this.checked) {\r\n            gotoUrlWithParam(urlToGo, 'displayarchive', 'true');\r\n        } else {\r\n            gotoUrlWithParam(urlToGo, 'displayarchive', 'false');\r\n        }\r\n    });\r\n\r\n    // Binding for 'Show Emails' check box.\r\n    $('#show_email').on('change', function () {\r\n        const $copyEmailButton = $('#copy-email-button');\r\n        const $emails = $('#emails');\r\n\r\n        if (this.checked) {\r\n            $emails.show();\r\n            $copyEmailButton.show();\r\n        } else {\r\n            $emails.hide();\r\n            $copyEmailButton.hide();\r\n        }\r\n\r\n        filterEmails();\r\n    });\r\n\r\n    // Binding for copy email button\r\n    let copyEmailPopoverTimeout;\r\n    $('#copy-email-button').click(function (e) {\r\n        e.preventDefault();\r\n        clearTimeout(copyEmailPopoverTimeout);\r\n        const $copyEmailButton = $(this);\r\n        const tips = 'Emails now are copied. If it doesn\\'t work, you can also use <kbd>Ctrl + C</kbd> to COPY.<br>'\r\n                   + 'You may use <kbd>Ctrl + V</kbd> to PASTE to your email client. <br>'\r\n                   + '<small class=\"text-muted\">This message will disappear in 10 seconds</small>';\r\n\r\n        $copyEmailButton\r\n                .popover('destroy')\r\n                .popover({\r\n                    html: true,\r\n                    trigger: 'manual',\r\n                    placement: 'top',\r\n                    content() {\r\n                        return tips;\r\n                    },\r\n                })\r\n                .popover('show');\r\n\r\n        selectElementContents($('#emails').get(0));\r\n        executeCopyCommand();\r\n\r\n        copyEmailPopoverTimeout = setTimeout(() => {\r\n            $copyEmailButton.popover('destroy');\r\n        }, 10000); // popover will disappear in 10 seconds\r\n    });\r\n\r\n    // Binding for changes in the Courses checkboxes.\r\n    $('input[id^=\"course_check\"]').on('change', function () {\r\n        const courseIdx = $(this).attr('id').split('-')[1];\r\n        const heading = $(`#panelHeading-${courseIdx}`);\r\n        // Check/hide all section that is in this course\r\n        heading.trigger('click');\r\n    });\r\n\r\n    // Binding for Sections checkboxes\r\n    $(document).on('change', '.section_check', function () {\r\n        const courseIdx = $(this).attr('id').split('-')[1];\r\n        const sectionIdx = $(this).attr('id').split('-')[2];\r\n\r\n        // Check/hide all teams that is in this section\r\n        if (this.checked) {\r\n            $(`input[id^=\"team_check-${courseIdx}-${sectionIdx}-\"]`).prop('checked', true);\r\n            $(`input[id^=\"team_check-${courseIdx}-${sectionIdx}-\"]`).parent().show();\r\n        } else {\r\n            $(`input[id^=\"team_check-${courseIdx}-${sectionIdx}-\"]`).prop('checked', false);\r\n            $(`input[id^=\"team_check-${courseIdx}-${sectionIdx}-\"]`).parent().hide();\r\n        }\r\n\r\n        // If none of of the sections are selected, hide the team's 'Select All' option\r\n        if ($('input[id^=\"section_check\"]:checked').length === 0) {\r\n            $('#team_all').parent().hide();\r\n            $('#show_email').parent().hide();\r\n        } else {\r\n            $('#team_all').parent().show();\r\n            $('#show_email').parent().show();\r\n        }\r\n\r\n        // If all the currently visible sections are selected, check the \"Select All\" option\r\n        checkAllSectionsSelected();\r\n\r\n        // If all the currently visible teams are selected, check the \"Select All\" option\r\n        // This is necessary here because we show/hide the teams's \"Select All\" previously\r\n        checkAllTeamsSelected();\r\n\r\n        applyFilters();\r\n    });\r\n\r\n    // Binding for Teams checkboxes.\r\n    $(document).on('change', '.team_check', () => {\r\n        if ($('input[id^=\"team_check\"]:checked').length === 0) {\r\n            $('#show_email').parent().hide();\r\n        } else {\r\n            $('#show_email').parent().show();\r\n        }\r\n\r\n        // If all the currently visible teams are selected, check the \"Select All\" option\r\n        checkAllTeamsSelected();\r\n        applyFilters();\r\n    });\r\n\r\n    // Binding for 'Select All' course option\r\n    $('#course_all').on('change', function () {\r\n        if (this.checked) {\r\n            $('#section_all').prop('checked', true);\r\n            $('#section_all').parent().show();\r\n            $('#team_all').prop('checked', true);\r\n            $('#team_all').parent().show();\r\n            $('#show_email').parent().show();\r\n            $('input[id^=\"course_check\"]').prop('checked', true);\r\n            $('input[id^=\"section_check-\"]').prop('checked', true);\r\n            $('input[id^=\"section_check-\"]').parent().show();\r\n            $('input[id^=\"team_check-\"]').prop('checked', true);\r\n            $('input[id^=\"team_check-\"]').parent().show();\r\n            const headings = $('.ajax_submit');\r\n            for (let idx = 0; idx < headings.length; idx += 1) {\r\n                setTimeout(triggerAjax, 400 * idx, headings[idx]);\r\n            }\r\n        } else {\r\n            $('#section_all').prop('checked', false);\r\n            $('#section_all').parent().hide();\r\n            $('#team_all').prop('checked', false);\r\n            $('#team_all').parent().hide();\r\n            $('#show_email').parent().hide();\r\n            $('input[id^=\"section_check-\"]').prop('checked', false);\r\n            $('input[id^=\"section_check-\"]').parent().remove();\r\n            $('input[id^=\"course_check\"]').prop('checked', false);\r\n            $('input[id^=\"team_check-\"]').prop('checked', false);\r\n            $('input[id^=\"team_check-\"]').parent().remove();\r\n            const heads = $('.panel-heading');\r\n            for (let i = 0; i < heads.length; i += 1) {\r\n                const className = $(heads[i]).attr('class');\r\n                if (className.indexOf('ajax_submit') === -1) {\r\n                    $(heads[i]).trigger('click');\r\n                }\r\n            }\r\n        }\r\n        applyFilters();\r\n    });\r\n\r\n    // Binding for \"Select All\" section option\r\n    $('#section_all').on('change', function () {\r\n        if (this.checked) {\r\n            $('#team_all').prop('checked', true);\r\n            $('#team_all').parent().show();\r\n            $('#show_email').parent().show();\r\n            $('input[id^=\"section_check-\"]').prop('checked', true);\r\n            $('input[id^=\"team_check-\"]').prop('checked', true);\r\n            $('input[id^=\"team_check-\"]').parent().show();\r\n        } else {\r\n            $('#team_all').prop('checked', false);\r\n            $('#team_all').parent().hide();\r\n            $('#show_email').parent().hide();\r\n            $('input[id^=\"section_check-\"]').prop('checked', false);\r\n            $('input[id^=\"team_check-\"]').prop('checked', false);\r\n            $('input[id^=\"team_check-\"]').parent().hide();\r\n        }\r\n        applyFilters();\r\n    });\r\n\r\n    // Binding for 'Select All' team option\r\n    $('#team_all').on('change', function () {\r\n        $('input[id^=\"team_check\"]:visible').prop('checked', this.checked);\r\n        applyFilters();\r\n    });\r\n\r\n    // Pre-sort each table\r\n    $('th[id^=\"button_sortsection-\"]').each(function () {\r\n        toggleSort($(this));\r\n    });\r\n\r\n    $('th[id^=\"button_sortteam-\"]').each(function () {\r\n        const col = $(this).parent().children().index($(this));\r\n        if (col === 0) {\r\n            toggleSort($(this));\r\n        }\r\n    });\r\n\r\n    $('.ajax_submit').click(seeMoreRequest);\r\n});\r\n"]}